<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Heap</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="29" class="Keyword">open</a> <a id="34" class="Keyword">import</a> <a id="41" href="Prelude.html" class="Module">Prelude</a>

<a id="50" class="Keyword">module</a> <a id="57" href="Data.Heap.html" class="Module">Data.Heap</a> <a id="67" class="Symbol">{</a><a id="68" href="Data.Heap.html#68" class="Bound">ℓ₁</a><a id="70" class="Symbol">}</a> <a id="72" class="Symbol">{</a><a id="73" href="Data.Heap.html#73" class="Bound">Key</a> <a id="77" class="Symbol">:</a> <a id="79" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="84" href="Data.Heap.html#68" class="Bound">ℓ₁</a><a id="86" class="Symbol">}</a> <a id="88" class="Symbol">{</a><a id="89" href="Data.Heap.html#89" class="Bound">ℓ₂</a> <a id="92" href="Data.Heap.html#92" class="Bound">ℓ₃</a><a id="94" class="Symbol">}</a> <a id="96" class="Symbol">(</a><a id="97" href="Data.Heap.html#97" class="Bound">ord</a> <a id="101" class="Symbol">:</a> <a id="103" href="Relation.Binary.html#2641" class="Record">TotalOrder</a> <a id="114" href="Data.Heap.html#73" class="Bound">Key</a> <a id="118" href="Data.Heap.html#89" class="Bound">ℓ₂</a> <a id="121" href="Data.Heap.html#92" class="Bound">ℓ₃</a><a id="123" class="Symbol">)</a> <a id="125" class="Keyword">where</a>

<a id="132" class="Keyword">open</a> <a id="137" class="Keyword">import</a> <a id="144" href="Data.List.html" class="Module">Data.List</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Data.Maybe.html" class="Module">Data.Maybe</a>

<a id="178" class="Keyword">open</a> <a id="183" class="Keyword">import</a> <a id="190" href="Relation.Binary.Construct.LowerBound.html" class="Module">Relation.Binary.Construct.LowerBound</a> <a id="227" href="Data.Heap.html#97" class="Bound">ord</a>

<a id="232" class="Keyword">open</a> <a id="237" href="Relation.Binary.html#2641" class="Module">TotalOrder</a> <a id="248" href="Data.Heap.html#97" class="Bound">ord</a> <a id="252" class="Keyword">using</a> <a id="258" class="Symbol">(</a><a id="259" href="Relation.Binary.html#3589" class="Function Operator">_≤|≥_</a><a id="264" class="Symbol">)</a>
<a id="266" class="Keyword">open</a> <a id="271" href="Relation.Binary.html#2641" class="Module">TotalOrder</a> <a id="282" href="Relation.Binary.Construct.LowerBound.html#2140" class="Function">lb-ord</a> <a id="289" class="Keyword">hiding</a> <a id="296" class="Symbol">(</a><a id="297" href="Relation.Binary.html#3589" class="Function Operator">_≤|≥_</a><a id="302" class="Symbol">)</a>

<a id="305" class="Keyword">private</a>
  <a id="315" class="Keyword">variable</a>
    <a id="328" href="Data.Heap.html#328" class="Generalizable">u</a> <a id="330" href="Data.Heap.html#330" class="Generalizable">v</a> <a id="332" class="Symbol">:</a> <a id="334" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="344" href="Data.Heap.html#344" class="Generalizable">U</a> <a id="346" class="Symbol">:</a> <a id="348" href="Data.Heap.html#73" class="Bound">Key</a> <a id="352" class="Symbol">→</a> <a id="354" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="359" href="Data.Heap.html#328" class="Generalizable">u</a>
    <a id="365" href="Data.Heap.html#365" class="Generalizable">V</a> <a id="367" class="Symbol">:</a> <a id="369" href="Data.Heap.html#73" class="Bound">Key</a> <a id="373" class="Symbol">→</a> <a id="375" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="380" href="Data.Heap.html#330" class="Generalizable">v</a>

<a id="383" class="Keyword">record</a> <a id="Heap⁺"></a><a id="390" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="396" class="Symbol">{</a><a id="397" href="Data.Heap.html#397" class="Bound">v</a><a id="398" class="Symbol">}</a> <a id="400" class="Symbol">(</a><a id="401" href="Data.Heap.html#401" class="Bound">lb</a> <a id="404" class="Symbol">:</a> <a id="406" href="Relation.Binary.Construct.LowerBound.html#345" class="Datatype">⌊∙⌋</a><a id="409" class="Symbol">)</a> <a id="411" class="Symbol">(</a><a id="412" href="Data.Heap.html#412" class="Bound">V</a> <a id="414" class="Symbol">:</a> <a id="416" href="Data.Heap.html#73" class="Bound">Key</a> <a id="420" class="Symbol">→</a> <a id="422" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="427" href="Data.Heap.html#397" class="Bound">v</a><a id="428" class="Symbol">)</a> <a id="430" class="Symbol">:</a> <a id="432" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="437" class="Symbol">(</a><a id="438" href="Data.Heap.html#397" class="Bound">v</a> <a id="440" href="Agda.Primitive.html#810" class="Primitive Operator">ℓ⊔</a> <a id="443" href="Data.Heap.html#68" class="Bound">ℓ₁</a> <a id="446" href="Agda.Primitive.html#810" class="Primitive Operator">ℓ⊔</a> <a id="449" href="Data.Heap.html#92" class="Bound">ℓ₃</a><a id="451" class="Symbol">)</a> <a id="453" class="Keyword">where</a>
  <a id="461" class="Keyword">inductive</a><a id="470" class="Symbol">;</a> <a id="472" class="Keyword">pattern</a><a id="479" class="Symbol">;</a> <a id="481" class="Keyword">constructor</a> <a id="node"></a><a id="493" href="Data.Heap.html#493" class="InductiveConstructor">node</a>
  <a id="500" class="Keyword">field</a>
    <a id="Heap⁺.key"></a><a id="510" href="Data.Heap.html#510" class="Field">key</a> <a id="514" class="Symbol">:</a> <a id="516" href="Data.Heap.html#73" class="Bound">Key</a>
    <a id="Heap⁺.val"></a><a id="524" href="Data.Heap.html#524" class="Field">val</a> <a id="528" class="Symbol">:</a> <a id="530" href="Data.Heap.html#412" class="Bound">V</a> <a id="532" href="Data.Heap.html#510" class="Field">key</a>
    <a id="Heap⁺.bnd"></a><a id="540" href="Data.Heap.html#540" class="Field">bnd</a> <a id="544" class="Symbol">:</a> <a id="546" href="Data.Heap.html#401" class="Bound">lb</a> <a id="549" href="Relation.Binary.html#1562" class="Function Operator">≤</a> <a id="551" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="553" href="Data.Heap.html#510" class="Field">key</a> <a id="557" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a>
    <a id="Heap⁺.rst"></a><a id="563" href="Data.Heap.html#563" class="Field">rst</a> <a id="567" class="Symbol">:</a> <a id="569" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="574" class="Symbol">(</a><a id="575" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="581" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="583" href="Data.Heap.html#510" class="Field">key</a> <a id="587" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a> <a id="589" href="Data.Heap.html#412" class="Bound">V</a><a id="590" class="Symbol">)</a>
<a id="592" class="Keyword">open</a> <a id="597" href="Data.Heap.html#390" class="Module">Heap⁺</a> <a id="603" class="Keyword">public</a>

<a id="611" class="Keyword">private</a> <a id="619" class="Keyword">variable</a> <a id="628" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="631" class="Symbol">:</a> <a id="633" href="Relation.Binary.Construct.LowerBound.html#345" class="Datatype">⌊∙⌋</a>

<a id="_∪_"></a><a id="638" href="Data.Heap.html#638" class="Function Operator">_∪_</a> <a id="642" class="Symbol">:</a> <a id="644" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="650" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="653" href="Data.Heap.html#365" class="Generalizable">V</a> <a id="655" class="Symbol">→</a> <a id="657" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="663" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="666" href="Data.Heap.html#365" class="Generalizable">V</a> <a id="668" class="Symbol">→</a> <a id="670" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="676" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="679" href="Data.Heap.html#365" class="Generalizable">V</a>
<a id="681" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="686" href="Data.Heap.html#686" class="Bound">kˣ</a> <a id="689" href="Data.Heap.html#689" class="Bound">vˣ</a> <a id="692" href="Data.Heap.html#692" class="Bound">bˣ</a> <a id="695" href="Data.Heap.html#695" class="Bound">rˣ</a> <a id="698" href="Data.Heap.html#638" class="Function Operator">∪</a> <a id="700" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="705" href="Data.Heap.html#705" class="Bound">kʸ</a> <a id="708" href="Data.Heap.html#708" class="Bound">vʸ</a> <a id="711" href="Data.Heap.html#711" class="Bound">bʸ</a> <a id="714" href="Data.Heap.html#714" class="Bound">rʸ</a> <a id="717" class="Keyword">with</a> <a id="722" href="Data.Heap.html#686" class="Bound">kˣ</a> <a id="725" href="Relation.Binary.html#3589" class="Function Operator">≤|≥</a> <a id="729" href="Data.Heap.html#705" class="Bound">kʸ</a>
<a id="732" class="Symbol">...</a> <a id="736" class="Symbol">|</a> <a id="738" href="Data.Sum.html#226" class="InductiveConstructor">inl</a> <a id="742" href="Data.Heap.html#742" class="Bound">x≤y</a> <a id="746" class="Symbol">=</a> <a id="748" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="753" class="Bound">kˣ</a> <a id="756" class="Bound">vˣ</a> <a id="759" class="Bound">bˣ</a> <a id="762" class="Symbol">(</a><a id="763" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="768" class="Bound">kʸ</a> <a id="771" class="Bound">vʸ</a> <a id="774" href="Data.Heap.html#742" class="Bound">x≤y</a> <a id="778" class="Bound">rʸ</a> <a id="781" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="783" class="Bound">rˣ</a><a id="785" class="Symbol">)</a>
<a id="787" class="Symbol">...</a> <a id="791" class="Symbol">|</a> <a id="793" href="Data.Sum.html#244" class="InductiveConstructor">inr</a> <a id="797" href="Data.Heap.html#797" class="Bound">y≤x</a> <a id="801" class="Symbol">=</a> <a id="803" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="808" class="Bound">kʸ</a> <a id="811" class="Bound">vʸ</a> <a id="814" class="Bound">bʸ</a> <a id="817" class="Symbol">(</a><a id="818" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="823" class="Bound">kˣ</a> <a id="826" class="Bound">vˣ</a> <a id="829" href="Data.Heap.html#797" class="Bound">y≤x</a> <a id="833" class="Bound">rˣ</a> <a id="836" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="838" class="Bound">rʸ</a><a id="840" class="Symbol">)</a>

<a id="merge⁺"></a><a id="843" href="Data.Heap.html#843" class="Function">merge⁺</a> <a id="850" class="Symbol">:</a> <a id="852" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="858" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="861" href="Data.Heap.html#365" class="Generalizable">V</a> <a id="863" class="Symbol">→</a> <a id="865" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="870" class="Symbol">(</a><a id="871" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="877" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="880" href="Data.Heap.html#365" class="Generalizable">V</a><a id="881" class="Symbol">)</a> <a id="883" class="Symbol">→</a> <a id="885" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="891" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="894" href="Data.Heap.html#365" class="Generalizable">V</a>
<a id="896" href="Data.Heap.html#843" class="Function">merge⁺</a> <a id="903" href="Data.Heap.html#903" class="Bound">x</a> <a id="905" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="908" class="Symbol">=</a> <a id="910" href="Data.Heap.html#903" class="Bound">x</a>
<a id="912" href="Data.Heap.html#843" class="Function">merge⁺</a> <a id="919" href="Data.Heap.html#919" class="Bound">x₁</a> <a id="922" class="Symbol">(</a><a id="923" href="Data.Heap.html#923" class="Bound">x₂</a> <a id="926" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="928" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="930" class="Symbol">)</a> <a id="932" class="Symbol">=</a> <a id="934" href="Data.Heap.html#919" class="Bound">x₁</a> <a id="937" href="Data.Heap.html#638" class="Function Operator">∪</a> <a id="939" href="Data.Heap.html#923" class="Bound">x₂</a>
<a id="942" href="Data.Heap.html#843" class="Function">merge⁺</a> <a id="949" href="Data.Heap.html#949" class="Bound">x₁</a> <a id="952" class="Symbol">(</a><a id="953" href="Data.Heap.html#953" class="Bound">x₂</a> <a id="956" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="958" href="Data.Heap.html#958" class="Bound">x₃</a> <a id="961" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="963" href="Data.Heap.html#963" class="Bound">xs</a><a id="965" class="Symbol">)</a> <a id="967" class="Symbol">=</a> <a id="969" class="Symbol">(</a><a id="970" href="Data.Heap.html#949" class="Bound">x₁</a> <a id="973" href="Data.Heap.html#638" class="Function Operator">∪</a> <a id="975" href="Data.Heap.html#953" class="Bound">x₂</a><a id="977" class="Symbol">)</a> <a id="979" href="Data.Heap.html#638" class="Function Operator">∪</a> <a id="981" href="Data.Heap.html#843" class="Function">merge⁺</a> <a id="988" href="Data.Heap.html#958" class="Bound">x₃</a> <a id="991" href="Data.Heap.html#963" class="Bound">xs</a>

<a id="merge"></a><a id="995" href="Data.Heap.html#995" class="Function">merge</a> <a id="1001" class="Symbol">:</a> <a id="1003" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="1015" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="1018" href="Data.Heap.html#365" class="Generalizable">V</a><a id="1019" class="Symbol">)</a> <a id="1021" class="Symbol">→</a> <a id="1023" href="Data.Maybe.Base.html#91" class="Datatype">Maybe</a> <a id="1029" class="Symbol">(</a><a id="1030" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="1036" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="1039" href="Data.Heap.html#365" class="Generalizable">V</a><a id="1040" class="Symbol">)</a>
<a id="1042" href="Data.Heap.html#995" class="Function">merge</a> <a id="1048" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1051" class="Symbol">=</a> <a id="1053" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a>
<a id="1061" href="Data.Heap.html#995" class="Function">merge</a> <a id="1067" class="Symbol">(</a><a id="1068" href="Data.Heap.html#1068" class="Bound">x</a> <a id="1070" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1072" href="Data.Heap.html#1072" class="Bound">xs</a><a id="1074" class="Symbol">)</a> <a id="1076" class="Symbol">=</a> <a id="1078" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="1083" class="Symbol">(</a><a id="1084" href="Data.Heap.html#843" class="Function">merge⁺</a> <a id="1091" href="Data.Heap.html#1068" class="Bound">x</a> <a id="1093" href="Data.Heap.html#1072" class="Bound">xs</a><a id="1095" class="Symbol">)</a>

<a id="popMin⁺"></a><a id="1098" href="Data.Heap.html#1098" class="Function">popMin⁺</a> <a id="1106" class="Symbol">:</a> <a id="1108" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="1114" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="1117" href="Data.Heap.html#365" class="Generalizable">V</a> <a id="1119" class="Symbol">→</a> <a id="1121" href="Data.Sigma.Base.html#173" class="Function">∃</a> <a id="1123" href="Data.Heap.html#1123" class="Bound">k</a> <a id="1125" href="Data.Sigma.Base.html#173" class="Function">×</a> <a id="1127" href="Data.Heap.html#365" class="Generalizable">V</a> <a id="1129" href="Data.Heap.html#1123" class="Bound">k</a> <a id="1131" href="Data.Sigma.Base.html#455" class="Function Operator">×</a> <a id="1133" class="Symbol">(</a><a id="1134" href="Data.Heap.html#628" class="Generalizable">lb</a> <a id="1137" href="Relation.Binary.html#1562" class="Function Operator">≤</a> <a id="1139" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="1141" href="Data.Heap.html#1123" class="Bound">k</a> <a id="1143" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a><a id="1144" class="Symbol">)</a> <a id="1146" href="Data.Sigma.Base.html#455" class="Function Operator">×</a> <a id="1148" href="Data.Maybe.Base.html#91" class="Datatype">Maybe</a> <a id="1154" class="Symbol">(</a><a id="1155" href="Data.Heap.html#390" class="Record">Heap⁺</a> <a id="1161" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="1163" href="Data.Heap.html#1123" class="Bound">k</a> <a id="1165" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a> <a id="1167" href="Data.Heap.html#365" class="Generalizable">V</a><a id="1168" class="Symbol">)</a>
<a id="1170" href="Data.Heap.html#1098" class="Function">popMin⁺</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Data.Heap.html#493" class="InductiveConstructor">node</a> <a id="1184" href="Data.Heap.html#1184" class="Bound">k</a> <a id="1186" href="Data.Heap.html#1186" class="Bound">v</a> <a id="1188" href="Data.Heap.html#1188" class="Bound">b</a> <a id="1190" href="Data.Heap.html#1190" class="Bound">r</a><a id="1191" class="Symbol">)</a> <a id="1193" class="Symbol">=</a> <a id="1195" href="Data.Heap.html#1184" class="Bound">k</a> <a id="1197" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1199" href="Data.Heap.html#1186" class="Bound">v</a> <a id="1201" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1203" href="Data.Heap.html#1188" class="Bound">b</a> <a id="1205" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1207" href="Data.Heap.html#995" class="Function">merge</a> <a id="1213" href="Data.Heap.html#1190" class="Bound">r</a>
</pre></body></html>