<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Control.Monad.Free.Quotiented.Containers</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--allow-unsolved-metas</a> <a id="36" class="Symbol">#-}</a>

<a id="41" class="Keyword">module</a> <a id="48" href="Control.Monad.Free.Quotiented.Containers.html" class="Module">Control.Monad.Free.Quotiented.Containers</a> <a id="89" class="Keyword">where</a>

<a id="96" class="Keyword">open</a> <a id="101" class="Keyword">import</a> <a id="108" href="Prelude.html" class="Module">Prelude</a>
<a id="116" class="Keyword">open</a> <a id="121" class="Keyword">import</a> <a id="128" href="Container.html" class="Module">Container</a>
<a id="138" class="Keyword">open</a> <a id="143" class="Keyword">import</a> <a id="150" href="HITs.SetQuotients.html" class="Module">HITs.SetQuotients</a>

<a id="169" class="Comment">-- data Syntax (F : Container ℓzero ℓzero) (A : Type) : Type where</a>
<a id="236" class="Comment">--   return : A → Syntax  A</a>
<a id="264" class="Comment">--   op : ⟦ F ⟧ (Syntax  A) → Syntax  A</a>

<a id="305" class="Comment">-- Free : (F : Container ℓzero ℓzero) (_~_ : ∀ {X} → Syntax  X → Syntax  X → Type) (A : Type)  → Type</a>
<a id="407" class="Comment">-- Free _~_ A = Syntax  A / _~_</a>

<a id="440" class="Comment">-- private</a>
<a id="451" class="Comment">--   variable</a>
<a id="465" class="Comment">--     F G : Container ℓzero ℓzero</a>
<a id="500" class="Comment">--     _~_ : ∀ {X} → Syntax  X → Syntax  X → Type</a>

<a id="551" class="Comment">-- smap : (A → B) → Syntax  A → Syntax  B</a>
<a id="593" class="Comment">-- smap f (return x) = return (f x)</a>
<a id="629" class="Comment">-- smap f (op x) = op (cmap (smap f) x)</a>

<a id="670" class="Comment">-- module _ {_~_ : ∀ {X} → Syntax  X → Syntax  X → Type} where</a>
<a id="733" class="Comment">--   fmap : (A → B) → Free _~_ A → Free _~_ B</a>
<a id="779" class="Comment">--   fmap f = rec squash/ ([_] ∘ smap f) {!!}</a>

<a id="826" class="Comment">--   module _ {A : Type} where</a>
<a id="857" class="Comment">--     join : Free _~_ (Free _~_ A) → Free _~_ A</a>
<a id="906" class="Comment">--     join = rec squash/ ϕ {!!}</a>
<a id="939" class="Comment">--       where</a>
<a id="954" class="Comment">--         ϕ : Syntax  (Free _~_ A) → Free _~_ A</a>
<a id="1003" class="Comment">--         ϕ (return x) = x</a>
<a id="1031" class="Comment">--         ϕ (op x)     = {!!}</a>

<a id="1063" class="Keyword">data</a> <a id="Syntax"></a><a id="1068" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1075" class="Symbol">(</a><a id="1076" href="Control.Monad.Free.Quotiented.Containers.html#1076" class="Bound">A</a> <a id="1078" class="Symbol">:</a> <a id="1080" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="1084" class="Symbol">)</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1093" class="Keyword">where</a>
  <a id="Syntax.return"></a><a id="1101" href="Control.Monad.Free.Quotiented.Containers.html#1101" class="InductiveConstructor">return</a> <a id="1108" class="Symbol">:</a> <a id="1110" href="Control.Monad.Free.Quotiented.Containers.html#1076" class="Bound">A</a> <a id="1112" class="Symbol">→</a> <a id="1114" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1121" href="Control.Monad.Free.Quotiented.Containers.html#1076" class="Bound">A</a>
  <a id="Syntax.op"></a><a id="1125" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1128" class="Symbol">:</a> <a id="1130" class="Symbol">(</a><a id="1131" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1145" href="Control.Monad.Free.Quotiented.Containers.html#1076" class="Bound">A</a><a id="1146" class="Symbol">)</a> <a id="1148" class="Symbol">→</a> <a id="1150" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1157" href="Control.Monad.Free.Quotiented.Containers.html#1076" class="Bound">A</a>

<a id="Free"></a><a id="1160" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="1165" class="Symbol">:</a> <a id="1167" class="Symbol">(</a><a id="1168" href="Control.Monad.Free.Quotiented.Containers.html#1168" class="Bound Operator">_~_</a> <a id="1172" class="Symbol">:</a> <a id="1174" class="Symbol">∀</a> <a id="1176" class="Symbol">{</a><a id="1177" href="Control.Monad.Free.Quotiented.Containers.html#1177" class="Bound">X</a><a id="1178" class="Symbol">}</a> <a id="1180" class="Symbol">→</a> <a id="1182" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1190" href="Control.Monad.Free.Quotiented.Containers.html#1177" class="Bound">X</a> <a id="1192" class="Symbol">→</a> <a id="1194" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1202" href="Control.Monad.Free.Quotiented.Containers.html#1177" class="Bound">X</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="1210" class="Symbol">)</a> <a id="1212" class="Symbol">(</a><a id="1213" href="Control.Monad.Free.Quotiented.Containers.html#1213" class="Bound">A</a> <a id="1215" class="Symbol">:</a> <a id="1217" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="1221" class="Symbol">)</a>  <a id="1224" class="Symbol">→</a> <a id="1226" href="Agda.Primitive.html#326" class="Primitive">Type</a>
<a id="1231" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="1236" href="Control.Monad.Free.Quotiented.Containers.html#1236" class="Bound Operator">_~_</a> <a id="1240" href="Control.Monad.Free.Quotiented.Containers.html#1240" class="Bound">A</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1252" href="Control.Monad.Free.Quotiented.Containers.html#1240" class="Bound">A</a> <a id="1254" href="Cubical.HITs.SetQuotients.Base.html#215" class="Datatype Operator">/</a> <a id="1256" href="Control.Monad.Free.Quotiented.Containers.html#1236" class="Bound Operator">_~_</a>

<a id="1261" class="Keyword">private</a>
  <a id="1271" class="Keyword">variable</a>
    <a id="1284" href="Control.Monad.Free.Quotiented.Containers.html#1284" class="Generalizable Operator">_~_</a> <a id="1288" class="Symbol">:</a> <a id="1290" class="Symbol">∀</a> <a id="1292" class="Symbol">{</a><a id="1293" href="Control.Monad.Free.Quotiented.Containers.html#1293" class="Bound">X</a><a id="1294" class="Symbol">}</a> <a id="1296" class="Symbol">→</a> <a id="1298" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1306" href="Control.Monad.Free.Quotiented.Containers.html#1293" class="Bound">X</a> <a id="1308" class="Symbol">→</a> <a id="1310" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1318" href="Control.Monad.Free.Quotiented.Containers.html#1293" class="Bound">X</a> <a id="1320" class="Symbol">→</a> <a id="1322" href="Agda.Primitive.html#326" class="Primitive">Type</a>

<a id="smap"></a><a id="1328" href="Control.Monad.Free.Quotiented.Containers.html#1328" class="Function">smap</a> <a id="1333" class="Symbol">:</a> <a id="1335" class="Symbol">(</a><a id="1336" href="Level.html#255" class="Generalizable">A</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="Level.html#269" class="Generalizable">B</a><a id="1341" class="Symbol">)</a> <a id="1343" class="Symbol">→</a> <a id="1345" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1353" href="Level.html#255" class="Generalizable">A</a> <a id="1355" class="Symbol">→</a> <a id="1357" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="1365" href="Level.html#269" class="Generalizable">B</a>
<a id="1367" href="Control.Monad.Free.Quotiented.Containers.html#1328" class="Function">smap</a> <a id="1372" href="Control.Monad.Free.Quotiented.Containers.html#1372" class="Bound">f</a> <a id="1374" class="Symbol">(</a><a id="1375" href="Control.Monad.Free.Quotiented.Containers.html#1101" class="InductiveConstructor">return</a> <a id="1382" href="Control.Monad.Free.Quotiented.Containers.html#1382" class="Bound">x</a><a id="1383" class="Symbol">)</a> <a id="1385" class="Symbol">=</a> <a id="1387" href="Control.Monad.Free.Quotiented.Containers.html#1101" class="InductiveConstructor">return</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Control.Monad.Free.Quotiented.Containers.html#1372" class="Bound">f</a> <a id="1397" href="Control.Monad.Free.Quotiented.Containers.html#1382" class="Bound">x</a><a id="1398" class="Symbol">)</a>
<a id="1400" href="Control.Monad.Free.Quotiented.Containers.html#1328" class="Function">smap</a> <a id="1405" href="Control.Monad.Free.Quotiented.Containers.html#1405" class="Bound">f</a> <a id="1407" class="Symbol">(</a><a id="1408" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1411" href="Control.Monad.Free.Quotiented.Containers.html#1411" class="Bound">x</a><a id="1412" class="Symbol">)</a> <a id="1414" class="Symbol">=</a> <a id="1416" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1419" class="Symbol">(</a><a id="1420" href="Control.Monad.Free.Quotiented.Containers.html#1328" class="Function">smap</a> <a id="1425" href="Control.Monad.Free.Quotiented.Containers.html#1405" class="Bound">f</a> <a id="1427" href="Function.html#97" class="Function Operator">∘</a> <a id="1429" href="Control.Monad.Free.Quotiented.Containers.html#1411" class="Bound">x</a><a id="1430" class="Symbol">)</a>

<a id="sjoin"></a><a id="1433" href="Control.Monad.Free.Quotiented.Containers.html#1433" class="Function">sjoin</a> <a id="1439" class="Symbol">:</a> <a id="1441" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1448" class="Symbol">(</a><a id="1449" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1456" href="Level.html#255" class="Generalizable">A</a><a id="1457" class="Symbol">)</a> <a id="1459" class="Symbol">→</a> <a id="1461" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1468" href="Level.html#255" class="Generalizable">A</a>
<a id="1470" href="Control.Monad.Free.Quotiented.Containers.html#1433" class="Function">sjoin</a> <a id="1476" class="Symbol">(</a><a id="1477" href="Control.Monad.Free.Quotiented.Containers.html#1101" class="InductiveConstructor">return</a> <a id="1484" href="Control.Monad.Free.Quotiented.Containers.html#1484" class="Bound">xs</a><a id="1486" class="Symbol">)</a> <a id="1488" class="Symbol">=</a> <a id="1490" href="Control.Monad.Free.Quotiented.Containers.html#1484" class="Bound">xs</a>
<a id="1493" href="Control.Monad.Free.Quotiented.Containers.html#1433" class="Function">sjoin</a> <a id="1499" class="Symbol">(</a><a id="1500" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1503" href="Control.Monad.Free.Quotiented.Containers.html#1503" class="Bound">x</a><a id="1504" class="Symbol">)</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1511" class="Symbol">(</a><a id="1512" href="Control.Monad.Free.Quotiented.Containers.html#1433" class="Function">sjoin</a> <a id="1518" href="Function.html#97" class="Function Operator">∘</a> <a id="1520" href="Control.Monad.Free.Quotiented.Containers.html#1503" class="Bound">x</a><a id="1521" class="Symbol">)</a>

<a id="1524" class="Keyword">open</a> <a id="1529" class="Keyword">import</a> <a id="1536" href="Data.Vec.Iterated.html" class="Module">Data.Vec.Iterated</a>


<a id="Traversal′"></a><a id="1556" href="Control.Monad.Free.Quotiented.Containers.html#1556" class="Function">Traversal′</a> <a id="1567" class="Symbol">:</a> <a id="1569" class="Symbol">(</a><a id="1570" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1575" class="Symbol">→</a> <a id="1577" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="1581" class="Symbol">)</a> <a id="1583" class="Symbol">→</a> <a id="1585" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1590" class="Symbol">→</a> <a id="1592" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="1598" href="Control.Monad.Free.Quotiented.Containers.html#1556" class="Function">Traversal′</a> <a id="1609" href="Control.Monad.Free.Quotiented.Containers.html#1609" class="Bound">A</a> <a id="1611" href="Control.Monad.Free.Quotiented.Containers.html#1611" class="Bound">B</a> <a id="1613" class="Symbol">=</a> <a id="1615" href="Data.Sigma.Base.html#173" class="Function">∃</a> <a id="1617" href="Control.Monad.Free.Quotiented.Containers.html#1617" class="Bound">n</a> <a id="1619" href="Data.Sigma.Base.html#173" class="Function">×</a> <a id="1621" href="Data.Vec.Iterated.html#218" class="Function">Vec</a> <a id="1625" href="Control.Monad.Free.Quotiented.Containers.html#1611" class="Bound">B</a> <a id="1627" href="Control.Monad.Free.Quotiented.Containers.html#1617" class="Bound">n</a> <a id="1629" href="Data.Sigma.Base.html#455" class="Function Operator">×</a> <a id="1631" class="Symbol">(∀</a> <a id="1634" class="Symbol">{</a><a id="1635" href="Control.Monad.Free.Quotiented.Containers.html#1635" class="Bound">C</a><a id="1636" class="Symbol">}</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Data.Vec.Iterated.html#218" class="Function">Vec</a> <a id="1644" href="Control.Monad.Free.Quotiented.Containers.html#1635" class="Bound">C</a> <a id="1646" href="Control.Monad.Free.Quotiented.Containers.html#1617" class="Bound">n</a> <a id="1648" class="Symbol">→</a> <a id="1650" href="Control.Monad.Free.Quotiented.Containers.html#1609" class="Bound">A</a> <a id="1652" href="Control.Monad.Free.Quotiented.Containers.html#1635" class="Bound">C</a><a id="1653" class="Symbol">)</a>

<a id="Traversal"></a><a id="1656" href="Control.Monad.Free.Quotiented.Containers.html#1656" class="Function">Traversal</a> <a id="1666" class="Symbol">:</a> <a id="1668" class="Symbol">(</a><a id="1669" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1674" class="Symbol">→</a> <a id="1676" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="1680" class="Symbol">)</a> <a id="1682" class="Symbol">→</a> <a id="1684" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1689" class="Symbol">→</a> <a id="1691" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="1697" href="Control.Monad.Free.Quotiented.Containers.html#1656" class="Function">Traversal</a> <a id="1707" href="Control.Monad.Free.Quotiented.Containers.html#1707" class="Bound">A</a> <a id="1709" href="Control.Monad.Free.Quotiented.Containers.html#1709" class="Bound">B</a> <a id="1711" class="Symbol">=</a> <a id="1713" href="Control.Monad.Free.Quotiented.Containers.html#1707" class="Bound">A</a> <a id="1715" href="Control.Monad.Free.Quotiented.Containers.html#1709" class="Bound">B</a> <a id="1717" class="Symbol">→</a> <a id="1719" href="Control.Monad.Free.Quotiented.Containers.html#1556" class="Function">Traversal′</a> <a id="1730" href="Control.Monad.Free.Quotiented.Containers.html#1707" class="Bound">A</a> <a id="1732" href="Control.Monad.Free.Quotiented.Containers.html#1709" class="Bound">B</a>

<a id="1735" class="Keyword">open</a> <a id="1740" class="Keyword">import</a> <a id="1747" href="Data.Nat.html" class="Module">Data.Nat</a>

<a id="holes"></a><a id="1757" href="Control.Monad.Free.Quotiented.Containers.html#1757" class="Function">holes</a> <a id="1763" class="Symbol">:</a> <a id="1765" href="Control.Monad.Free.Quotiented.Containers.html#1656" class="Function">Traversal</a> <a id="1775" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="1782" href="Level.html#255" class="Generalizable">A</a>
<a id="1784" href="Control.Monad.Free.Quotiented.Containers.html#1757" class="Function">holes</a> <a id="1790" class="Symbol">(</a><a id="1791" href="Control.Monad.Free.Quotiented.Containers.html#1101" class="InductiveConstructor">return</a> <a id="1798" href="Control.Monad.Free.Quotiented.Containers.html#1798" class="Bound">x</a><a id="1799" class="Symbol">)</a> <a id="1801" class="Symbol">=</a> <a id="1803" class="Number">1</a> <a id="1805" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1807" class="Symbol">(</a><a id="1808" href="Control.Monad.Free.Quotiented.Containers.html#1798" class="Bound">x</a> <a id="1810" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1812" href="Data.Vec.Iterated.html#364" class="InductiveConstructor">[]</a><a id="1814" class="Symbol">)</a> <a id="1816" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1818" class="Symbol">(λ</a> <a id="1821" class="Symbol">{</a>  <a id="1824" class="Symbol">(</a><a id="1825" href="Control.Monad.Free.Quotiented.Containers.html#1825" class="Bound">y</a> <a id="1827" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1829" href="Data.Vec.Iterated.html#364" class="InductiveConstructor">[]</a><a id="1831" class="Symbol">)</a> <a id="1833" class="Symbol">→</a> <a id="1835" href="Control.Monad.Free.Quotiented.Containers.html#1101" class="InductiveConstructor">return</a> <a id="1842" href="Control.Monad.Free.Quotiented.Containers.html#1825" class="Bound">y</a> <a id="1844" class="Symbol">})</a>
<a id="1847" href="Control.Monad.Free.Quotiented.Containers.html#1757" class="Function">holes</a> <a id="1853" class="Symbol">(</a><a id="1854" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1857" href="Control.Monad.Free.Quotiented.Containers.html#1857" class="Bound">x</a><a id="1858" class="Symbol">)</a> <a id="1860" class="Symbol">=</a>
  <a id="1864" class="Keyword">let</a> <a id="1868" href="Control.Monad.Free.Quotiented.Containers.html#1868" class="Bound">lhs</a> <a id="1872" class="Symbol">=</a> <a id="1874" href="Control.Monad.Free.Quotiented.Containers.html#1757" class="Function">holes</a> <a id="1880" class="Symbol">(</a><a id="1881" href="Control.Monad.Free.Quotiented.Containers.html#1857" class="Bound">x</a> <a id="1883" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="1888" class="Symbol">)</a>
      <a id="1896" href="Control.Monad.Free.Quotiented.Containers.html#1896" class="Bound">rhs</a> <a id="1900" class="Symbol">=</a> <a id="1902" href="Control.Monad.Free.Quotiented.Containers.html#1757" class="Function">holes</a> <a id="1908" class="Symbol">(</a><a id="1909" href="Control.Monad.Free.Quotiented.Containers.html#1857" class="Bound">x</a> <a id="1911" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="1915" class="Symbol">)</a>
  <a id="1919" class="Keyword">in</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="1927" href="Control.Monad.Free.Quotiented.Containers.html#1868" class="Bound">lhs</a> <a id="1931" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1933" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="1937" href="Control.Monad.Free.Quotiented.Containers.html#1896" class="Bound">rhs</a><a id="1940" class="Symbol">)</a> <a id="1942" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1944" class="Symbol">(</a><a id="1945" href="Control.Monad.Free.Quotiented.Containers.html#1868" class="Bound">lhs</a> <a id="1949" class="Symbol">.</a><a id="1950" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="1954" class="Symbol">.</a><a id="1955" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="1959" href="Data.Vec.Iterated.html#553" class="Function Operator">++</a> <a id="1962" href="Control.Monad.Free.Quotiented.Containers.html#1896" class="Bound">rhs</a> <a id="1966" class="Symbol">.</a><a id="1967" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="1971" class="Symbol">.</a><a id="1972" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a><a id="1975" class="Symbol">)</a> <a id="1977" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1979" href="Control.Monad.Free.Quotiented.Containers.html#1125" class="InductiveConstructor">op</a> <a id="1982" href="Function.html#97" class="Function Operator">∘</a> <a id="1984" href="Data.Sigma.Base.html#711" class="Function">uncurry</a> <a id="1992" href="Data.Bool.Base.html#307" class="Function">bool′</a> <a id="1998" href="Function.html#97" class="Function Operator">∘</a> <a id="2000" href="Data.Sigma.Base.html#906" class="Function">map-Σ</a> <a id="2006" class="Symbol">(</a><a id="2007" href="Control.Monad.Free.Quotiented.Containers.html#1868" class="Bound">lhs</a> <a id="2011" class="Symbol">.</a><a id="2012" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="2016" class="Symbol">.</a><a id="2017" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a><a id="2020" class="Symbol">)</a> <a id="2022" class="Symbol">(</a><a id="2023" href="Control.Monad.Free.Quotiented.Containers.html#1896" class="Bound">rhs</a> <a id="2027" class="Symbol">.</a><a id="2028" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="2032" class="Symbol">.</a><a id="2033" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a><a id="2036" class="Symbol">)</a> <a id="2038" href="Function.html#97" class="Function Operator">∘</a> <a id="2040" href="Data.Vec.Iterated.html#690" class="Function">split</a>

<a id="2047" class="Comment">-- -- lens      A B = A → (B × B → A)</a>
<a id="2085" class="Comment">-- -- traversal A B = A → ∃ n × Vec n B × (Vec n B → A)</a>
<a id="2141" class="Comment">--</a>

<a id="2145" class="Keyword">open</a> <a id="2150" class="Keyword">import</a> <a id="2157" href="HITs.SetQuotients.Prod.html" class="Module">HITs.SetQuotients.Prod</a>

<a id="2181" class="Keyword">module</a> <a id="2188" href="Control.Monad.Free.Quotiented.Containers.html#2188" class="Module">_</a> <a id="2190" class="Symbol">{</a><a id="2191" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2195" class="Symbol">:</a> <a id="2197" class="Symbol">∀</a> <a id="2199" class="Symbol">{</a><a id="2200" href="Control.Monad.Free.Quotiented.Containers.html#2200" class="Bound">X</a><a id="2201" class="Symbol">}</a> <a id="2203" class="Symbol">→</a> <a id="2205" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="2213" href="Control.Monad.Free.Quotiented.Containers.html#2200" class="Bound">X</a> <a id="2215" class="Symbol">→</a> <a id="2217" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a>  <a id="2225" href="Control.Monad.Free.Quotiented.Containers.html#2200" class="Bound">X</a> <a id="2227" class="Symbol">→</a> <a id="2229" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="2233" class="Symbol">}</a> <a id="2235" class="Keyword">where</a>
  <a id="2243" href="Control.Monad.Free.Quotiented.Containers.html#2243" class="Function">fmap</a> <a id="2248" class="Symbol">:</a> <a id="2250" class="Symbol">(</a><a id="2251" href="Level.html#255" class="Generalizable">A</a> <a id="2253" class="Symbol">→</a> <a id="2255" href="Level.html#269" class="Generalizable">B</a><a id="2256" class="Symbol">)</a> <a id="2258" class="Symbol">→</a> <a id="2260" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2265" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2269" href="Level.html#255" class="Generalizable">A</a> <a id="2271" class="Symbol">→</a> <a id="2273" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2278" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2282" href="Level.html#269" class="Generalizable">B</a>
  <a id="2286" href="Control.Monad.Free.Quotiented.Containers.html#2243" class="Function">fmap</a> <a id="2291" href="Control.Monad.Free.Quotiented.Containers.html#2291" class="Bound">f</a> <a id="2293" class="Symbol">=</a> <a id="2295" href="Cubical.HITs.SetQuotients.Properties.html#3179" class="Function">rec</a> <a id="2299" href="Cubical.HITs.SetQuotients.Base.html#361" class="InductiveConstructor">squash/</a> <a id="2307" class="Symbol">(</a><a id="2308" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[_]</a> <a id="2312" href="Function.html#97" class="Function Operator">∘</a> <a id="2314" href="Control.Monad.Free.Quotiented.Containers.html#1328" class="Function">smap</a> <a id="2319" href="Control.Monad.Free.Quotiented.Containers.html#2291" class="Bound">f</a><a id="2320" class="Symbol">)</a> <a id="2322" class="Hole">{!!}</a>

  <a id="2330" class="Keyword">module</a> <a id="2337" href="Control.Monad.Free.Quotiented.Containers.html#2337" class="Module">_</a> <a id="2339" class="Symbol">{</a><a id="2340" href="Control.Monad.Free.Quotiented.Containers.html#2340" class="Bound">A</a> <a id="2342" href="Control.Monad.Free.Quotiented.Containers.html#2342" class="Bound">B</a> <a id="2344" class="Symbol">:</a> <a id="2346" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="2350" class="Symbol">}</a> <a id="2352" class="Keyword">where</a>
    <a id="2362" href="Control.Monad.Free.Quotiented.Containers.html#2362" class="Function">join</a> <a id="2367" class="Symbol">:</a> <a id="2369" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2374" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2384" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2388" href="Control.Monad.Free.Quotiented.Containers.html#2340" class="Bound">A</a><a id="2389" class="Symbol">)</a> <a id="2391" class="Symbol">→</a> <a id="2393" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2398" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2402" href="Control.Monad.Free.Quotiented.Containers.html#2340" class="Bound">A</a>
    <a id="2408" href="Control.Monad.Free.Quotiented.Containers.html#2362" class="Function">join</a> <a id="2413" class="Symbol">=</a> <a id="2415" href="Cubical.HITs.SetQuotients.Properties.html#3179" class="Function">rec</a> <a id="2419" href="Cubical.HITs.SetQuotients.Base.html#361" class="InductiveConstructor">squash/</a> <a id="2427" class="Symbol">(</a><a id="2428" href="Control.Monad.Free.Quotiented.Containers.html#2464" class="Function">ϕ</a> <a id="2430" href="Function.html#97" class="Function Operator">∘</a> <a id="2432" href="Control.Monad.Free.Quotiented.Containers.html#1757" class="Function">holes</a><a id="2437" class="Symbol">)</a> <a id="2439" class="Hole">{!!}</a>
      <a id="2450" class="Keyword">where</a>
        <a id="2464" href="Control.Monad.Free.Quotiented.Containers.html#2464" class="Function">ϕ</a> <a id="2466" class="Symbol">:</a> <a id="2468" href="Control.Monad.Free.Quotiented.Containers.html#1556" class="Function">Traversal′</a> <a id="2479" href="Control.Monad.Free.Quotiented.Containers.html#1068" class="Datatype">Syntax</a> <a id="2486" class="Symbol">(</a><a id="2487" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2492" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2496" href="Control.Monad.Free.Quotiented.Containers.html#2340" class="Bound">A</a><a id="2497" class="Symbol">)</a> <a id="2499" class="Symbol">→</a> <a id="2501" href="Control.Monad.Free.Quotiented.Containers.html#1160" class="Function">Free</a> <a id="2506" href="Control.Monad.Free.Quotiented.Containers.html#2191" class="Bound Operator">_~_</a> <a id="2510" href="Control.Monad.Free.Quotiented.Containers.html#2340" class="Bound">A</a>
        <a id="2520" href="Control.Monad.Free.Quotiented.Containers.html#2464" class="Function">ϕ</a> <a id="2522" class="Symbol">(</a><a id="2523" href="Control.Monad.Free.Quotiented.Containers.html#2523" class="Bound">n</a> <a id="2525" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2527" href="Control.Monad.Free.Quotiented.Containers.html#2527" class="Bound">xs</a> <a id="2530" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2532" href="Control.Monad.Free.Quotiented.Containers.html#2532" class="Bound">k</a><a id="2533" class="Symbol">)</a> <a id="2535" class="Symbol">=</a> <a id="2537" href="Cubical.HITs.SetQuotients.Properties.html#3179" class="Function">rec</a> <a id="2541" href="Cubical.HITs.SetQuotients.Base.html#361" class="InductiveConstructor">squash/</a> <a id="2549" class="Symbol">(</a><a id="2550" href="Cubical.HITs.SetQuotients.Base.html#289" class="InductiveConstructor Operator">[_]</a> <a id="2554" href="Function.html#97" class="Function Operator">∘</a> <a id="2556" href="Control.Monad.Free.Quotiented.Containers.html#1433" class="Function">sjoin</a> <a id="2562" href="Function.html#97" class="Function Operator">∘</a> <a id="2564" href="Control.Monad.Free.Quotiented.Containers.html#2532" class="Bound">k</a><a id="2565" class="Symbol">)</a> <a id="2567" class="Hole">{!!}</a> <a id="2572" class="Symbol">(</a><a id="2573" href="HITs.SetQuotients.Prod.html#625" class="Function">trav</a> <a id="2578" href="Control.Monad.Free.Quotiented.Containers.html#2527" class="Bound">xs</a><a id="2580" class="Symbol">)</a>

<a id="2583" class="Keyword">open</a> <a id="2588" class="Keyword">import</a> <a id="2595" href="Data.Fin.html" class="Module">Data.Fin</a>

<a id="FContainer"></a><a id="2605" href="Control.Monad.Free.Quotiented.Containers.html#2605" class="Function">FContainer</a> <a id="2616" class="Symbol">:</a> <a id="2618" href="Agda.Primitive.html#326" class="Primitive">Type₁</a>
<a id="2624" href="Control.Monad.Free.Quotiented.Containers.html#2605" class="Function">FContainer</a> <a id="2635" class="Symbol">=</a> <a id="2637" href="Data.Sigma.Base.html#173" class="Function">∃</a> <a id="2639" href="Control.Monad.Free.Quotiented.Containers.html#2639" class="Bound">Ops</a> <a id="2643" href="Data.Sigma.Base.html#173" class="Function">×</a> <a id="2645" class="Symbol">(</a><a id="2646" href="Control.Monad.Free.Quotiented.Containers.html#2639" class="Bound">Ops</a> <a id="2650" class="Symbol">→</a> <a id="2652" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2653" class="Symbol">)</a>

<a id="⟦_⟧′"></a><a id="2656" href="Control.Monad.Free.Quotiented.Containers.html#2656" class="Function Operator">⟦_⟧′</a> <a id="2661" class="Symbol">:</a> <a id="2663" href="Control.Monad.Free.Quotiented.Containers.html#2605" class="Function">FContainer</a> <a id="2674" class="Symbol">→</a> <a id="2676" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="2681" href="Level.html#239" class="Generalizable">a</a> <a id="2683" class="Symbol">→</a> <a id="2685" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="2690" href="Level.html#239" class="Generalizable">a</a>
<a id="2692" href="Control.Monad.Free.Quotiented.Containers.html#2656" class="Function Operator">⟦</a> <a id="2694" href="Control.Monad.Free.Quotiented.Containers.html#2694" class="Bound">Ops</a> <a id="2698" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2700" href="Control.Monad.Free.Quotiented.Containers.html#2700" class="Bound">Arity</a> <a id="2706" href="Control.Monad.Free.Quotiented.Containers.html#2656" class="Function Operator">⟧′</a> <a id="2709" href="Control.Monad.Free.Quotiented.Containers.html#2709" class="Bound">X</a> <a id="2711" class="Symbol">=</a> <a id="2713" href="Data.Sigma.Base.html#320" class="Function">Σ[</a> <a id="2716" href="Control.Monad.Free.Quotiented.Containers.html#2716" class="Bound">Op</a> <a id="2719" href="Data.Sigma.Base.html#320" class="Function">⦂</a> <a id="2721" href="Control.Monad.Free.Quotiented.Containers.html#2694" class="Bound">Ops</a> <a id="2725" href="Data.Sigma.Base.html#320" class="Function">]</a> <a id="2727" href="Data.Sigma.Base.html#320" class="Function">×</a> <a id="2729" class="Symbol">(</a><a id="2730" href="Data.Fin.Base.html#182" class="Function">Fin</a> <a id="2734" class="Symbol">(</a><a id="2735" href="Control.Monad.Free.Quotiented.Containers.html#2700" class="Bound">Arity</a> <a id="2741" href="Control.Monad.Free.Quotiented.Containers.html#2716" class="Bound">Op</a><a id="2743" class="Symbol">)</a> <a id="2745" class="Symbol">→</a> <a id="2747" href="Control.Monad.Free.Quotiented.Containers.html#2709" class="Bound">X</a><a id="2748" class="Symbol">)</a>
</pre></body></html>