<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Karatsuba</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--postfix-projections</a> <a id="45" class="Pragma">--safe</a> <a id="52" class="Symbol">#-}</a>

<a id="57" class="Keyword">module</a> <a id="64" href="Karatsuba.html" class="Module">Karatsuba</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Prelude.html" class="Module">Prelude</a>

<a id="102" class="Keyword">open</a> <a id="107" class="Keyword">import</a> <a id="114" href="Data.List.html" class="Module">Data.List</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.List.Syntax.html" class="Module">Data.List.Syntax</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="TreeFold.html" class="Module">TreeFold</a>

<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Data.Integer.html" class="Module">Data.Integer</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="218" class="Symbol">as</a> <a id="221" class="Module">ℕ</a>

<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Literals.Number.html" class="Module">Literals.Number</a>
<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="Data.Integer.Literals.html" class="Module">Data.Integer.Literals</a>

<a id="Diff"></a><a id="287" href="Karatsuba.html#287" class="Function">Diff</a> <a id="292" class="Symbol">:</a> <a id="294" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="299" href="Level.html#239" class="Generalizable">a</a> <a id="301" class="Symbol">→</a> <a id="303" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="308" href="Level.html#239" class="Generalizable">a</a>
<a id="310" href="Karatsuba.html#287" class="Function">Diff</a> <a id="315" href="Karatsuba.html#315" class="Bound">A</a> <a id="317" class="Symbol">=</a> <a id="319" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="324" href="Karatsuba.html#315" class="Bound">A</a> <a id="326" class="Symbol">→</a> <a id="328" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="333" href="Karatsuba.html#315" class="Bound">A</a>

<a id="⌈⌉"></a><a id="336" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="339" class="Symbol">:</a> <a id="341" href="Karatsuba.html#287" class="Function">Diff</a> <a id="346" href="Level.html#255" class="Generalizable">A</a>
<a id="348" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="351" class="Symbol">=</a> <a id="353" href="Function.html#533" class="Function">id</a>

<a id="⌈_⌉"></a><a id="357" href="Karatsuba.html#357" class="Function Operator">⌈_⌉</a> <a id="361" class="Symbol">:</a> <a id="363" href="Level.html#255" class="Generalizable">A</a> <a id="365" class="Symbol">→</a> <a id="367" href="Karatsuba.html#287" class="Function">Diff</a> <a id="372" href="Level.html#255" class="Generalizable">A</a>
<a id="374" href="Karatsuba.html#357" class="Function Operator">⌈_⌉</a> <a id="378" class="Symbol">=</a> <a id="380" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a>

<a id="⌊_⌋"></a><a id="385" href="Karatsuba.html#385" class="Function Operator">⌊_⌋</a> <a id="389" class="Symbol">:</a> <a id="391" href="Karatsuba.html#287" class="Function">Diff</a> <a id="396" href="Level.html#255" class="Generalizable">A</a> <a id="398" class="Symbol">→</a> <a id="400" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="405" href="Level.html#255" class="Generalizable">A</a>
<a id="407" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="409" href="Karatsuba.html#409" class="Bound">xs</a> <a id="412" href="Karatsuba.html#385" class="Function Operator">⌋</a> <a id="414" class="Symbol">=</a> <a id="416" href="Karatsuba.html#409" class="Bound">xs</a> <a id="419" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="423" class="Keyword">record</a> <a id="K"></a><a id="430" href="Karatsuba.html#430" class="Record">K</a> <a id="432" class="Symbol">(</a><a id="433" href="Karatsuba.html#433" class="Bound">A</a> <a id="435" class="Symbol">:</a> <a id="437" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="442" href="Level.html#239" class="Generalizable">a</a><a id="443" class="Symbol">)</a> <a id="445" class="Symbol">:</a> <a id="447" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="452" href="Karatsuba.html#442" class="Bound">a</a> <a id="454" class="Keyword">where</a>
  <a id="462" class="Keyword">constructor</a> <a id="k"></a><a id="474" href="Karatsuba.html#474" class="InductiveConstructor">k</a>
  <a id="478" class="Keyword">field</a>
    <a id="K.pz"></a><a id="488" href="Karatsuba.html#488" class="Field">pz</a> <a id="K.lo"></a><a id="491" href="Karatsuba.html#491" class="Field">lo</a> <a id="K.hi"></a><a id="494" href="Karatsuba.html#494" class="Field">hi</a> <a id="497" class="Symbol">:</a> <a id="499" href="Karatsuba.html#287" class="Function">Diff</a> <a id="504" href="Karatsuba.html#433" class="Bound">A</a>
    <a id="K.out"></a><a id="510" href="Karatsuba.html#510" class="Field">out</a> <a id="514" class="Symbol">:</a> <a id="516" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="521" href="Karatsuba.html#433" class="Bound">A</a>
<a id="523" class="Keyword">open</a> <a id="528" href="Karatsuba.html#430" class="Module">K</a>

<a id="531" class="Keyword">infixl</a> <a id="538" class="Number">6</a> <a id="540" href="Karatsuba.html#544" class="Function Operator">_⊕_</a>
<a id="_⊕_"></a><a id="544" href="Karatsuba.html#544" class="Function Operator">_⊕_</a> <a id="548" class="Symbol">:</a> <a id="550" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="555" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="557" class="Symbol">→</a> <a id="559" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="564" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="566" class="Symbol">→</a> <a id="568" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="573" href="Data.Integer.html#204" class="Datatype">ℤ</a>
<a id="575" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="584" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="586" href="Karatsuba.html#586" class="Bound">ys</a>       <a id="595" class="Symbol">=</a> <a id="597" href="Karatsuba.html#586" class="Bound">ys</a>
<a id="600" href="Karatsuba.html#600" class="CatchallClause Bound">xs</a><a id="602" class="CatchallClause">       </a><a id="609" href="Karatsuba.html#544" class="CatchallClause Function Operator">⊕</a><a id="610" class="CatchallClause"> </a><a id="611" href="Agda.Builtin.List.html#185" class="CatchallClause InductiveConstructor">[]</a>       <a id="620" class="Symbol">=</a> <a id="622" href="Karatsuba.html#600" class="Bound">xs</a>
<a id="625" class="Symbol">(</a><a id="626" href="Karatsuba.html#626" class="Bound">x</a> <a id="628" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="630" href="Karatsuba.html#630" class="Bound">xs</a><a id="632" class="Symbol">)</a> <a id="634" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="636" class="Symbol">(</a><a id="637" href="Karatsuba.html#637" class="Bound">y</a> <a id="639" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="641" href="Karatsuba.html#641" class="Bound">ys</a><a id="643" class="Symbol">)</a> <a id="645" class="Symbol">=</a> <a id="647" class="Symbol">(</a><a id="648" href="Karatsuba.html#626" class="Bound">x</a> <a id="650" href="Data.Integer.html#537" class="Function Operator">+</a> <a id="652" href="Karatsuba.html#637" class="Bound">y</a><a id="653" class="Symbol">)</a> <a id="655" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="657" class="Symbol">(</a><a id="658" href="Karatsuba.html#630" class="Bound">xs</a> <a id="661" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="663" href="Karatsuba.html#641" class="Bound">ys</a><a id="665" class="Symbol">)</a>

<a id="pair"></a><a id="668" href="Karatsuba.html#668" class="Function">pair</a> <a id="673" class="Symbol">:</a> <a id="675" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="680" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="682" class="Symbol">→</a> <a id="684" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="689" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="691" class="Symbol">→</a> <a id="693" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="698" class="Symbol">(</a><a id="699" href="Karatsuba.html#430" class="Record">K</a> <a id="701" href="Data.Integer.html#204" class="Datatype">ℤ</a><a id="702" class="Symbol">)</a>
<a id="704" href="Karatsuba.html#668" class="Function">pair</a> <a id="709" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="718" href="Karatsuba.html#718" class="Bound">ys</a>       <a id="727" class="Symbol">=</a> <a id="729" href="Data.List.Base.html#1042" class="Function">map</a> <a id="733" class="Symbol">(λ</a> <a id="736" href="Karatsuba.html#736" class="Bound">y</a> <a id="738" class="Symbol">→</a> <a id="740" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="742" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="744" class="Number">0</a> <a id="746" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="748" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="751" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="753" href="Karatsuba.html#736" class="Bound">y</a> <a id="755" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="757" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="759" class="Symbol">)</a> <a id="761" href="Karatsuba.html#718" class="Bound">ys</a>
<a id="764" href="Karatsuba.html#668" class="CatchallClause Function">pair</a><a id="768" class="CatchallClause"> </a><a id="769" href="Karatsuba.html#769" class="CatchallClause Bound">xs</a><a id="771" class="CatchallClause">       </a><a id="778" href="Agda.Builtin.List.html#185" class="CatchallClause InductiveConstructor">[]</a>       <a id="787" class="Symbol">=</a> <a id="789" href="Data.List.Base.html#1042" class="Function">map</a> <a id="793" class="Symbol">(λ</a> <a id="796" href="Karatsuba.html#796" class="Bound">x</a> <a id="798" class="Symbol">→</a> <a id="800" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="802" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="804" class="Number">0</a> <a id="806" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="808" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="810" href="Karatsuba.html#796" class="Bound">x</a> <a id="812" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="814" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="817" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="819" class="Symbol">)</a> <a id="821" href="Karatsuba.html#769" class="Bound">xs</a>
<a id="824" href="Karatsuba.html#668" class="Function">pair</a> <a id="829" class="Symbol">(</a><a id="830" href="Karatsuba.html#830" class="Bound">x</a> <a id="832" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="834" href="Karatsuba.html#834" class="Bound">xs</a><a id="836" class="Symbol">)</a> <a id="838" class="Symbol">(</a><a id="839" href="Karatsuba.html#839" class="Bound">y</a> <a id="841" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="843" href="Karatsuba.html#843" class="Bound">ys</a><a id="845" class="Symbol">)</a> <a id="847" class="Symbol">=</a> <a id="849" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="851" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="853" class="Number">0</a> <a id="855" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="857" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="859" href="Karatsuba.html#830" class="Bound">x</a> <a id="861" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="863" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="865" href="Karatsuba.html#839" class="Bound">y</a> <a id="867" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="869" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="871" href="Karatsuba.html#830" class="Bound">x</a> <a id="873" href="Data.Integer.html#775" class="Function Operator">*</a> <a id="875" href="Karatsuba.html#839" class="Bound">y</a> <a id="877" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a> <a id="879" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="881" href="Karatsuba.html#668" class="Function">pair</a> <a id="886" href="Karatsuba.html#834" class="Bound">xs</a> <a id="889" href="Karatsuba.html#843" class="Bound">ys</a>

<a id="pad"></a><a id="893" href="Karatsuba.html#893" class="Function">pad</a> <a id="897" class="Symbol">:</a> <a id="899" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="901" class="Symbol">→</a> <a id="903" href="Karatsuba.html#287" class="Function">Diff</a> <a id="908" href="Data.Integer.html#204" class="Datatype">ℤ</a> 
<a id="911" href="Karatsuba.html#893" class="Function">pad</a> <a id="915" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="923" class="Symbol">=</a> <a id="925" href="Karatsuba.html#336" class="Function">⌈⌉</a>
<a id="928" href="Karatsuba.html#893" class="Function">pad</a> <a id="932" class="Symbol">(</a><a id="933" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="937" href="Karatsuba.html#937" class="Bound">n</a><a id="938" class="Symbol">)</a> <a id="940" class="Symbol">=</a> <a id="942" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="944" class="Number">0</a> <a id="946" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="948" href="Function.html#97" class="Function Operator">∘</a> <a id="950" href="Karatsuba.html#893" class="Function">pad</a> <a id="954" href="Karatsuba.html#937" class="Bound">n</a>

<a id="957" class="Comment">-- The first parameter in these functions is just used for termination checking.</a>
<a id="1038" class="Keyword">mutual</a>
  <a id="1047" class="Keyword">infixl</a> <a id="1054" class="Number">7</a> <a id="1056" href="Karatsuba.html#1065" class="Function Operator">⟨_⟩_⊛_</a>
  <a id="⟨_⟩_⊛_"></a><a id="1065" href="Karatsuba.html#1065" class="Function Operator">⟨_⟩_⊛_</a> <a id="1072" class="Symbol">:</a> <a id="1074" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1083" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1092" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1094" class="Symbol">→</a> <a id="1096" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1101" href="Data.Integer.html#204" class="Datatype">ℤ</a>
  <a id="1105" href="Karatsuba.html#1065" class="Function Operator">⟨</a> <a id="1107" href="Karatsuba.html#1107" class="Bound">n</a> <a id="1109" href="Karatsuba.html#1065" class="Function Operator">⟩</a> <a id="1111" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="1120" href="Karatsuba.html#1065" class="Function Operator">⊛</a> <a id="1122" class="Symbol">_</a>        <a id="1131" class="Symbol">=</a> <a id="1133" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="1138" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟨</a><a id="1139" class="CatchallClause"> </a><a id="1140" href="Karatsuba.html#1140" class="CatchallClause Bound">n</a><a id="1141" class="CatchallClause"> </a><a id="1142" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟩</a><a id="1143" class="CatchallClause"> </a><a id="1144" class="CatchallClause Symbol">_</a><a id="1145" class="CatchallClause">        </a><a id="1153" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⊛</a><a id="1154" class="CatchallClause"> </a><a id="1155" href="Agda.Builtin.List.html#185" class="CatchallClause InductiveConstructor">[]</a>       <a id="1164" class="Symbol">=</a> <a id="1166" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="1171" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟨</a><a id="1172" class="CatchallClause"> </a><a id="1173" href="Karatsuba.html#1173" class="CatchallClause Bound">n</a><a id="1174" class="CatchallClause"> </a><a id="1175" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟩</a><a id="1176" class="CatchallClause"> </a><a id="1177" class="CatchallClause Symbol">(</a><a id="1178" href="Karatsuba.html#1178" class="CatchallClause Bound">x</a><a id="1179" class="CatchallClause"> </a><a id="1180" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="1181" class="CatchallClause"> </a><a id="1182" href="Agda.Builtin.List.html#185" class="CatchallClause InductiveConstructor">[]</a><a id="1184" class="CatchallClause Symbol">)</a><a id="1185" class="CatchallClause"> </a><a id="1186" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⊛</a><a id="1187" class="CatchallClause"> </a><a id="1188" href="Karatsuba.html#1188" class="CatchallClause Bound">ys</a>       <a id="1197" class="Symbol">=</a> <a id="1199" href="Data.List.Base.html#1042" class="Function">map</a> <a id="1203" class="Symbol">(</a><a id="1204" href="Karatsuba.html#1178" class="Bound">x</a> <a id="1206" href="Data.Integer.html#775" class="Function Operator">*_</a><a id="1208" class="Symbol">)</a> <a id="1210" href="Karatsuba.html#1188" class="Bound">ys</a>
  <a id="1215" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟨</a><a id="1216" class="CatchallClause"> </a><a id="1217" href="Karatsuba.html#1217" class="CatchallClause Bound">n</a><a id="1218" class="CatchallClause"> </a><a id="1219" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟩</a><a id="1220" class="CatchallClause"> </a><a id="1221" href="Karatsuba.html#1221" class="CatchallClause Bound">xs</a><a id="1223" class="CatchallClause">       </a><a id="1230" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⊛</a><a id="1231" class="CatchallClause"> </a><a id="1232" class="CatchallClause Symbol">(</a><a id="1233" href="Karatsuba.html#1233" class="CatchallClause Bound">y</a><a id="1234" class="CatchallClause"> </a><a id="1235" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="1236" class="CatchallClause"> </a><a id="1237" href="Agda.Builtin.List.html#185" class="CatchallClause InductiveConstructor">[]</a><a id="1239" class="CatchallClause Symbol">)</a> <a id="1241" class="Symbol">=</a> <a id="1243" href="Data.List.Base.html#1042" class="Function">map</a> <a id="1247" class="Symbol">(</a><a id="1248" href="Karatsuba.html#1233" class="Bound">y</a> <a id="1250" href="Data.Integer.html#775" class="Function Operator">*_</a><a id="1252" class="Symbol">)</a> <a id="1254" href="Karatsuba.html#1221" class="Bound">xs</a>
  <a id="1259" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟨</a><a id="1260" class="CatchallClause"> </a><a id="1261" href="Karatsuba.html#1261" class="CatchallClause Bound">n</a><a id="1262" class="CatchallClause"> </a><a id="1263" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⟩</a><a id="1264" class="CatchallClause"> </a><a id="1265" href="Karatsuba.html#1265" class="CatchallClause Bound">xs</a><a id="1267" class="CatchallClause">       </a><a id="1274" href="Karatsuba.html#1065" class="CatchallClause Function Operator">⊛</a><a id="1275" class="CatchallClause"> </a><a id="1276" href="Karatsuba.html#1276" class="CatchallClause Bound">ys</a>       <a id="1285" class="Symbol">=</a> <a id="1287" href="Data.Maybe.Base.html#172" class="Function">maybe</a> <a id="1293" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1296" href="Karatsuba.html#510" class="Field">out</a> <a id="1300" class="Symbol">(</a><a id="1301" href="TreeFold.html#1437" class="Function">treeFoldMay</a> <a id="1313" href="Karatsuba.html#1339" class="Function Operator">⟨</a> <a id="1315" href="Karatsuba.html#1261" class="Bound">n</a> <a id="1317" href="Karatsuba.html#1339" class="Function Operator">⟩_◆_</a> <a id="1322" class="Symbol">(</a><a id="1323" href="Karatsuba.html#668" class="Function">pair</a> <a id="1328" href="Karatsuba.html#1265" class="Bound">xs</a> <a id="1331" href="Karatsuba.html#1276" class="Bound">ys</a><a id="1333" class="Symbol">))</a>

  <a id="⟨_⟩_◆_"></a><a id="1339" href="Karatsuba.html#1339" class="Function Operator">⟨_⟩_◆_</a> <a id="1346" class="Symbol">:</a> <a id="1348" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1350" class="Symbol">→</a> <a id="1352" href="Karatsuba.html#430" class="Record">K</a> <a id="1354" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1356" class="Symbol">→</a> <a id="1358" href="Karatsuba.html#430" class="Record">K</a> <a id="1360" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1362" class="Symbol">→</a> <a id="1364" href="Karatsuba.html#430" class="Record">K</a> <a id="1366" href="Data.Integer.html#204" class="Datatype">ℤ</a>
  <a id="1370" class="Symbol">(</a><a id="1371" href="Karatsuba.html#1339" class="Function Operator">⟨</a> <a id="1373" class="Symbol">_</a>     <a id="1379" href="Karatsuba.html#1339" class="Function Operator">⟩</a> <a id="1381" href="Karatsuba.html#1381" class="Bound">xs</a>           <a id="1394" href="Karatsuba.html#1339" class="Function Operator">◆</a> <a id="1396" href="Karatsuba.html#1396" class="Bound">ys</a>          <a id="1408" class="Symbol">)</a> <a id="1410" class="Symbol">.</a><a id="1411" href="Karatsuba.html#488" class="Field">pz</a>  <a id="1415" class="Symbol">=</a> <a id="1417" href="Karatsuba.html#1381" class="Bound">xs</a> <a id="1420" class="Symbol">.</a><a id="1421" href="Karatsuba.html#488" class="Field">pz</a> <a id="1424" href="Function.html#97" class="Function Operator">∘</a> <a id="1426" href="Karatsuba.html#1396" class="Bound">ys</a> <a id="1429" class="Symbol">.</a><a id="1430" href="Karatsuba.html#488" class="Field">pz</a>
  <a id="1435" class="Symbol">(</a><a id="1436" href="Karatsuba.html#1339" class="Function Operator">⟨</a> <a id="1438" class="Symbol">_</a>     <a id="1444" href="Karatsuba.html#1339" class="Function Operator">⟩</a> <a id="1446" href="Karatsuba.html#1446" class="Bound">xs</a>           <a id="1459" href="Karatsuba.html#1339" class="Function Operator">◆</a> <a id="1461" href="Karatsuba.html#1461" class="Bound">ys</a>          <a id="1473" class="Symbol">)</a> <a id="1475" class="Symbol">.</a><a id="1476" href="Karatsuba.html#491" class="Field">lo</a>  <a id="1480" class="Symbol">=</a> <a id="1482" href="Karatsuba.html#1446" class="Bound">xs</a> <a id="1485" class="Symbol">.</a><a id="1486" href="Karatsuba.html#491" class="Field">lo</a> <a id="1489" href="Function.html#97" class="Function Operator">∘</a> <a id="1491" href="Karatsuba.html#1461" class="Bound">ys</a> <a id="1494" class="Symbol">.</a><a id="1495" href="Karatsuba.html#491" class="Field">lo</a>
  <a id="1500" class="Symbol">(</a><a id="1501" href="Karatsuba.html#1339" class="Function Operator">⟨</a> <a id="1503" class="Symbol">_</a>     <a id="1509" href="Karatsuba.html#1339" class="Function Operator">⟩</a> <a id="1511" href="Karatsuba.html#1511" class="Bound">xs</a>           <a id="1524" href="Karatsuba.html#1339" class="Function Operator">◆</a> <a id="1526" href="Karatsuba.html#1526" class="Bound">ys</a>          <a id="1538" class="Symbol">)</a> <a id="1540" class="Symbol">.</a><a id="1541" href="Karatsuba.html#494" class="Field">hi</a>  <a id="1545" class="Symbol">=</a> <a id="1547" href="Karatsuba.html#1511" class="Bound">xs</a> <a id="1550" class="Symbol">.</a><a id="1551" href="Karatsuba.html#494" class="Field">hi</a> <a id="1554" href="Function.html#97" class="Function Operator">∘</a> <a id="1556" href="Karatsuba.html#1526" class="Bound">ys</a> <a id="1559" class="Symbol">.</a><a id="1560" href="Karatsuba.html#494" class="Field">hi</a>
  <a id="1565" class="Symbol">(</a><a id="1566" href="Karatsuba.html#1339" class="Function Operator">⟨</a> <a id="1568" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>  <a id="1574" href="Karatsuba.html#1339" class="Function Operator">⟩</a> <a id="1576" class="Symbol">_</a>            <a id="1589" href="Karatsuba.html#1339" class="Function Operator">◆</a> <a id="1591" class="Symbol">_</a>           <a id="1603" class="Symbol">)</a> <a id="1605" class="Symbol">.</a><a id="1606" href="Karatsuba.html#510" class="Field">out</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1615" class="Comment">-- should not happen</a>
  <a id="1638" class="Symbol">(</a><a id="1639" href="Karatsuba.html#1339" class="Function Operator">⟨</a> <a id="1641" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1645" href="Karatsuba.html#1645" class="Bound">t</a> <a id="1647" href="Karatsuba.html#1339" class="Function Operator">⟩</a> <a id="1649" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="1651" href="Karatsuba.html#1651" class="Bound">p</a> <a id="1653" href="Karatsuba.html#1653" class="Bound">x₀</a> <a id="1656" href="Karatsuba.html#1656" class="Bound">y₀</a> <a id="1659" href="Karatsuba.html#1659" class="Bound">z₀</a> <a id="1662" href="Karatsuba.html#1339" class="Function Operator">◆</a> <a id="1664" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="1666" class="Symbol">_</a> <a id="1668" href="Karatsuba.html#1668" class="Bound">x₁</a> <a id="1671" href="Karatsuba.html#1671" class="Bound">y₁</a> <a id="1674" href="Karatsuba.html#1674" class="Bound">z₂</a><a id="1676" class="Symbol">)</a> <a id="1678" class="Symbol">.</a><a id="1679" href="Karatsuba.html#510" class="Field">out</a> <a id="1683" class="Symbol">=</a> <a id="1685" href="Karatsuba.html#1651" class="Bound">p</a> <a id="1687" class="Symbol">(</a><a id="1688" href="Karatsuba.html#1651" class="Bound">p</a> <a id="1690" href="Karatsuba.html#1674" class="Bound">z₂</a> <a id="1693" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="1695" href="Karatsuba.html#1718" class="Function">z₁</a><a id="1697" class="Symbol">)</a> <a id="1699" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="1701" href="Karatsuba.html#1659" class="Bound">z₀</a>
    <a id="1708" class="Keyword">where</a>
    <a id="1718" href="Karatsuba.html#1718" class="Function">z₁</a> <a id="1721" class="Symbol">=</a> <a id="1723" href="Karatsuba.html#1065" class="Function Operator">⟨</a> <a id="1725" href="Karatsuba.html#1645" class="Bound">t</a> <a id="1727" href="Karatsuba.html#1065" class="Function Operator">⟩</a> <a id="1729" class="Symbol">(</a><a id="1730" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1732" href="Karatsuba.html#1653" class="Bound">x₀</a> <a id="1735" href="Karatsuba.html#385" class="Function Operator">⌋</a> <a id="1737" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="1739" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1741" href="Karatsuba.html#1668" class="Bound">x₁</a> <a id="1744" href="Karatsuba.html#385" class="Function Operator">⌋</a><a id="1745" class="Symbol">)</a> <a id="1747" href="Karatsuba.html#1065" class="Function Operator">⊛</a> <a id="1749" class="Symbol">(</a><a id="1750" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1752" href="Karatsuba.html#1656" class="Bound">y₀</a> <a id="1755" href="Karatsuba.html#385" class="Function Operator">⌋</a> <a id="1757" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="1759" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1761" href="Karatsuba.html#1671" class="Bound">y₁</a> <a id="1764" href="Karatsuba.html#385" class="Function Operator">⌋</a><a id="1765" class="Symbol">)</a> <a id="1767" href="Karatsuba.html#544" class="Function Operator">⊕</a>
              <a id="1783" class="Symbol">(</a><a id="1784" href="Data.List.Base.html#1042" class="Function">map</a> <a id="1788" href="Data.Integer.html#332" class="Function">negate</a> <a id="1795" href="Karatsuba.html#1659" class="Bound">z₀</a> <a id="1798" href="Karatsuba.html#544" class="Function Operator">⊕</a> <a id="1800" href="Data.List.Base.html#1042" class="Function">map</a> <a id="1804" href="Data.Integer.html#332" class="Function">negate</a> <a id="1811" href="Karatsuba.html#1674" class="Bound">z₂</a><a id="1813" class="Symbol">)</a>

<a id="_⊛_"></a><a id="1816" href="Karatsuba.html#1816" class="Function Operator">_⊛_</a> <a id="1820" class="Symbol">:</a> <a id="1822" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1827" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1829" class="Symbol">→</a> <a id="1831" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1836" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1838" class="Symbol">→</a> <a id="1840" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1845" href="Data.Integer.html#204" class="Datatype">ℤ</a>
<a id="1847" href="Karatsuba.html#1847" class="Bound">xs</a> <a id="1850" href="Karatsuba.html#1816" class="Function Operator">⊛</a> <a id="1852" href="Karatsuba.html#1852" class="Bound">ys</a> <a id="1855" class="Symbol">=</a> <a id="1857" href="Karatsuba.html#1065" class="Function Operator">⟨</a> <a id="1859" href="Data.List.Base.html#845" class="Function">length</a> <a id="1866" href="Karatsuba.html#1847" class="Bound">xs</a> <a id="1869" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ.+</a> <a id="1873" href="Data.List.Base.html#845" class="Function">length</a> <a id="1880" href="Karatsuba.html#1852" class="Bound">ys</a> <a id="1883" href="Karatsuba.html#1065" class="Function Operator">⟩</a> <a id="1885" href="Karatsuba.html#1847" class="Bound">xs</a> <a id="1888" href="Karatsuba.html#1065" class="Function Operator">⊛</a> <a id="1890" href="Karatsuba.html#1852" class="Bound">ys</a>

<a id="1894" href="Karatsuba.html#1894" class="Function">_</a> <a id="1896" class="Symbol">:</a> <a id="1898" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="1900" class="Number">2</a> <a id="1902" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1904" class="Number">5</a> <a id="1906" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a> <a id="1908" href="Karatsuba.html#1816" class="Function Operator">⊛</a> <a id="1910" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="1912" class="Number">1</a> <a id="1914" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1916" class="Number">1</a> <a id="1918" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a> <a id="1920" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="1922" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="1924" class="Number">2</a> <a id="1926" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1928" class="Number">7</a> <a id="1930" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1932" class="Number">5</a> <a id="1934" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a>
<a id="1936" class="Symbol">_</a> <a id="1938" class="Symbol">=</a> <a id="1940" href="Cubical.Foundations.Id.html#560" class="Function">refl</a>
</pre></body></html>