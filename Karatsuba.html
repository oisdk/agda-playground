<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Karatsuba</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--postfix-projections</a> <a id="45" class="Pragma">--safe</a> <a id="52" class="Symbol">#-}</a>

<a id="57" class="Keyword">module</a> <a id="64" href="Karatsuba.html" class="Module">Karatsuba</a> <a id="74" class="Keyword">where</a>

<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Prelude.html" class="Module">Prelude</a>

<a id="102" class="Keyword">open</a> <a id="107" class="Keyword">import</a> <a id="114" href="Data.List.html" class="Module">Data.List</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.List.Syntax.html" class="Module">Data.List.Syntax</a>

<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="TreeFold.html" class="Module">TreeFold</a>

<a id="176" class="Keyword">open</a> <a id="181" class="Keyword">import</a> <a id="188" href="Data.Integer.html" class="Module">Data.Integer</a>

<a id="202" class="Keyword">import</a> <a id="209" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="218" class="Symbol">as</a> <a id="221" class="Module">ℕ</a>

<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Literals.Number.html" class="Module">Literals.Number</a>
<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="Data.Integer.Literals.html" class="Module">Data.Integer.Literals</a>

<a id="Diff"></a><a id="287" href="Karatsuba.html#287" class="Function">Diff</a> <a id="292" class="Symbol">:</a> <a id="294" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="299" href="Level.html#266" class="Generalizable">a</a> <a id="301" class="Symbol">→</a> <a id="303" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="308" href="Level.html#266" class="Generalizable">a</a>
<a id="310" href="Karatsuba.html#287" class="Function">Diff</a> <a id="315" href="Karatsuba.html#315" class="Bound">A</a> <a id="317" class="Symbol">=</a> <a id="319" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="324" href="Karatsuba.html#315" class="Bound">A</a> <a id="326" class="Symbol">→</a> <a id="328" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="333" href="Karatsuba.html#315" class="Bound">A</a>

<a id="⌈⌉"></a><a id="336" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="339" class="Symbol">:</a> <a id="341" href="Karatsuba.html#287" class="Function">Diff</a> <a id="346" href="Level.html#282" class="Generalizable">A</a>
<a id="348" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="351" class="Symbol">=</a> <a id="353" href="Function.html#533" class="Function">id</a>

<a id="⌈_⌉"></a><a id="357" href="Karatsuba.html#357" class="Function Operator">⌈_⌉</a> <a id="361" class="Symbol">:</a> <a id="363" href="Level.html#282" class="Generalizable">A</a> <a id="365" class="Symbol">→</a> <a id="367" href="Karatsuba.html#287" class="Function">Diff</a> <a id="372" href="Level.html#282" class="Generalizable">A</a>
<a id="374" href="Karatsuba.html#357" class="Function Operator">⌈_⌉</a> <a id="378" class="Symbol">=</a> <a id="380" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">_∷_</a>

<a id="⌊_⌋"></a><a id="385" href="Karatsuba.html#385" class="Function Operator">⌊_⌋</a> <a id="389" class="Symbol">:</a> <a id="391" href="Karatsuba.html#287" class="Function">Diff</a> <a id="396" href="Level.html#282" class="Generalizable">A</a> <a id="398" class="Symbol">→</a> <a id="400" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="405" href="Level.html#282" class="Generalizable">A</a>
<a id="407" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="409" href="Karatsuba.html#409" class="Bound">xs</a> <a id="412" href="Karatsuba.html#385" class="Function Operator">⌋</a> <a id="414" class="Symbol">=</a> <a id="416" href="Karatsuba.html#409" class="Bound">xs</a> <a id="419" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>

<a id="423" class="Keyword">record</a> <a id="K"></a><a id="430" href="Karatsuba.html#430" class="Record">K</a> <a id="432" class="Symbol">(</a><a id="433" href="Karatsuba.html#433" class="Bound">A</a> <a id="435" class="Symbol">:</a> <a id="437" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="442" href="Level.html#266" class="Generalizable">a</a><a id="443" class="Symbol">)</a> <a id="445" class="Symbol">:</a> <a id="447" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="452" href="Karatsuba.html#442" class="Bound">a</a> <a id="454" class="Keyword">where</a>
  <a id="462" class="Keyword">constructor</a> <a id="k"></a><a id="474" href="Karatsuba.html#474" class="InductiveConstructor">k</a>
  <a id="478" class="Keyword">field</a>
    <a id="K.sh"></a><a id="488" href="Karatsuba.html#488" class="Field">sh</a> <a id="K.lo"></a><a id="491" href="Karatsuba.html#491" class="Field">lo</a> <a id="K.hi"></a><a id="494" href="Karatsuba.html#494" class="Field">hi</a> <a id="497" class="Symbol">:</a> <a id="499" href="Karatsuba.html#287" class="Function">Diff</a> <a id="504" href="Karatsuba.html#433" class="Bound">A</a>
    <a id="K.out"></a><a id="510" href="Karatsuba.html#510" class="Field">out</a> <a id="514" class="Symbol">:</a> <a id="516" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="521" href="Karatsuba.html#433" class="Bound">A</a>
<a id="523" class="Keyword">open</a> <a id="528" href="Karatsuba.html#430" class="Module">K</a>

<a id="531" class="Keyword">infixl</a> <a id="538" class="Number">6</a> <a id="540" href="Karatsuba.html#548" class="Function Operator">_⊕_</a> <a id="544" href="Karatsuba.html#884" class="Function Operator">_⊝_</a>
<a id="_⊕_"></a><a id="548" href="Karatsuba.html#548" class="Function Operator">_⊕_</a> <a id="552" class="Symbol">:</a> <a id="554" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="559" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="561" class="Symbol">→</a> <a id="563" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="568" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="570" class="Symbol">→</a> <a id="572" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="577" href="Data.Integer.html#204" class="Datatype">ℤ</a>
<a id="579" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="588" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="590" href="Karatsuba.html#590" class="Bound">ys</a>       <a id="599" class="Symbol">=</a> <a id="601" href="Karatsuba.html#590" class="Bound">ys</a>
<a id="604" href="Karatsuba.html#604" class="CatchallClause Bound">xs</a><a id="606" class="CatchallClause">       </a><a id="613" href="Karatsuba.html#548" class="CatchallClause Function Operator">⊕</a><a id="614" class="CatchallClause"> </a><a id="615" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a>       <a id="624" class="Symbol">=</a> <a id="626" href="Karatsuba.html#604" class="Bound">xs</a>
<a id="629" class="Symbol">(</a><a id="630" href="Karatsuba.html#630" class="Bound">x</a> <a id="632" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="634" href="Karatsuba.html#634" class="Bound">xs</a><a id="636" class="Symbol">)</a> <a id="638" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="640" class="Symbol">(</a><a id="641" href="Karatsuba.html#641" class="Bound">y</a> <a id="643" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="645" href="Karatsuba.html#645" class="Bound">ys</a><a id="647" class="Symbol">)</a> <a id="649" class="Symbol">=</a> <a id="651" class="Symbol">(</a><a id="652" href="Karatsuba.html#630" class="Bound">x</a> <a id="654" href="Data.Integer.html#537" class="Function Operator">+</a> <a id="656" href="Karatsuba.html#641" class="Bound">y</a><a id="657" class="Symbol">)</a> <a id="659" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="661" class="Symbol">(</a><a id="662" href="Karatsuba.html#634" class="Bound">xs</a> <a id="665" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="667" href="Karatsuba.html#645" class="Bound">ys</a><a id="669" class="Symbol">)</a>

<a id="_⍟_"></a><a id="672" href="Karatsuba.html#672" class="Function Operator">_⍟_</a> <a id="676" class="Symbol">:</a> <a id="678" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="683" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="685" class="Symbol">→</a> <a id="687" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="692" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="694" class="Symbol">→</a> <a id="696" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="701" class="Symbol">(</a><a id="702" href="Karatsuba.html#430" class="Record">K</a> <a id="704" href="Data.Integer.html#204" class="Datatype">ℤ</a><a id="705" class="Symbol">)</a>
<a id="707" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="716" href="Karatsuba.html#672" class="Function Operator">⍟</a> <a id="718" href="Karatsuba.html#718" class="Bound">ys</a>       <a id="727" class="Symbol">=</a> <a id="729" href="Data.List.Base.html#1144" class="Function">map</a> <a id="733" class="Symbol">(λ</a> <a id="736" href="Karatsuba.html#736" class="Bound">y</a> <a id="738" class="Symbol">→</a> <a id="740" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="742" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="744" class="Number">0</a> <a id="746" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="748" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="751" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="753" href="Karatsuba.html#736" class="Bound">y</a> <a id="755" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="757" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="759" class="Symbol">)</a> <a id="761" href="Karatsuba.html#718" class="Bound">ys</a>
<a id="764" href="Karatsuba.html#764" class="CatchallClause Bound">xs</a><a id="766" class="CatchallClause">       </a><a id="773" href="Karatsuba.html#672" class="CatchallClause Function Operator">⍟</a><a id="774" class="CatchallClause"> </a><a id="775" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a>       <a id="784" class="Symbol">=</a> <a id="786" href="Data.List.Base.html#1144" class="Function">map</a> <a id="790" class="Symbol">(λ</a> <a id="793" href="Karatsuba.html#793" class="Bound">x</a> <a id="795" class="Symbol">→</a> <a id="797" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="799" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="801" class="Number">0</a> <a id="803" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="805" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="807" href="Karatsuba.html#793" class="Bound">x</a> <a id="809" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="811" href="Karatsuba.html#336" class="Function">⌈⌉</a> <a id="814" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="816" class="Symbol">)</a> <a id="818" href="Karatsuba.html#764" class="Bound">xs</a>
<a id="821" class="Symbol">(</a><a id="822" href="Karatsuba.html#822" class="Bound">x</a> <a id="824" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="826" href="Karatsuba.html#826" class="Bound">xs</a><a id="828" class="Symbol">)</a> <a id="830" href="Karatsuba.html#672" class="Function Operator">⍟</a> <a id="832" class="Symbol">(</a><a id="833" href="Karatsuba.html#833" class="Bound">y</a> <a id="835" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="837" href="Karatsuba.html#837" class="Bound">ys</a><a id="839" class="Symbol">)</a> <a id="841" class="Symbol">=</a> <a id="843" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="845" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="847" class="Number">0</a> <a id="849" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="851" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="853" href="Karatsuba.html#822" class="Bound">x</a> <a id="855" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="857" href="Karatsuba.html#357" class="Function Operator">⌈</a> <a id="859" href="Karatsuba.html#833" class="Bound">y</a> <a id="861" href="Karatsuba.html#357" class="Function Operator">⌉</a> <a id="863" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="865" href="Karatsuba.html#822" class="Bound">x</a> <a id="867" href="Data.Integer.html#775" class="Function Operator">*</a> <a id="869" href="Karatsuba.html#833" class="Bound">y</a> <a id="871" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a> <a id="873" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="875" href="Karatsuba.html#826" class="Bound">xs</a> <a id="878" href="Karatsuba.html#672" class="Function Operator">⍟</a> <a id="880" href="Karatsuba.html#837" class="Bound">ys</a>

<a id="_⊝_"></a><a id="884" href="Karatsuba.html#884" class="Function Operator">_⊝_</a> <a id="888" class="Symbol">:</a> <a id="890" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="895" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="897" class="Symbol">→</a> <a id="899" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="904" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="906" class="Symbol">→</a> <a id="908" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="913" href="Data.Integer.html#204" class="Datatype">ℤ</a>
<a id="915" href="Karatsuba.html#915" class="Bound">xs</a> <a id="918" href="Karatsuba.html#884" class="Function Operator">⊝</a> <a id="920" href="Karatsuba.html#920" class="Bound">ys</a> <a id="923" class="Symbol">=</a> <a id="925" href="Karatsuba.html#915" class="Bound">xs</a> <a id="928" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="930" href="Data.List.Base.html#1144" class="Function">map</a> <a id="934" href="Data.Integer.html#332" class="Function">negate</a> <a id="941" href="Karatsuba.html#920" class="Bound">ys</a>

<a id="945" class="Comment">-- The first parameter in these functions is just used for termination checking.</a>
<a id="1026" class="Keyword">mutual</a>
  <a id="1035" class="Keyword">infixl</a> <a id="1042" class="Number">7</a> <a id="1044" href="Karatsuba.html#1053" class="Function Operator">⟨_⟩_⊛_</a>
  <a id="⟨_⟩_⊛_"></a><a id="1053" href="Karatsuba.html#1053" class="Function Operator">⟨_⟩_⊛_</a> <a id="1060" class="Symbol">:</a> <a id="1062" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1064" class="Symbol">→</a> <a id="1066" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1071" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1073" class="Symbol">→</a> <a id="1075" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1080" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1089" href="Data.Integer.html#204" class="Datatype">ℤ</a>
  <a id="1093" href="Karatsuba.html#1053" class="Function Operator">⟨</a> <a id="1095" href="Karatsuba.html#1095" class="Bound">n</a> <a id="1097" href="Karatsuba.html#1053" class="Function Operator">⟩</a> <a id="1099" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>       <a id="1108" href="Karatsuba.html#1053" class="Function Operator">⊛</a> <a id="1110" class="Symbol">_</a>        <a id="1119" class="Symbol">=</a> <a id="1121" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="1126" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟨</a><a id="1127" class="CatchallClause"> </a><a id="1128" href="Karatsuba.html#1128" class="CatchallClause Bound">n</a><a id="1129" class="CatchallClause"> </a><a id="1130" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟩</a><a id="1131" class="CatchallClause"> </a><a id="1132" class="CatchallClause Symbol">_</a><a id="1133" class="CatchallClause">        </a><a id="1141" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⊛</a><a id="1142" class="CatchallClause"> </a><a id="1143" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a>       <a id="1152" class="Symbol">=</a> <a id="1154" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="1159" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟨</a><a id="1160" class="CatchallClause"> </a><a id="1161" href="Karatsuba.html#1161" class="CatchallClause Bound">n</a><a id="1162" class="CatchallClause"> </a><a id="1163" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟩</a><a id="1164" class="CatchallClause"> </a><a id="1165" class="CatchallClause Symbol">(</a><a id="1166" href="Karatsuba.html#1166" class="CatchallClause Bound">x</a><a id="1167" class="CatchallClause"> </a><a id="1168" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="1169" class="CatchallClause"> </a><a id="1170" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a><a id="1172" class="CatchallClause Symbol">)</a><a id="1173" class="CatchallClause"> </a><a id="1174" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⊛</a><a id="1175" class="CatchallClause"> </a><a id="1176" href="Karatsuba.html#1176" class="CatchallClause Bound">ys</a>       <a id="1185" class="Symbol">=</a> <a id="1187" href="Data.List.Base.html#1144" class="Function">map</a> <a id="1191" class="Symbol">(</a><a id="1192" href="Karatsuba.html#1166" class="Bound">x</a> <a id="1194" href="Data.Integer.html#775" class="Function Operator">*_</a><a id="1196" class="Symbol">)</a> <a id="1198" href="Karatsuba.html#1176" class="Bound">ys</a>
  <a id="1203" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟨</a><a id="1204" class="CatchallClause"> </a><a id="1205" href="Karatsuba.html#1205" class="CatchallClause Bound">n</a><a id="1206" class="CatchallClause"> </a><a id="1207" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟩</a><a id="1208" class="CatchallClause"> </a><a id="1209" href="Karatsuba.html#1209" class="CatchallClause Bound">xs</a><a id="1211" class="CatchallClause">       </a><a id="1218" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⊛</a><a id="1219" class="CatchallClause"> </a><a id="1220" class="CatchallClause Symbol">(</a><a id="1221" href="Karatsuba.html#1221" class="CatchallClause Bound">y</a><a id="1222" class="CatchallClause"> </a><a id="1223" href="Agda.Builtin.List.html#199" class="CatchallClause InductiveConstructor Operator">∷</a><a id="1224" class="CatchallClause"> </a><a id="1225" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a><a id="1227" class="CatchallClause Symbol">)</a> <a id="1229" class="Symbol">=</a> <a id="1231" href="Data.List.Base.html#1144" class="Function">map</a> <a id="1235" class="Symbol">(</a><a id="1236" href="Karatsuba.html#1221" class="Bound">y</a> <a id="1238" href="Data.Integer.html#775" class="Function Operator">*_</a><a id="1240" class="Symbol">)</a> <a id="1242" href="Karatsuba.html#1209" class="Bound">xs</a>
  <a id="1247" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟨</a><a id="1248" class="CatchallClause"> </a><a id="1249" href="Karatsuba.html#1249" class="CatchallClause Bound">n</a><a id="1250" class="CatchallClause"> </a><a id="1251" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⟩</a><a id="1252" class="CatchallClause"> </a><a id="1253" href="Karatsuba.html#1253" class="CatchallClause Bound">xs</a><a id="1255" class="CatchallClause">       </a><a id="1262" href="Karatsuba.html#1053" class="CatchallClause Function Operator">⊛</a><a id="1263" class="CatchallClause"> </a><a id="1264" href="Karatsuba.html#1264" class="CatchallClause Bound">ys</a>       <a id="1273" class="Symbol">=</a> <a id="1275" href="Data.Maybe.Base.html#124" class="Function">maybe</a> <a id="1281" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1284" href="Karatsuba.html#510" class="Field">out</a> <a id="1288" class="Symbol">(</a><a id="1289" href="TreeFold.html#1437" class="Function">treeFoldMay</a> <a id="1301" href="Karatsuba.html#1324" class="Function Operator">⟨</a> <a id="1303" href="Karatsuba.html#1249" class="Bound">n</a> <a id="1305" href="Karatsuba.html#1324" class="Function Operator">⟩_◆_</a> <a id="1310" class="Symbol">(</a><a id="1311" href="Karatsuba.html#1253" class="Bound">xs</a> <a id="1314" href="Karatsuba.html#672" class="Function Operator">⍟</a> <a id="1316" href="Karatsuba.html#1264" class="Bound">ys</a><a id="1318" class="Symbol">))</a>

  <a id="⟨_⟩_◆_"></a><a id="1324" href="Karatsuba.html#1324" class="Function Operator">⟨_⟩_◆_</a> <a id="1331" class="Symbol">:</a> <a id="1333" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1335" class="Symbol">→</a> <a id="1337" href="Karatsuba.html#430" class="Record">K</a> <a id="1339" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1341" class="Symbol">→</a> <a id="1343" href="Karatsuba.html#430" class="Record">K</a> <a id="1345" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1347" class="Symbol">→</a> <a id="1349" href="Karatsuba.html#430" class="Record">K</a> <a id="1351" href="Data.Integer.html#204" class="Datatype">ℤ</a>
  <a id="1355" class="Symbol">(</a><a id="1356" href="Karatsuba.html#1324" class="Function Operator">⟨</a> <a id="1358" class="Symbol">_</a>     <a id="1364" href="Karatsuba.html#1324" class="Function Operator">⟩</a> <a id="1366" href="Karatsuba.html#1366" class="Bound">xs</a>           <a id="1379" href="Karatsuba.html#1324" class="Function Operator">◆</a> <a id="1381" href="Karatsuba.html#1381" class="Bound">ys</a>          <a id="1393" class="Symbol">)</a> <a id="1395" class="Symbol">.</a><a id="1396" href="Karatsuba.html#488" class="Field">sh</a>  <a id="1400" class="Symbol">=</a> <a id="1402" href="Karatsuba.html#1366" class="Bound">xs</a> <a id="1405" class="Symbol">.</a><a id="1406" href="Karatsuba.html#488" class="Field">sh</a> <a id="1409" href="Function.html#97" class="Function Operator">∘</a> <a id="1411" href="Karatsuba.html#1381" class="Bound">ys</a> <a id="1414" class="Symbol">.</a><a id="1415" href="Karatsuba.html#488" class="Field">sh</a>
  <a id="1420" class="Symbol">(</a><a id="1421" href="Karatsuba.html#1324" class="Function Operator">⟨</a> <a id="1423" class="Symbol">_</a>     <a id="1429" href="Karatsuba.html#1324" class="Function Operator">⟩</a> <a id="1431" href="Karatsuba.html#1431" class="Bound">xs</a>           <a id="1444" href="Karatsuba.html#1324" class="Function Operator">◆</a> <a id="1446" href="Karatsuba.html#1446" class="Bound">ys</a>          <a id="1458" class="Symbol">)</a> <a id="1460" class="Symbol">.</a><a id="1461" href="Karatsuba.html#491" class="Field">lo</a>  <a id="1465" class="Symbol">=</a> <a id="1467" href="Karatsuba.html#1431" class="Bound">xs</a> <a id="1470" class="Symbol">.</a><a id="1471" href="Karatsuba.html#491" class="Field">lo</a> <a id="1474" href="Function.html#97" class="Function Operator">∘</a> <a id="1476" href="Karatsuba.html#1446" class="Bound">ys</a> <a id="1479" class="Symbol">.</a><a id="1480" href="Karatsuba.html#491" class="Field">lo</a>
  <a id="1485" class="Symbol">(</a><a id="1486" href="Karatsuba.html#1324" class="Function Operator">⟨</a> <a id="1488" class="Symbol">_</a>     <a id="1494" href="Karatsuba.html#1324" class="Function Operator">⟩</a> <a id="1496" href="Karatsuba.html#1496" class="Bound">xs</a>           <a id="1509" href="Karatsuba.html#1324" class="Function Operator">◆</a> <a id="1511" href="Karatsuba.html#1511" class="Bound">ys</a>          <a id="1523" class="Symbol">)</a> <a id="1525" class="Symbol">.</a><a id="1526" href="Karatsuba.html#494" class="Field">hi</a>  <a id="1530" class="Symbol">=</a> <a id="1532" href="Karatsuba.html#1496" class="Bound">xs</a> <a id="1535" class="Symbol">.</a><a id="1536" href="Karatsuba.html#494" class="Field">hi</a> <a id="1539" href="Function.html#97" class="Function Operator">∘</a> <a id="1541" href="Karatsuba.html#1511" class="Bound">ys</a> <a id="1544" class="Symbol">.</a><a id="1545" href="Karatsuba.html#494" class="Field">hi</a>
  <a id="1550" class="Symbol">(</a><a id="1551" href="Karatsuba.html#1324" class="Function Operator">⟨</a> <a id="1553" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>  <a id="1559" href="Karatsuba.html#1324" class="Function Operator">⟩</a> <a id="1561" class="Symbol">_</a>            <a id="1574" href="Karatsuba.html#1324" class="Function Operator">◆</a> <a id="1576" class="Symbol">_</a>           <a id="1588" class="Symbol">)</a> <a id="1590" class="Symbol">.</a><a id="1591" href="Karatsuba.html#510" class="Field">out</a> <a id="1595" class="Symbol">=</a> <a id="1597" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="1600" class="Comment">-- should not happen</a>
  <a id="1623" class="Symbol">(</a><a id="1624" href="Karatsuba.html#1324" class="Function Operator">⟨</a> <a id="1626" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1630" href="Karatsuba.html#1630" class="Bound">t</a> <a id="1632" href="Karatsuba.html#1324" class="Function Operator">⟩</a> <a id="1634" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="1636" href="Karatsuba.html#1636" class="Bound">p</a> <a id="1638" href="Karatsuba.html#1638" class="Bound">x₀</a> <a id="1641" href="Karatsuba.html#1641" class="Bound">y₀</a> <a id="1644" href="Karatsuba.html#1644" class="Bound">z₀</a> <a id="1647" href="Karatsuba.html#1324" class="Function Operator">◆</a> <a id="1649" href="Karatsuba.html#474" class="InductiveConstructor">k</a> <a id="1651" class="Symbol">_</a> <a id="1653" href="Karatsuba.html#1653" class="Bound">x₁</a> <a id="1656" href="Karatsuba.html#1656" class="Bound">y₁</a> <a id="1659" href="Karatsuba.html#1659" class="Bound">z₂</a><a id="1661" class="Symbol">)</a> <a id="1663" class="Symbol">.</a><a id="1664" href="Karatsuba.html#510" class="Field">out</a> <a id="1668" class="Symbol">=</a>
    <a id="1674" class="Keyword">let</a> <a id="1678" href="Karatsuba.html#1678" class="Bound">z₁</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="Karatsuba.html#1053" class="Function Operator">⟨</a> <a id="1685" href="Karatsuba.html#1630" class="Bound">t</a> <a id="1687" href="Karatsuba.html#1053" class="Function Operator">⟩</a> <a id="1689" class="Symbol">(</a><a id="1690" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1692" href="Karatsuba.html#1638" class="Bound">x₀</a> <a id="1695" href="Karatsuba.html#385" class="Function Operator">⌋</a> <a id="1697" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="1699" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1701" href="Karatsuba.html#1653" class="Bound">x₁</a> <a id="1704" href="Karatsuba.html#385" class="Function Operator">⌋</a><a id="1705" class="Symbol">)</a> <a id="1707" href="Karatsuba.html#1053" class="Function Operator">⊛</a> <a id="1709" class="Symbol">(</a><a id="1710" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1712" href="Karatsuba.html#1641" class="Bound">y₀</a> <a id="1715" href="Karatsuba.html#385" class="Function Operator">⌋</a> <a id="1717" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="1719" href="Karatsuba.html#385" class="Function Operator">⌊</a> <a id="1721" href="Karatsuba.html#1656" class="Bound">y₁</a> <a id="1724" href="Karatsuba.html#385" class="Function Operator">⌋</a><a id="1725" class="Symbol">)</a>
    <a id="1731" class="Keyword">in</a>  <a id="1735" href="Karatsuba.html#1636" class="Bound">p</a> <a id="1737" class="Symbol">(</a><a id="1738" href="Karatsuba.html#1636" class="Bound">p</a> <a id="1740" href="Karatsuba.html#1659" class="Bound">z₂</a> <a id="1743" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="1745" href="Karatsuba.html#1678" class="Bound">z₁</a> <a id="1748" href="Karatsuba.html#884" class="Function Operator">⊝</a> <a id="1750" class="Symbol">(</a><a id="1751" href="Karatsuba.html#1644" class="Bound">z₀</a> <a id="1754" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="1756" href="Karatsuba.html#1659" class="Bound">z₂</a><a id="1758" class="Symbol">))</a> <a id="1761" href="Karatsuba.html#548" class="Function Operator">⊕</a> <a id="1763" href="Karatsuba.html#1644" class="Bound">z₀</a>

<a id="_⊛_"></a><a id="1767" href="Karatsuba.html#1767" class="Function Operator">_⊛_</a> <a id="1771" class="Symbol">:</a> <a id="1773" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1778" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1780" class="Symbol">→</a> <a id="1782" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1787" href="Data.Integer.html#204" class="Datatype">ℤ</a> <a id="1789" class="Symbol">→</a> <a id="1791" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="1796" href="Data.Integer.html#204" class="Datatype">ℤ</a>
<a id="1798" href="Karatsuba.html#1798" class="Bound">xs</a> <a id="1801" href="Karatsuba.html#1767" class="Function Operator">⊛</a> <a id="1803" href="Karatsuba.html#1803" class="Bound">ys</a> <a id="1806" class="Symbol">=</a> <a id="1808" href="Karatsuba.html#1053" class="Function Operator">⟨</a> <a id="1810" href="Data.List.Base.html#845" class="Function">length</a> <a id="1817" href="Karatsuba.html#1798" class="Bound">xs</a> <a id="1820" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">ℕ.+</a> <a id="1824" href="Data.List.Base.html#845" class="Function">length</a> <a id="1831" href="Karatsuba.html#1803" class="Bound">ys</a> <a id="1834" href="Karatsuba.html#1053" class="Function Operator">⟩</a> <a id="1836" href="Karatsuba.html#1798" class="Bound">xs</a> <a id="1839" href="Karatsuba.html#1053" class="Function Operator">⊛</a> <a id="1841" href="Karatsuba.html#1803" class="Bound">ys</a>

<a id="1845" href="Karatsuba.html#1845" class="Function">_</a> <a id="1847" class="Symbol">:</a> <a id="1849" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="1851" class="Number">2</a> <a id="1853" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1855" class="Number">5</a> <a id="1857" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a> <a id="1859" href="Karatsuba.html#1767" class="Function Operator">⊛</a> <a id="1861" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="1863" class="Number">1</a> <a id="1865" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1867" class="Number">1</a> <a id="1869" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a> <a id="1871" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="1873" href="Data.Vec.Sigma.html#459" class="Function Operator">[</a> <a id="1875" class="Number">2</a> <a id="1877" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1879" class="Number">7</a> <a id="1881" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1883" class="Number">5</a> <a id="1885" href="Data.Vec.Sigma.html#459" class="Function Operator">]</a>
<a id="1887" class="Symbol">_</a> <a id="1889" class="Symbol">=</a> <a id="1891" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>
</pre></body></html>