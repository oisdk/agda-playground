<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Control.Comonad.IntervalHeap</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--safe</a> <a id="30" class="Pragma">--postfix-projections</a> <a id="52" class="Pragma">--guardedness</a> <a id="66" class="Symbol">#-}</a>

<a id="71" class="Keyword">open</a> <a id="76" class="Keyword">import</a> <a id="83" href="Algebra.html" class="Module">Algebra</a>
<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Prelude.html" class="Module">Prelude</a>
<a id="111" class="Keyword">open</a> <a id="116" class="Keyword">import</a> <a id="123" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="139" class="Keyword">open</a> <a id="144" class="Keyword">import</a> <a id="151" href="WellFounded.html" class="Module">WellFounded</a>
<a id="163" class="Keyword">open</a> <a id="168" class="Keyword">import</a> <a id="175" href="Algebra.Monus.html" class="Module">Algebra.Monus</a>
<a id="189" class="Keyword">open</a> <a id="194" class="Keyword">import</a> <a id="201" href="Data.Maybe.html" class="Module">Data.Maybe</a>

<a id="213" class="Keyword">module</a> <a id="220" href="Control.Comonad.IntervalHeap.html" class="Module">Control.Comonad.IntervalHeap</a> <a id="249" class="Symbol">{</a><a id="250" href="Control.Comonad.IntervalHeap.html#250" class="Bound">s</a><a id="251" class="Symbol">}</a>
  <a id="255" class="Symbol">(</a><a id="256" href="Control.Comonad.IntervalHeap.html#256" class="Bound">mon</a> <a id="260" class="Symbol">:</a> <a id="262" href="Algebra.Monus.html#201" class="Record">Monus</a> <a id="268" href="Control.Comonad.IntervalHeap.html#250" class="Bound">s</a><a id="269" class="Symbol">)</a>
  <a id="273" class="Symbol">(</a><a id="274" href="Control.Comonad.IntervalHeap.html#274" class="Bound">absorbative</a> <a id="286" class="Symbol">:</a> <a id="288" href="Algebra.Monus.html#1723" class="Function">Monus.Absorbative</a> <a id="306" href="Control.Comonad.IntervalHeap.html#256" class="Bound">mon</a><a id="309" class="Symbol">)</a>
  <a id="313" class="Symbol">(</a><a id="314" href="Control.Comonad.IntervalHeap.html#314" class="Bound">wf</a> <a id="317" class="Symbol">:</a> <a id="319" href="WellFounded.html#385" class="Function">WellFounded</a> <a id="331" class="Symbol">(</a><a id="332" href="Relation.Binary.html#1546" class="Function Operator">Monus._&lt;_</a> <a id="342" href="Control.Comonad.IntervalHeap.html#256" class="Bound">mon</a><a id="345" class="Symbol">))</a> <a id="348" class="Keyword">where</a>

<a id="355" class="Keyword">open</a> <a id="360" href="Algebra.Monus.html#201" class="Module">Monus</a> <a id="366" href="Control.Comonad.IntervalHeap.html#256" class="Bound">mon</a> <a id="370" class="Keyword">public</a> <a id="377" class="Keyword">renaming</a> <a id="386" class="Symbol">(</a>total⇒discrete <a id="402" class="Symbol">to</a> _≟_<a id="408" class="Symbol">)</a>

<a id="411" class="Keyword">record</a> <a id="Heap"></a><a id="418" href="Control.Comonad.IntervalHeap.html#418" class="Record">Heap</a> <a id="423" class="Symbol">{</a><a id="424" href="Control.Comonad.IntervalHeap.html#424" class="Bound">a</a><a id="425" class="Symbol">}</a> <a id="427" class="Symbol">(</a><a id="428" href="Control.Comonad.IntervalHeap.html#428" class="Bound">A</a> <a id="430" class="Symbol">:</a> <a id="432" href="Level.html#192" class="Function">Type</a> <a id="437" href="Control.Comonad.IntervalHeap.html#424" class="Bound">a</a><a id="438" class="Symbol">)</a> <a id="440" class="Symbol">:</a> <a id="442" href="Level.html#192" class="Function">Type</a> <a id="447" class="Symbol">(</a><a id="448" href="Control.Comonad.IntervalHeap.html#250" class="Bound">s</a> <a id="450" href="Agda.Primitive.html#636" class="Primitive Operator">ℓ⊔</a> <a id="453" href="Control.Comonad.IntervalHeap.html#424" class="Bound">a</a><a id="454" class="Symbol">)</a> <a id="456" class="Keyword">where</a>
  <a id="464" class="Keyword">coinductive</a><a id="475" class="Symbol">;</a> <a id="477" class="Keyword">constructor</a> <a id="_≺_"></a><a id="489" href="Control.Comonad.IntervalHeap.html#489" class="CoinductiveConstructor Operator">_≺_</a>
  <a id="495" class="Keyword">field</a>
    <a id="Heap.v"></a><a id="505" href="Control.Comonad.IntervalHeap.html#505" class="Field">v</a> <a id="507" class="Symbol">:</a> <a id="509" href="Control.Comonad.IntervalHeap.html#428" class="Bound">A</a>
    <a id="Heap.next"></a><a id="515" href="Control.Comonad.IntervalHeap.html#515" class="Field">next</a> <a id="520" class="Symbol">:</a> <a id="522" href="Data.Maybe.Base.html#91" class="Datatype">Maybe</a> <a id="528" class="Symbol">(</a><a id="529" href="Data.Sigma.Base.html#248" class="Function">∃[</a> <a id="532" href="Control.Comonad.IntervalHeap.html#532" class="Bound">s</a> <a id="534" href="Data.Sigma.Base.html#248" class="Function">]</a> <a id="536" class="Symbol">((</a><a id="538" href="Control.Comonad.IntervalHeap.html#532" class="Bound">s</a> <a id="540" href="Path.html#506" class="Function Operator">≢</a> <a id="542" href="Algebra.html#1444" class="Function">ε</a><a id="543" class="Symbol">)</a> <a id="545" href="Data.Sigma.Base.html#519" class="Function Operator">×</a> <a id="547" href="Control.Comonad.IntervalHeap.html#418" class="Record">Heap</a> <a id="552" href="Control.Comonad.IntervalHeap.html#428" class="Bound">A</a><a id="553" class="Symbol">))</a>
<a id="556" class="Keyword">open</a> <a id="561" href="Control.Comonad.IntervalHeap.html#418" class="Module">Heap</a> <a id="566" class="Keyword">public</a>

<a id="State"></a><a id="574" href="Control.Comonad.IntervalHeap.html#574" class="Function">State</a> <a id="580" class="Symbol">:</a> <a id="582" href="Level.html#192" class="Function">Type</a> <a id="587" href="Level.html#372" class="Generalizable">a</a> <a id="589" class="Symbol">→</a> <a id="591" href="Level.html#192" class="Function">Type</a> <a id="596" class="Symbol">_</a>
<a id="598" href="Control.Comonad.IntervalHeap.html#574" class="Function">State</a> <a id="604" href="Control.Comonad.IntervalHeap.html#604" class="Bound">A</a> <a id="606" class="Symbol">=</a> <a id="608" href="Algebra.html#1401" class="Function">𝑆</a> <a id="610" class="Symbol">→</a> <a id="612" href="Control.Comonad.IntervalHeap.html#604" class="Bound">A</a> <a id="614" href="Data.Sigma.Base.html#519" class="Function Operator">×</a> <a id="616" href="Algebra.html#1401" class="Function">𝑆</a>

<a id="pop′"></a><a id="619" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="624" class="Symbol">:</a> <a id="626" class="Symbol">(</a><a id="627" href="Control.Comonad.IntervalHeap.html#627" class="Bound">s</a> <a id="629" class="Symbol">:</a> <a id="631" href="Algebra.html#1401" class="Function">𝑆</a><a id="632" class="Symbol">)</a> <a id="634" class="Symbol">→</a> <a id="636" href="WellFounded.html#87" class="Datatype">Acc</a> <a id="640" href="Relation.Binary.html#1546" class="Function Operator">_&lt;_</a> <a id="644" href="Control.Comonad.IntervalHeap.html#627" class="Bound">s</a> <a id="646" class="Symbol">→</a> <a id="648" href="Control.Comonad.IntervalHeap.html#418" class="Record">Heap</a> <a id="653" href="Level.html#388" class="Generalizable">A</a> <a id="655" class="Symbol">→</a> <a id="657" href="Level.html#388" class="Generalizable">A</a> <a id="659" href="Data.Sigma.Base.html#519" class="Function Operator">×</a> <a id="661" href="Algebra.html#1401" class="Function">𝑆</a>
<a id="663" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="668" href="Control.Comonad.IntervalHeap.html#668" class="Bound">s₂</a> <a id="671" href="Control.Comonad.IntervalHeap.html#671" class="Bound">a</a> <a id="673" href="Control.Comonad.IntervalHeap.html#673" class="Bound">xs</a> <a id="676" class="Keyword">with</a> <a id="681" href="Control.Comonad.IntervalHeap.html#673" class="Bound">xs</a> <a id="684" class="Symbol">.</a><a id="685" href="Control.Comonad.IntervalHeap.html#515" class="Field">next</a>
<a id="690" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="695" href="Control.Comonad.IntervalHeap.html#695" class="Bound">s₂</a> <a id="698" href="Control.Comonad.IntervalHeap.html#698" class="Bound">a</a> <a id="700" href="Control.Comonad.IntervalHeap.html#700" class="Bound">xs</a> <a id="703" class="Symbol">|</a> <a id="705" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a> <a id="713" class="Symbol">=</a> <a id="715" href="Control.Comonad.IntervalHeap.html#700" class="Bound">xs</a> <a id="718" class="Symbol">.</a><a id="719" href="Control.Comonad.IntervalHeap.html#505" class="Field">v</a> <a id="721" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="723" href="Algebra.html#1444" class="Function">ε</a>
<a id="725" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="730" href="Control.Comonad.IntervalHeap.html#730" class="Bound">s₂</a> <a id="733" href="Control.Comonad.IntervalHeap.html#733" class="Bound">a</a> <a id="735" href="Control.Comonad.IntervalHeap.html#735" class="Bound">xs</a> <a id="738" class="Symbol">|</a> <a id="740" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="745" class="Symbol">(</a><a id="746" href="Control.Comonad.IntervalHeap.html#746" class="Bound">s₁</a> <a id="749" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="751" href="Control.Comonad.IntervalHeap.html#751" class="Bound">s₁≢ε</a> <a id="756" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="758" href="Control.Comonad.IntervalHeap.html#758" class="Bound">ys</a><a id="760" class="Symbol">)</a> <a id="762" class="Keyword">with</a> <a id="767" href="Control.Comonad.IntervalHeap.html#746" class="Bound">s₁</a> <a id="770" href="Relation.Binary.html#3866" class="Function Operator">≤?</a> <a id="773" href="Control.Comonad.IntervalHeap.html#730" class="Bound">s₂</a>
<a id="776" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="781" href="Control.Comonad.IntervalHeap.html#781" class="Bound">s₂</a> <a id="784" href="Control.Comonad.IntervalHeap.html#784" class="Bound">a</a> <a id="786" href="Control.Comonad.IntervalHeap.html#786" class="Bound">xs</a> <a id="789" class="Symbol">|</a> <a id="791" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="796" class="Symbol">(</a><a id="797" href="Control.Comonad.IntervalHeap.html#797" class="Bound">s₁</a> <a id="800" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="802" href="Control.Comonad.IntervalHeap.html#802" class="Bound">s₁≢ε</a> <a id="807" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="809" href="Control.Comonad.IntervalHeap.html#809" class="Bound">ys</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">|</a> <a id="815" href="Relation.Nullary.Decidable.Base.html#425" class="InductiveConstructor">no</a> <a id="818" href="Control.Comonad.IntervalHeap.html#818" class="Bound">s₁≰s₂</a> <a id="824" class="Symbol">=</a> <a id="826" href="Control.Comonad.IntervalHeap.html#786" class="Bound">xs</a> <a id="829" class="Symbol">.</a><a id="830" href="Control.Comonad.IntervalHeap.html#505" class="Field">v</a> <a id="832" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="834" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="838" class="Symbol">(</a><a id="839" href="Relation.Binary.html#3562" class="Function">&lt;⇒≤</a> <a id="843" href="Control.Comonad.IntervalHeap.html#818" class="Bound">s₁≰s₂</a><a id="848" class="Symbol">)</a>
<a id="850" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="855" href="Control.Comonad.IntervalHeap.html#855" class="Bound">s₂</a> <a id="858" class="Symbol">(</a><a id="859" href="WellFounded.html#163" class="InductiveConstructor">acc</a> <a id="863" href="Control.Comonad.IntervalHeap.html#863" class="Bound">wf</a><a id="865" class="Symbol">)</a> <a id="867" href="Control.Comonad.IntervalHeap.html#867" class="Bound">xs</a> <a id="870" class="Symbol">|</a> <a id="872" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="877" class="Symbol">(</a><a id="878" href="Control.Comonad.IntervalHeap.html#878" class="Bound">s₁</a> <a id="881" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="883" href="Control.Comonad.IntervalHeap.html#883" class="Bound">s₁≢ε</a> <a id="888" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="890" href="Control.Comonad.IntervalHeap.html#890" class="Bound">ys</a><a id="892" class="Symbol">)</a> <a id="894" class="Symbol">|</a> <a id="896" href="Relation.Nullary.Decidable.Base.html#391" class="InductiveConstructor">yes</a> <a id="900" class="Symbol">(</a><a id="901" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="904" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="906" href="Control.Comonad.IntervalHeap.html#906" class="Bound">s₂≡s₁∙k₁</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">=</a> <a id="918" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="923" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="926" class="Symbol">(</a><a id="927" href="Control.Comonad.IntervalHeap.html#863" class="Bound">wf</a> <a id="930" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="933" href="Control.Comonad.IntervalHeap.html#953" class="Function">lemma</a><a id="938" class="Symbol">)</a> <a id="940" href="Control.Comonad.IntervalHeap.html#890" class="Bound">ys</a>
  <a id="945" class="Keyword">where</a>
  <a id="953" href="Control.Comonad.IntervalHeap.html#953" class="Function">lemma</a> <a id="959" class="Symbol">:</a> <a id="961" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="964" href="Relation.Binary.html#1546" class="Function Operator">&lt;</a> <a id="966" href="Control.Comonad.IntervalHeap.html#855" class="Bound">s₂</a>
  <a id="971" href="Control.Comonad.IntervalHeap.html#953" class="Function">lemma</a> <a id="977" class="Symbol">(</a><a id="978" href="Control.Comonad.IntervalHeap.html#978" class="Bound">k₂</a> <a id="981" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="983" href="Control.Comonad.IntervalHeap.html#983" class="Bound">k₁≡s₂∙k₂</a><a id="991" class="Symbol">)</a> <a id="993" class="Symbol">=</a> <a id="995" href="Control.Comonad.IntervalHeap.html#883" class="Bound">s₁≢ε</a> <a id="1000" class="Symbol">(</a><a id="1001" href="Algebra.Monus.html#1066" class="Function">zeroSumFree</a> <a id="1013" href="Control.Comonad.IntervalHeap.html#878" class="Bound">s₁</a> <a id="1016" href="Control.Comonad.IntervalHeap.html#978" class="Bound">k₂</a> <a id="1019" class="Symbol">(</a><a id="1020" href="Control.Comonad.IntervalHeap.html#274" class="Bound">absorbative</a> <a id="1032" class="Symbol">_</a> <a id="1034" class="Symbol">_</a> <a id="1036" href="Control.Comonad.IntervalHeap.html#1054" class="Function">p</a><a id="1037" class="Symbol">))</a>
    <a id="1044" class="Keyword">where</a>
    <a id="1054" href="Control.Comonad.IntervalHeap.html#1054" class="Function">p</a> <a id="1056" class="Symbol">:</a> <a id="1058" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="1061" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="1063" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="1066" href="Algebra.html#1421" class="Function Operator">∙</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Control.Comonad.IntervalHeap.html#878" class="Bound">s₁</a> <a id="1072" href="Algebra.html#1421" class="Function Operator">∙</a> <a id="1074" href="Control.Comonad.IntervalHeap.html#978" class="Bound">k₂</a><a id="1076" class="Symbol">)</a>
    <a id="1082" href="Control.Comonad.IntervalHeap.html#1054" class="Function">p</a> <a id="1084" class="Symbol">=</a> <a id="1086" href="Control.Comonad.IntervalHeap.html#983" class="Bound">k₁≡s₂∙k₂</a> <a id="1095" href="Cubical.Foundations.Id.html#747" class="Function Operator">;</a> <a id="1097" href="Cubical.Foundations.Id.html#782" class="Function">cong</a> <a id="1102" class="Symbol">(</a><a id="1103" href="Algebra.html#1421" class="Function Operator">_∙</a> <a id="1106" href="Control.Comonad.IntervalHeap.html#978" class="Bound">k₂</a><a id="1108" class="Symbol">)</a> <a id="1110" href="Control.Comonad.IntervalHeap.html#906" class="Bound">s₂≡s₁∙k₁</a> <a id="1119" href="Cubical.Foundations.Id.html#747" class="Function Operator">;</a> <a id="1121" href="Cubical.Foundations.Id.html#782" class="Function">cong</a> <a id="1126" class="Symbol">(</a><a id="1127" href="Algebra.html#1421" class="Function Operator">_∙</a> <a id="1130" href="Control.Comonad.IntervalHeap.html#978" class="Bound">k₂</a><a id="1132" class="Symbol">)</a> <a id="1134" class="Symbol">(</a><a id="1135" href="Algebra.html#2294" class="Function">comm</a> <a id="1140" href="Control.Comonad.IntervalHeap.html#878" class="Bound">s₁</a> <a id="1143" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a><a id="1145" class="Symbol">)</a> <a id="1147" href="Cubical.Foundations.Id.html#747" class="Function Operator">;</a> <a id="1149" href="Algebra.html#1459" class="Function">assoc</a> <a id="1155" href="Control.Comonad.IntervalHeap.html#901" class="Bound">k₁</a> <a id="1158" href="Control.Comonad.IntervalHeap.html#878" class="Bound">s₁</a> <a id="1161" href="Control.Comonad.IntervalHeap.html#978" class="Bound">k₂</a>

<a id="pop"></a><a id="1165" href="Control.Comonad.IntervalHeap.html#1165" class="Function">pop</a> <a id="1169" class="Symbol">:</a> <a id="1171" href="Control.Comonad.IntervalHeap.html#418" class="Record">Heap</a> <a id="1176" href="Level.html#388" class="Generalizable">A</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="Control.Comonad.IntervalHeap.html#574" class="Function">State</a> <a id="1186" href="Level.html#388" class="Generalizable">A</a>
<a id="1188" href="Control.Comonad.IntervalHeap.html#1165" class="Function">pop</a> <a id="1192" href="Control.Comonad.IntervalHeap.html#1192" class="Bound">xs</a> <a id="1195" href="Control.Comonad.IntervalHeap.html#1195" class="Bound">s</a> <a id="1197" class="Symbol">=</a> <a id="1199" href="Control.Comonad.IntervalHeap.html#619" class="Function">pop′</a> <a id="1204" href="Control.Comonad.IntervalHeap.html#1195" class="Bound">s</a> <a id="1206" class="Symbol">(</a><a id="1207" href="Control.Comonad.IntervalHeap.html#314" class="Bound">wf</a> <a id="1210" href="Control.Comonad.IntervalHeap.html#1195" class="Bound">s</a><a id="1211" class="Symbol">)</a> <a id="1213" href="Control.Comonad.IntervalHeap.html#1192" class="Bound">xs</a>

<a id="1217" class="Keyword">mutual</a>
  <a id="stepFrom"></a><a id="1226" href="Control.Comonad.IntervalHeap.html#1226" class="Function">stepFrom</a> <a id="1235" class="Symbol">:</a> <a id="1237" href="Control.Comonad.IntervalHeap.html#574" class="Function">State</a> <a id="1243" href="Level.html#388" class="Generalizable">A</a> <a id="1245" class="Symbol">→</a> <a id="1247" class="Symbol">(</a><a id="1248" href="Control.Comonad.IntervalHeap.html#1248" class="Bound">s</a> <a id="1250" class="Symbol">:</a> <a id="1252" href="Algebra.html#1401" class="Function">𝑆</a><a id="1253" class="Symbol">)</a> <a id="1255" class="Symbol">→</a> <a id="1257" href="Relation.Nullary.Decidable.Base.html#253" class="Record">Dec</a> <a id="1261" class="Symbol">(</a><a id="1262" href="Control.Comonad.IntervalHeap.html#1248" class="Bound">s</a> <a id="1264" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="1266" href="Algebra.html#1444" class="Function">ε</a><a id="1267" class="Symbol">)</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="Data.Maybe.Base.html#91" class="Datatype">Maybe</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Data.Sigma.Base.html#248" class="Function">∃[</a> <a id="1281" href="Control.Comonad.IntervalHeap.html#1281" class="Bound">s</a> <a id="1283" href="Data.Sigma.Base.html#248" class="Function">]</a> <a id="1285" class="Symbol">((</a><a id="1287" href="Control.Comonad.IntervalHeap.html#1281" class="Bound">s</a> <a id="1289" href="Path.html#506" class="Function Operator">≢</a> <a id="1291" href="Algebra.html#1444" class="Function">ε</a><a id="1292" class="Symbol">)</a> <a id="1294" href="Data.Sigma.Base.html#519" class="Function Operator">×</a> <a id="1296" href="Control.Comonad.IntervalHeap.html#418" class="Record">Heap</a> <a id="1301" href="Level.html#388" class="Generalizable">A</a><a id="1302" class="Symbol">))</a>
  <a id="1307" href="Control.Comonad.IntervalHeap.html#1226" class="Function">stepFrom</a> <a id="1316" href="Control.Comonad.IntervalHeap.html#1316" class="Bound">f</a> <a id="1318" href="Control.Comonad.IntervalHeap.html#1318" class="Bound">s</a> <a id="1320" class="Symbol">(</a><a id="1321" href="Relation.Nullary.Decidable.Base.html#391" class="InductiveConstructor">yes</a> <a id="1325" href="Control.Comonad.IntervalHeap.html#1325" class="Bound">p</a><a id="1326" class="Symbol">)</a> <a id="1328" class="Symbol">=</a> <a id="1330" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a>
  <a id="1340" href="Control.Comonad.IntervalHeap.html#1226" class="Function">stepFrom</a> <a id="1349" href="Control.Comonad.IntervalHeap.html#1349" class="Bound">f</a> <a id="1351" href="Control.Comonad.IntervalHeap.html#1351" class="Bound">s</a> <a id="1353" class="Symbol">(</a><a id="1354" href="Relation.Nullary.Decidable.Base.html#425" class="InductiveConstructor">no</a> <a id="1357" href="Control.Comonad.IntervalHeap.html#1357" class="Bound">¬p</a><a id="1359" class="Symbol">)</a> <a id="1361" class="Symbol">=</a> <a id="1363" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="1368" class="Symbol">(</a><a id="1369" href="Control.Comonad.IntervalHeap.html#1351" class="Bound">s</a> <a id="1371" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1373" href="Control.Comonad.IntervalHeap.html#1357" class="Bound">¬p</a> <a id="1376" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1378" href="Control.Comonad.IntervalHeap.html#1404" class="Function">tabulate</a> <a id="1387" class="Symbol">(</a><a id="1388" href="Control.Comonad.IntervalHeap.html#1349" class="Bound">f</a> <a id="1390" href="Function.html#273" class="Function Operator">∘′</a> <a id="1393" href="Algebra.html#1421" class="Function Operator">_∙_</a> <a id="1397" href="Control.Comonad.IntervalHeap.html#1351" class="Bound">s</a><a id="1398" class="Symbol">))</a>

  <a id="tabulate"></a><a id="1404" href="Control.Comonad.IntervalHeap.html#1404" class="Function">tabulate</a> <a id="1413" class="Symbol">:</a> <a id="1415" href="Control.Comonad.IntervalHeap.html#574" class="Function">State</a> <a id="1421" href="Level.html#388" class="Generalizable">A</a> <a id="1423" class="Symbol">→</a> <a id="1425" href="Control.Comonad.IntervalHeap.html#418" class="Record">Heap</a> <a id="1430" href="Level.html#388" class="Generalizable">A</a>
  <a id="1434" href="Control.Comonad.IntervalHeap.html#1404" class="Function">tabulate</a> <a id="1443" href="Control.Comonad.IntervalHeap.html#1443" class="Bound">f</a> <a id="1445" class="Symbol">=</a> <a id="1447" class="Keyword">let</a> <a id="1451" href="Control.Comonad.IntervalHeap.html#1451" class="Bound">x</a> <a id="1453" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1455" href="Control.Comonad.IntervalHeap.html#1455" class="Bound">s</a> <a id="1457" class="Symbol">=</a> <a id="1459" href="Control.Comonad.IntervalHeap.html#1443" class="Bound">f</a> <a id="1461" href="Algebra.html#1444" class="Function">ε</a> <a id="1463" class="Keyword">in</a> <a id="1466" class="Symbol">λ</a> <a id="1468" class="Keyword">where</a>
    <a id="1478" class="Symbol">.</a><a id="1479" href="Control.Comonad.IntervalHeap.html#505" class="Field">v</a> <a id="1481" class="Symbol">→</a> <a id="1483" href="Control.Comonad.IntervalHeap.html#1451" class="Bound">x</a>
    <a id="1489" class="Symbol">.</a><a id="1490" href="Control.Comonad.IntervalHeap.html#515" class="Field">next</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Control.Comonad.IntervalHeap.html#1226" class="Function">stepFrom</a> <a id="1506" href="Control.Comonad.IntervalHeap.html#1443" class="Bound">f</a> <a id="1508" href="Control.Comonad.IntervalHeap.html#1455" class="Bound">s</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Control.Comonad.IntervalHeap.html#1455" class="Bound">s</a> <a id="1513" href="Control.Comonad.IntervalHeap.html#405" class="Function Operator">≟</a> <a id="1515" href="Algebra.html#1444" class="Function">ε</a><a id="1516" class="Symbol">)</a>

<a id="1519" class="Comment">-- seg-leftInv′ : (x : Heap A) → tabulate (pop x) ≡ x</a>
<a id="1573" class="Comment">-- seg-leftInv′ x = {!!}</a>

<a id="1599" class="Comment">-- seg-leftInv : (x : Heap A) → tabulate (pop x) ≡ x</a>
<a id="1652" class="Comment">-- seg-leftInv x = {!!}</a>

<a id="1677" class="Comment">-- state-iso : Heap A ⇔ State A</a>
<a id="1709" class="Comment">-- state-iso .fun = pop</a>
<a id="1733" class="Comment">-- state-iso .inv = tabulate</a>
<a id="1762" class="Comment">-- state-iso .rightInv = seg-rightInv</a>
<a id="1800" class="Comment">-- state-iso .leftInv  = seg-leftInv</a>
</pre></body></html>