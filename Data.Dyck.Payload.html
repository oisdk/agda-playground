<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Dyck.Payload</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--safe</a> <a id="30" class="Pragma">--postfix-projections</a> <a id="52" class="Symbol">#-}</a>

<a id="57" class="Comment">-- This module defines a data type for balanced strings of parentheses,</a>
<a id="129" class="Comment">-- which is isomorphic to binary trees.</a>

<a id="170" class="Keyword">module</a> <a id="177" href="Data.Dyck.Payload.html" class="Module">Data.Dyck.Payload</a> <a id="195" class="Keyword">where</a>

<a id="202" class="Keyword">open</a> <a id="207" class="Keyword">import</a> <a id="214" href="Prelude.html" class="Module">Prelude</a>
<a id="222" class="Keyword">open</a> <a id="227" class="Keyword">import</a> <a id="234" href="Data.List.html" class="Module">Data.List</a> <a id="244" class="Keyword">using</a> <a id="250" class="Symbol">(</a><a id="251" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="255" class="Symbol">;</a> <a id="257" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="260" class="Symbol">;</a> <a id="262" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="264" class="Symbol">)</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="287" class="Keyword">using</a> <a id="293" class="Symbol">(</a><a id="294" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Path.Reasoning.html" class="Module">Path.Reasoning</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="Function.Surjective.html" class="Module">Function.Surjective</a>
<a id="358" class="Keyword">open</a> <a id="363" class="Keyword">import</a> <a id="370" href="Function.Injective.html" class="Module">Function.Injective</a>
<a id="389" class="Keyword">open</a> <a id="394" class="Keyword">import</a> <a id="401" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="421" class="Keyword">using</a> <a id="427" class="Symbol">(</a><a id="428" href="Cubical.Data.Nat.Properties.html#453" class="Function">snotz</a><a id="433" class="Symbol">;</a> <a id="435" href="Cubical.Data.Nat.Properties.html#394" class="Function">znots</a><a id="440" class="Symbol">;</a> <a id="442" href="Data.Nat.Properties.html#272" class="Function">pred</a><a id="446" class="Symbol">)</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="Data.Vec.Iterated.html" class="Module">Data.Vec.Iterated</a>

<a id="479" class="Keyword">private</a>
  <a id="489" class="Keyword">variable</a>
    <a id="502" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="504" href="Data.Dyck.Payload.html#504" class="Generalizable">m</a> <a id="506" href="Data.Dyck.Payload.html#506" class="Generalizable">k</a> <a id="508" class="Symbol">:</a> <a id="510" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

<a id="513" class="Comment">--------------------------------------------------------------------------------</a>
<a id="594" class="Comment">-- Binary trees: definition and associated functions.</a>
<a id="648" class="Comment">--------------------------------------------------------------------------------</a>

<a id="730" class="Comment">-- A basic binary tree type.</a>
<a id="759" class="Keyword">data</a> <a id="Tree"></a><a id="764" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="769" class="Symbol">(</a><a id="770" href="Data.Dyck.Payload.html#770" class="Bound">A</a> <a id="772" class="Symbol">:</a> <a id="774" href="Level.html#192" class="Function">Type</a> <a id="779" href="Level.html#372" class="Generalizable">a</a><a id="780" class="Symbol">)</a> <a id="782" class="Symbol">:</a> <a id="784" href="Level.html#192" class="Function">Type</a> <a id="789" href="Data.Dyck.Payload.html#779" class="Bound">a</a> <a id="791" class="Keyword">where</a>
  <a id="Tree.[_]"></a><a id="799" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[_]</a> <a id="803" class="Symbol">:</a> <a id="805" href="Data.Dyck.Payload.html#770" class="Bound">A</a> <a id="807" class="Symbol">→</a> <a id="809" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="814" href="Data.Dyck.Payload.html#770" class="Bound">A</a>
  <a id="Tree._*_"></a><a id="818" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">_*_</a> <a id="822" class="Symbol">:</a> <a id="824" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="829" href="Data.Dyck.Payload.html#770" class="Bound">A</a> <a id="831" class="Symbol">→</a> <a id="833" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="838" href="Data.Dyck.Payload.html#770" class="Bound">A</a> <a id="840" class="Symbol">→</a> <a id="842" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="847" href="Data.Dyck.Payload.html#770" class="Bound">A</a>

<a id="850" class="Comment">--------------------------------------------------------------------------------</a>
<a id="931" class="Comment">-- Conversion between binary trees and Progs. (leftwards)</a>
<a id="989" class="Comment">--------------------------------------------------------------------------------</a>

<a id="1071" class="Keyword">data</a> <a id="Prog"></a><a id="1076" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1081" class="Symbol">{</a><a id="1082" href="Data.Dyck.Payload.html#1082" class="Bound">a</a><a id="1083" class="Symbol">}</a> <a id="1085" class="Symbol">(</a><a id="1086" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Level.html#192" class="Function">Type</a> <a id="1095" href="Data.Dyck.Payload.html#1082" class="Bound">a</a><a id="1096" class="Symbol">)</a> <a id="1098" class="Symbol">:</a> <a id="1100" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1102" class="Symbol">→</a> <a id="1104" href="Level.html#192" class="Function">Type</a> <a id="1109" href="Data.Dyck.Payload.html#1082" class="Bound">a</a> <a id="1111" class="Keyword">where</a>
  <a id="Prog.halt"></a><a id="1119" href="Data.Dyck.Payload.html#1119" class="InductiveConstructor">halt</a> <a id="1124" class="Symbol">:</a> <a id="1126" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1131" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1133" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
  <a id="Prog.push"></a><a id="1140" href="Data.Dyck.Payload.html#1140" class="InductiveConstructor">push</a> <a id="1145" class="Symbol">:</a> <a id="1147" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1149" class="Symbol">→</a> <a id="1151" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1156" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1158" class="Symbol">(</a><a id="1159" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1163" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1164" class="Symbol">)</a> <a id="1166" class="Symbol">→</a> <a id="1168" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1173" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1175" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a>
  <a id="Prog.pull"></a><a id="1179" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1191" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1193" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1202" href="Data.Dyck.Payload.html#1086" class="Bound">A</a> <a id="1204" class="Symbol">(</a><a id="1205" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1209" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1210" class="Symbol">)</a>

<a id="foldlProg"></a><a id="1213" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1223" class="Symbol">:</a> <a id="1225" class="Symbol">∀</a> <a id="1227" class="Symbol">{</a><a id="1228" href="Data.Dyck.Payload.html#1228" class="Bound">p</a><a id="1229" class="Symbol">}</a> <a id="1231" class="Symbol">(</a><a id="1232" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1234" class="Symbol">:</a> <a id="1236" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1238" class="Symbol">→</a> <a id="1240" href="Level.html#192" class="Function">Type</a> <a id="1245" href="Data.Dyck.Payload.html#1228" class="Bound">p</a><a id="1246" class="Symbol">)</a>
            <a id="1260" class="Symbol">(</a><a id="1261" href="Data.Dyck.Payload.html#1261" class="Bound">lbrack</a> <a id="1268" class="Symbol">:</a> <a id="1270" class="Symbol">∀</a> <a id="1272" class="Symbol">{</a><a id="1273" href="Data.Dyck.Payload.html#1273" class="Bound">n</a><a id="1274" class="Symbol">}</a> <a id="1276" class="Symbol">→</a> <a id="1278" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1280" class="Symbol">(</a><a id="1281" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1285" href="Data.Dyck.Payload.html#1273" class="Bound">n</a><a id="1286" class="Symbol">)</a> <a id="1288" class="Symbol">→</a> <a id="1290" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1292" href="Data.Dyck.Payload.html#1273" class="Bound">n</a><a id="1293" class="Symbol">)</a>
            <a id="1307" class="Symbol">(</a><a id="1308" href="Data.Dyck.Payload.html#1308" class="Bound">rbrack</a> <a id="1315" class="Symbol">:</a> <a id="1317" class="Symbol">∀</a> <a id="1319" class="Symbol">{</a><a id="1320" href="Data.Dyck.Payload.html#1320" class="Bound">n</a><a id="1321" class="Symbol">}</a> <a id="1323" class="Symbol">→</a> <a id="1325" href="Level.html#388" class="Generalizable">A</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1331" href="Data.Dyck.Payload.html#1320" class="Bound">n</a> <a id="1333" class="Symbol">→</a> <a id="1335" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1342" href="Data.Dyck.Payload.html#1320" class="Bound">n</a><a id="1343" class="Symbol">))</a>
            <a id="1358" class="Symbol">(</a><a id="1359" href="Data.Dyck.Payload.html#1359" class="Bound">base</a> <a id="1364" class="Symbol">:</a> <a id="1366" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1368" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1369" class="Symbol">)</a> <a id="1371" class="Symbol">→</a>
            <a id="1385" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1390" href="Level.html#388" class="Generalizable">A</a> <a id="1392" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="1394" class="Symbol">→</a> <a id="1396" href="Data.Dyck.Payload.html#1232" class="Bound">P</a> <a id="1398" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
<a id="1403" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1413" href="Data.Dyck.Payload.html#1413" class="Bound">P</a> <a id="1415" href="Data.Dyck.Payload.html#1415" class="Bound">lb</a> <a id="1418" href="Data.Dyck.Payload.html#1418" class="Bound">rb</a> <a id="1421" href="Data.Dyck.Payload.html#1421" class="Bound">bs</a> <a id="1424" href="Data.Dyck.Payload.html#1119" class="InductiveConstructor">halt</a> <a id="1429" class="Symbol">=</a> <a id="1431" href="Data.Dyck.Payload.html#1421" class="Bound">bs</a>
<a id="1434" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1444" href="Data.Dyck.Payload.html#1444" class="Bound">P</a> <a id="1446" href="Data.Dyck.Payload.html#1446" class="Bound">lb</a> <a id="1449" href="Data.Dyck.Payload.html#1449" class="Bound">rb</a> <a id="1452" href="Data.Dyck.Payload.html#1452" class="Bound">bs</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Data.Dyck.Payload.html#1140" class="InductiveConstructor">push</a> <a id="1461" href="Data.Dyck.Payload.html#1461" class="Bound">x</a> <a id="1463" href="Data.Dyck.Payload.html#1463" class="Bound">xs</a><a id="1465" class="Symbol">)</a> <a id="1467" class="Symbol">=</a> <a id="1469" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1479" href="Data.Dyck.Payload.html#1444" class="Bound">P</a> <a id="1481" href="Data.Dyck.Payload.html#1446" class="Bound">lb</a> <a id="1484" href="Data.Dyck.Payload.html#1449" class="Bound">rb</a> <a id="1487" class="Symbol">(</a><a id="1488" href="Data.Dyck.Payload.html#1449" class="Bound">rb</a> <a id="1491" href="Data.Dyck.Payload.html#1461" class="Bound">x</a> <a id="1493" href="Data.Dyck.Payload.html#1452" class="Bound">bs</a><a id="1495" class="Symbol">)</a> <a id="1497" href="Data.Dyck.Payload.html#1463" class="Bound">xs</a>
<a id="1500" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1510" href="Data.Dyck.Payload.html#1510" class="Bound">P</a> <a id="1512" href="Data.Dyck.Payload.html#1512" class="Bound">lb</a> <a id="1515" href="Data.Dyck.Payload.html#1515" class="Bound">rb</a> <a id="1518" href="Data.Dyck.Payload.html#1518" class="Bound">bs</a> <a id="1521" class="Symbol">(</a><a id="1522" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a>   <a id="1529" href="Data.Dyck.Payload.html#1529" class="Bound">xs</a><a id="1531" class="Symbol">)</a> <a id="1533" class="Symbol">=</a> <a id="1535" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1545" href="Data.Dyck.Payload.html#1510" class="Bound">P</a> <a id="1547" href="Data.Dyck.Payload.html#1512" class="Bound">lb</a> <a id="1550" href="Data.Dyck.Payload.html#1515" class="Bound">rb</a> <a id="1553" class="Symbol">(</a><a id="1554" href="Data.Dyck.Payload.html#1512" class="Bound">lb</a> <a id="1557" href="Data.Dyck.Payload.html#1518" class="Bound">bs</a><a id="1559" class="Symbol">)</a> <a id="1561" href="Data.Dyck.Payload.html#1529" class="Bound">xs</a>
<a id="1564" class="Comment">-- In terms of foldr:</a>
<a id="1586" class="Comment">-- foldlProg P lb rb bs xs = foldrProg (λ n → P n → P zero) (λ x k bs → k (rb x bs)) (λ k bs → k (lb bs)) id xs bs</a>

<a id="reduce"></a><a id="1702" href="Data.Dyck.Payload.html#1702" class="Function">reduce</a> <a id="1709" class="Symbol">:</a> <a id="1711" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1715" class="Symbol">(</a><a id="1716" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1721" href="Level.html#388" class="Generalizable">A</a><a id="1722" class="Symbol">)</a> <a id="1724" class="Symbol">(</a><a id="1725" class="Number">2</a> <a id="1727" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1729" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1730" class="Symbol">)</a> <a id="1732" class="Symbol">→</a> <a id="1734" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1744" href="Level.html#388" class="Generalizable">A</a><a id="1745" class="Symbol">)</a> <a id="1747" class="Symbol">(</a><a id="1748" class="Number">1</a> <a id="1750" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1752" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1753" class="Symbol">)</a>
<a id="1755" href="Data.Dyck.Payload.html#1702" class="Function">reduce</a> <a id="1762" class="Symbol">(</a><a id="1763" href="Data.Dyck.Payload.html#1763" class="Bound">t₁</a> <a id="1766" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="1768" href="Data.Dyck.Payload.html#1768" class="Bound">t₂</a> <a id="1771" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="1773" href="Data.Dyck.Payload.html#1773" class="Bound">s</a><a id="1774" class="Symbol">)</a> <a id="1776" class="Symbol">=</a> <a id="1778" class="Symbol">(</a><a id="1779" href="Data.Dyck.Payload.html#1768" class="Bound">t₂</a> <a id="1782" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="1784" href="Data.Dyck.Payload.html#1763" class="Bound">t₁</a><a id="1786" class="Symbol">)</a> <a id="1788" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="1790" href="Data.Dyck.Payload.html#1773" class="Bound">s</a>

<a id="shift"></a><a id="1793" href="Data.Dyck.Payload.html#1793" class="Function">shift</a> <a id="1799" class="Symbol">:</a> <a id="1801" href="Level.html#388" class="Generalizable">A</a> <a id="1803" class="Symbol">→</a> <a id="1805" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1815" href="Level.html#388" class="Generalizable">A</a><a id="1816" class="Symbol">)</a> <a id="1818" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="1820" class="Symbol">→</a> <a id="1822" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1826" class="Symbol">(</a><a id="1827" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1832" href="Level.html#388" class="Generalizable">A</a><a id="1833" class="Symbol">)</a> <a id="1835" class="Symbol">(</a><a id="1836" class="Number">1</a> <a id="1838" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1840" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1841" class="Symbol">)</a>
<a id="1843" href="Data.Dyck.Payload.html#1793" class="Function">shift</a> <a id="1849" href="Data.Dyck.Payload.html#1849" class="Bound">x</a> <a id="1851" href="Data.Dyck.Payload.html#1851" class="Bound">s</a> <a id="1853" class="Symbol">=</a> <a id="1855" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="1857" href="Data.Dyck.Payload.html#1849" class="Bound">x</a> <a id="1859" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="1861" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="1863" href="Data.Dyck.Payload.html#1851" class="Bound">s</a>

<a id="prog→tree⊙"></a><a id="1866" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="1877" class="Symbol">:</a> <a id="1879" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="1884" href="Level.html#388" class="Generalizable">A</a> <a id="1886" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="1888" class="Symbol">→</a> <a id="1890" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1894" class="Symbol">(</a><a id="1895" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1900" href="Level.html#388" class="Generalizable">A</a><a id="1901" class="Symbol">)</a> <a id="1903" class="Symbol">(</a><a id="1904" class="Number">1</a> <a id="1906" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1908" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="1909" class="Symbol">)</a> <a id="1911" class="Symbol">→</a> <a id="1913" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1917" class="Symbol">(</a><a id="1918" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1923" href="Level.html#388" class="Generalizable">A</a><a id="1924" class="Symbol">)</a> <a id="1926" class="Number">1</a>
<a id="1928" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="1939" href="Data.Dyck.Payload.html#1939" class="Bound">p</a> <a id="1941" href="Data.Dyck.Payload.html#1941" class="Bound">s</a> <a id="1943" class="Symbol">=</a> <a id="1945" href="Data.Dyck.Payload.html#1213" class="Function">foldlProg</a> <a id="1955" class="Symbol">(λ</a> <a id="1958" href="Data.Dyck.Payload.html#1958" class="Bound">n</a> <a id="1960" class="Symbol">→</a> <a id="1962" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="1966" class="Symbol">(</a><a id="1967" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="1972" class="Symbol">_)</a> <a id="1975" class="Symbol">(</a><a id="1976" class="Number">1</a> <a id="1978" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1980" href="Data.Dyck.Payload.html#1958" class="Bound">n</a><a id="1981" class="Symbol">))</a> <a id="1984" href="Data.Dyck.Payload.html#1702" class="Function">reduce</a> <a id="1991" href="Data.Dyck.Payload.html#1793" class="Function">shift</a> <a id="1997" href="Data.Dyck.Payload.html#1941" class="Bound">s</a> <a id="1999" href="Data.Dyck.Payload.html#1939" class="Bound">p</a>

<a id="prog→tree"></a><a id="2002" href="Data.Dyck.Payload.html#2002" class="Function">prog→tree</a> <a id="2012" class="Symbol">:</a> <a id="2014" href="Level.html#388" class="Generalizable">A</a> <a id="2016" href="Data.Sigma.Base.html#534" class="Function Operator">×</a> <a id="2018" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2023" href="Level.html#388" class="Generalizable">A</a> <a id="2025" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="2030" class="Symbol">→</a> <a id="2032" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2037" href="Level.html#388" class="Generalizable">A</a>
<a id="2039" href="Data.Dyck.Payload.html#2002" class="Function">prog→tree</a> <a id="2049" class="Symbol">(</a><a id="2050" href="Data.Dyck.Payload.html#2050" class="Bound">x</a> <a id="2052" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2054" href="Data.Dyck.Payload.html#2054" class="Bound">ds</a><a id="2056" class="Symbol">)</a> <a id="2058" class="Symbol">=</a> <a id="2060" href="Data.Vec.Iterated.html#519" class="Field">head</a> <a id="2065" class="Symbol">(</a><a id="2066" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="2077" href="Data.Dyck.Payload.html#2054" class="Bound">ds</a> <a id="2080" class="Symbol">(</a><a id="2081" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="2083" href="Data.Dyck.Payload.html#2050" class="Bound">x</a> <a id="2085" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="2087" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="2089" href="Data.Vec.Iterated.html#379" class="InductiveConstructor">[]</a><a id="2091" class="Symbol">))</a>

<a id="tree→prog⊙"></a><a id="2095" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2106" class="Symbol">:</a> <a id="2108" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2113" href="Level.html#388" class="Generalizable">A</a> <a id="2115" class="Symbol">→</a> <a id="2117" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2122" href="Level.html#388" class="Generalizable">A</a> <a id="2124" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="2126" class="Symbol">→</a> <a id="2128" href="Level.html#388" class="Generalizable">A</a> <a id="2130" href="Data.Sigma.Base.html#534" class="Function Operator">×</a> <a id="2132" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2137" href="Level.html#388" class="Generalizable">A</a> <a id="2139" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a>
<a id="2141" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2152" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="2154" href="Data.Dyck.Payload.html#2154" class="Bound">x</a> <a id="2156" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a>     <a id="2162" class="Symbol">=</a> <a id="2164" href="Data.Dyck.Payload.html#2154" class="Bound">x</a> <a id="2166" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,_</a>
<a id="2169" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2180" class="Symbol">(</a><a id="2181" href="Data.Dyck.Payload.html#2181" class="Bound">xs</a> <a id="2184" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="2186" href="Data.Dyck.Payload.html#2186" class="Bound">ys</a><a id="2188" class="Symbol">)</a> <a id="2190" class="Symbol">=</a> <a id="2192" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2203" href="Data.Dyck.Payload.html#2181" class="Bound">xs</a> <a id="2206" href="Function.html#112" class="Function Operator">∘</a> <a id="2208" href="Data.Sigma.Base.html#769" class="Function">uncurry</a> <a id="2216" href="Data.Dyck.Payload.html#1140" class="InductiveConstructor">push</a> <a id="2221" href="Function.html#112" class="Function Operator">∘</a> <a id="2223" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2234" href="Data.Dyck.Payload.html#2186" class="Bound">ys</a> <a id="2237" href="Function.html#112" class="Function Operator">∘</a> <a id="2239" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a>

<a id="tree→prog"></a><a id="2245" href="Data.Dyck.Payload.html#2245" class="Function">tree→prog</a> <a id="2255" class="Symbol">:</a> <a id="2257" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2262" href="Level.html#388" class="Generalizable">A</a> <a id="2264" class="Symbol">→</a> <a id="2266" href="Level.html#388" class="Generalizable">A</a> <a id="2268" href="Data.Sigma.Base.html#534" class="Function Operator">×</a> <a id="2270" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2275" href="Level.html#388" class="Generalizable">A</a> <a id="2277" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
<a id="2282" href="Data.Dyck.Payload.html#2245" class="Function">tree→prog</a> <a id="2292" href="Data.Dyck.Payload.html#2292" class="Bound">tr</a> <a id="2295" class="Symbol">=</a> <a id="2297" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2308" href="Data.Dyck.Payload.html#2292" class="Bound">tr</a> <a id="2311" href="Data.Dyck.Payload.html#1119" class="InductiveConstructor">halt</a>

<a id="shuttle"></a><a id="2317" href="Data.Dyck.Payload.html#2317" class="Function">shuttle</a> <a id="2325" class="Symbol">:</a> <a id="2327" href="Level.html#388" class="Generalizable">A</a> <a id="2329" href="Data.Sigma.Base.html#534" class="Function Operator">×</a> <a id="2331" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2336" href="Level.html#388" class="Generalizable">A</a> <a id="2338" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="2340" class="Symbol">→</a> <a id="2342" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="2346" class="Symbol">(</a><a id="2347" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2352" href="Level.html#388" class="Generalizable">A</a><a id="2353" class="Symbol">)</a> <a id="2355" href="Data.Dyck.Payload.html#504" class="Generalizable">m</a> <a id="2357" class="Symbol">→</a> <a id="2359" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2364" href="Level.html#388" class="Generalizable">A</a> <a id="2366" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="2368" href="Data.Sigma.Base.html#534" class="Function Operator">×</a> <a id="2370" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="2374" class="Symbol">(</a><a id="2375" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2380" href="Level.html#388" class="Generalizable">A</a><a id="2381" class="Symbol">)</a> <a id="2383" class="Symbol">(</a><a id="2384" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2388" href="Data.Dyck.Payload.html#504" class="Generalizable">m</a><a id="2389" class="Symbol">)</a>
<a id="2391" href="Data.Dyck.Payload.html#2317" class="Function">shuttle</a> <a id="2399" class="Symbol">(</a><a id="2400" href="Data.Dyck.Payload.html#2400" class="Bound">x</a> <a id="2402" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2404" href="Data.Dyck.Payload.html#2404" class="Bound">xs</a><a id="2406" class="Symbol">)</a> <a id="2408" href="Data.Dyck.Payload.html#2408" class="Bound">ys</a> <a id="2411" class="Symbol">=</a> <a id="2413" href="Data.Dyck.Payload.html#2404" class="Bound">xs</a> <a id="2416" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2418" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="2420" href="Data.Dyck.Payload.html#2400" class="Bound">x</a> <a id="2422" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="2424" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="2426" href="Data.Dyck.Payload.html#2408" class="Bound">ys</a>

<a id="tree→prog→tree-assoc"></a><a id="2430" href="Data.Dyck.Payload.html#2430" class="Function">tree→prog→tree-assoc</a> <a id="2451" class="Symbol">:</a> <a id="2453" class="Symbol">(</a><a id="2454" href="Data.Dyck.Payload.html#2454" class="Bound">xs</a> <a id="2457" class="Symbol">:</a> <a id="2459" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2464" href="Level.html#388" class="Generalizable">A</a><a id="2465" class="Symbol">)</a> <a id="2467" class="Symbol">(</a><a id="2468" href="Data.Dyck.Payload.html#2468" class="Bound">is</a> <a id="2471" class="Symbol">:</a> <a id="2473" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2478" href="Level.html#388" class="Generalizable">A</a> <a id="2480" class="Symbol">(</a><a id="2481" class="Number">1</a> <a id="2483" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2485" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="2486" class="Symbol">))</a> <a id="2489" class="Symbol">(</a><a id="2490" href="Data.Dyck.Payload.html#2490" class="Bound">st</a> <a id="2493" class="Symbol">:</a> <a id="2495" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="2499" class="Symbol">(</a><a id="2500" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2505" href="Level.html#388" class="Generalizable">A</a><a id="2506" class="Symbol">)</a> <a id="2508" class="Symbol">(</a><a id="2509" class="Number">1</a> <a id="2511" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2513" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="2514" class="Symbol">))</a> <a id="2517" class="Symbol">→</a> <a id="2519" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="2530" class="Symbol">(</a><a id="2531" href="Data.Sigma.Base.html#769" class="Function">uncurry</a> <a id="2539" href="Data.Dyck.Payload.html#1140" class="InductiveConstructor">push</a> <a id="2544" class="Symbol">(</a><a id="2545" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2556" href="Data.Dyck.Payload.html#2454" class="Bound">xs</a> <a id="2559" href="Data.Dyck.Payload.html#2468" class="Bound">is</a><a id="2561" class="Symbol">))</a> <a id="2564" href="Data.Dyck.Payload.html#2490" class="Bound">st</a> <a id="2567" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2569" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="2580" href="Data.Dyck.Payload.html#2468" class="Bound">is</a> <a id="2583" class="Symbol">(</a><a id="2584" href="Data.Dyck.Payload.html#2454" class="Bound">xs</a> <a id="2587" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="2589" href="Data.Dyck.Payload.html#2490" class="Bound">st</a><a id="2591" class="Symbol">)</a>
<a id="2593" href="Data.Dyck.Payload.html#2430" class="Function">tree→prog→tree-assoc</a> <a id="2614" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="2616" href="Data.Dyck.Payload.html#2616" class="Bound">x</a> <a id="2618" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a>     <a id="2624" href="Data.Dyck.Payload.html#2624" class="Bound">is</a> <a id="2627" href="Data.Dyck.Payload.html#2627" class="Bound">st</a> <a id="2630" class="Symbol">=</a> <a id="2632" href="Cubical.Foundations.Id.html#570" class="Function">refl</a>
<a id="2637" href="Data.Dyck.Payload.html#2430" class="Function">tree→prog→tree-assoc</a> <a id="2658" class="Symbol">(</a><a id="2659" href="Data.Dyck.Payload.html#2659" class="Bound">xs</a> <a id="2662" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="2664" href="Data.Dyck.Payload.html#2664" class="Bound">ys</a><a id="2666" class="Symbol">)</a> <a id="2668" href="Data.Dyck.Payload.html#2668" class="Bound">is</a> <a id="2671" href="Data.Dyck.Payload.html#2671" class="Bound">st</a> <a id="2674" class="Symbol">=</a> <a id="2676" href="Data.Dyck.Payload.html#2430" class="Function">tree→prog→tree-assoc</a> <a id="2697" href="Data.Dyck.Payload.html#2659" class="Bound">xs</a> <a id="2700" class="Symbol">_</a> <a id="2702" href="Data.Dyck.Payload.html#2671" class="Bound">st</a> <a id="2705" href="Cubical.Foundations.Id.html#747" class="Function Operator">;</a> <a id="2707" href="Data.Dyck.Payload.html#2430" class="Function">tree→prog→tree-assoc</a> <a id="2728" href="Data.Dyck.Payload.html#2664" class="Bound">ys</a> <a id="2731" class="Symbol">(</a><a id="2732" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a> <a id="2737" href="Data.Dyck.Payload.html#2668" class="Bound">is</a><a id="2739" class="Symbol">)</a> <a id="2741" class="Symbol">(</a><a id="2742" href="Data.Dyck.Payload.html#2659" class="Bound">xs</a> <a id="2745" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="2747" href="Data.Dyck.Payload.html#2671" class="Bound">st</a><a id="2749" class="Symbol">)</a>

<a id="tree→prog→tree-ε"></a><a id="2752" href="Data.Dyck.Payload.html#2752" class="Function">tree→prog→tree-ε</a> <a id="2769" class="Symbol">:</a> <a id="2771" class="Symbol">(</a><a id="2772" href="Data.Dyck.Payload.html#2772" class="Bound">e</a> <a id="2774" class="Symbol">:</a> <a id="2776" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2781" href="Level.html#388" class="Generalizable">A</a><a id="2782" class="Symbol">)</a> <a id="2784" class="Symbol">(</a><a id="2785" href="Data.Dyck.Payload.html#2785" class="Bound">is</a> <a id="2788" class="Symbol">:</a> <a id="2790" href="Data.Dyck.Payload.html#1076" class="Datatype">Prog</a> <a id="2795" href="Level.html#388" class="Generalizable">A</a> <a id="2797" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="2798" class="Symbol">)</a> <a id="2800" class="Symbol">(</a><a id="2801" href="Data.Dyck.Payload.html#2801" class="Bound">st</a> <a id="2804" class="Symbol">:</a> <a id="2806" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="2810" class="Symbol">(</a><a id="2811" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="2816" href="Level.html#388" class="Generalizable">A</a><a id="2817" class="Symbol">)</a> <a id="2819" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="2820" class="Symbol">)</a> <a id="2822" class="Symbol">→</a> <a id="2824" href="Data.Sigma.Base.html#769" class="Function">uncurry</a> <a id="2832" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="2843" class="Symbol">(</a><a id="2844" href="Data.Dyck.Payload.html#2317" class="Function">shuttle</a> <a id="2852" class="Symbol">(</a><a id="2853" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="2864" href="Data.Dyck.Payload.html#2772" class="Bound">e</a> <a id="2866" href="Data.Dyck.Payload.html#2785" class="Bound">is</a><a id="2868" class="Symbol">)</a> <a id="2870" href="Data.Dyck.Payload.html#2801" class="Bound">st</a><a id="2872" class="Symbol">)</a> <a id="2874" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2876" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="2887" href="Data.Dyck.Payload.html#2785" class="Bound">is</a> <a id="2890" class="Symbol">(</a><a id="2891" href="Data.Dyck.Payload.html#2772" class="Bound">e</a> <a id="2893" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="2895" href="Data.Dyck.Payload.html#2801" class="Bound">st</a><a id="2897" class="Symbol">)</a>
<a id="2899" href="Data.Dyck.Payload.html#2752" class="Function">tree→prog→tree-ε</a> <a id="2916" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="2918" href="Data.Dyck.Payload.html#2918" class="Bound">x</a> <a id="2920" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a>     <a id="2926" href="Data.Dyck.Payload.html#2926" class="Bound">is</a> <a id="2929" href="Data.Dyck.Payload.html#2929" class="Bound">st</a> <a id="2932" class="Symbol">=</a> <a id="2934" href="Cubical.Foundations.Id.html#570" class="Function">refl</a>
<a id="2939" href="Data.Dyck.Payload.html#2752" class="Function">tree→prog→tree-ε</a> <a id="2956" class="Symbol">(</a><a id="2957" href="Data.Dyck.Payload.html#2957" class="Bound">xs</a> <a id="2960" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="2962" href="Data.Dyck.Payload.html#2962" class="Bound">ys</a><a id="2964" class="Symbol">)</a> <a id="2966" href="Data.Dyck.Payload.html#2966" class="Bound">is</a> <a id="2969" href="Data.Dyck.Payload.html#2969" class="Bound">st</a> <a id="2972" class="Symbol">=</a>
  <a id="2976" href="Data.Sigma.Base.html#769" class="Function">uncurry</a> <a id="2984" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="2995" class="Symbol">(</a><a id="2996" href="Data.Dyck.Payload.html#2317" class="Function">shuttle</a> <a id="3004" class="Symbol">(</a><a id="3005" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="3016" href="Data.Dyck.Payload.html#2957" class="Bound">xs</a> <a id="3019" class="Symbol">(</a><a id="3020" href="Data.Sigma.Base.html#769" class="Function">uncurry</a> <a id="3028" href="Data.Dyck.Payload.html#1140" class="InductiveConstructor">push</a> <a id="3033" class="Symbol">(</a><a id="3034" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="3045" href="Data.Dyck.Payload.html#2962" class="Bound">ys</a> <a id="3048" class="Symbol">(</a><a id="3049" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a> <a id="3054" href="Data.Dyck.Payload.html#2966" class="Bound">is</a><a id="3056" class="Symbol">))))</a> <a id="3061" href="Data.Dyck.Payload.html#2969" class="Bound">st</a><a id="3063" class="Symbol">)</a> <a id="3065" href="Path.Reasoning.html#266" class="Function">≡⟨</a> <a id="3068" href="Data.Dyck.Payload.html#2752" class="Function">tree→prog→tree-ε</a> <a id="3085" href="Data.Dyck.Payload.html#2957" class="Bound">xs</a> <a id="3088" class="Symbol">_</a> <a id="3090" href="Data.Dyck.Payload.html#2969" class="Bound">st</a> <a id="3093" href="Path.Reasoning.html#266" class="Function">⟩</a>
  <a id="3097" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a>  <a id="3109" class="Symbol">(</a><a id="3110" href="Data.Sigma.Base.html#769" class="Function">uncurry</a> <a id="3118" href="Data.Dyck.Payload.html#1140" class="InductiveConstructor">push</a> <a id="3123" class="Symbol">(</a><a id="3124" href="Data.Dyck.Payload.html#2095" class="Function">tree→prog⊙</a> <a id="3135" href="Data.Dyck.Payload.html#2962" class="Bound">ys</a> <a id="3138" class="Symbol">(</a><a id="3139" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a> <a id="3144" href="Data.Dyck.Payload.html#2966" class="Bound">is</a><a id="3146" class="Symbol">)))</a> <a id="3150" class="Symbol">(</a><a id="3151" href="Data.Dyck.Payload.html#2957" class="Bound">xs</a> <a id="3154" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3156" href="Data.Dyck.Payload.html#2969" class="Bound">st</a><a id="3158" class="Symbol">)</a> <a id="3160" href="Path.Reasoning.html#266" class="Function">≡⟨</a> <a id="3163" href="Data.Dyck.Payload.html#2430" class="Function">tree→prog→tree-assoc</a> <a id="3184" href="Data.Dyck.Payload.html#2962" class="Bound">ys</a> <a id="3187" class="Symbol">(</a><a id="3188" href="Data.Dyck.Payload.html#1179" class="InductiveConstructor">pull</a> <a id="3193" href="Data.Dyck.Payload.html#2966" class="Bound">is</a><a id="3195" class="Symbol">)</a> <a id="3197" class="Symbol">(</a><a id="3198" href="Data.Dyck.Payload.html#2957" class="Bound">xs</a> <a id="3201" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3203" href="Data.Dyck.Payload.html#2969" class="Bound">st</a><a id="3205" class="Symbol">)</a> <a id="3207" href="Path.Reasoning.html#266" class="Function">⟩</a>
  <a id="3211" href="Data.Dyck.Payload.html#1866" class="Function">prog→tree⊙</a> <a id="3222" href="Data.Dyck.Payload.html#2966" class="Bound">is</a> <a id="3225" class="Symbol">((</a><a id="3227" href="Data.Dyck.Payload.html#2957" class="Bound">xs</a> <a id="3230" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="3232" href="Data.Dyck.Payload.html#2962" class="Bound">ys</a><a id="3234" class="Symbol">)</a> <a id="3236" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3238" href="Data.Dyck.Payload.html#2969" class="Bound">st</a><a id="3240" class="Symbol">)</a> <a id="3242" href="Path.Reasoning.html#470" class="Function Operator">∎</a>

<a id="tree→prog→tree"></a><a id="3245" href="Data.Dyck.Payload.html#3245" class="Function">tree→prog→tree</a> <a id="3260" class="Symbol">:</a> <a id="3262" class="Symbol">(</a><a id="3263" href="Data.Dyck.Payload.html#3263" class="Bound">t</a> <a id="3265" class="Symbol">:</a> <a id="3267" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3272" href="Level.html#388" class="Generalizable">A</a><a id="3273" class="Symbol">)</a> <a id="3275" class="Symbol">→</a> <a id="3277" href="Data.Dyck.Payload.html#2002" class="Function">prog→tree</a> <a id="3287" class="Symbol">(</a><a id="3288" href="Data.Dyck.Payload.html#2245" class="Function">tree→prog</a> <a id="3298" href="Data.Dyck.Payload.html#3263" class="Bound">t</a><a id="3299" class="Symbol">)</a> <a id="3301" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="3303" href="Data.Dyck.Payload.html#3263" class="Bound">t</a>
<a id="3305" href="Data.Dyck.Payload.html#3245" class="Function">tree→prog→tree</a> <a id="3320" href="Data.Dyck.Payload.html#3320" class="Bound">t</a> <a id="3322" class="Symbol">=</a> <a id="3324" href="Cubical.Foundations.Id.html#782" class="Function">cong</a> <a id="3329" href="Data.Vec.Iterated.html#519" class="Field">head</a> <a id="3334" class="Symbol">(</a><a id="3335" href="Data.Dyck.Payload.html#2752" class="Function">tree→prog→tree-ε</a> <a id="3352" href="Data.Dyck.Payload.html#3320" class="Bound">t</a> <a id="3354" href="Data.Dyck.Payload.html#1119" class="InductiveConstructor">halt</a> <a id="3359" href="Data.Vec.Iterated.html#379" class="InductiveConstructor">[]</a><a id="3361" class="Symbol">)</a>

<a id="unreduce"></a><a id="3364" href="Data.Dyck.Payload.html#3364" class="Function">unreduce</a> <a id="3373" class="Symbol">:</a> <a id="3375" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="3379" class="Symbol">(</a><a id="3380" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3385" href="Level.html#388" class="Generalizable">A</a><a id="3386" class="Symbol">)</a> <a id="3388" class="Symbol">(</a><a id="3389" class="Number">1</a> <a id="3391" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3393" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="3394" class="Symbol">)</a> <a id="3396" class="Symbol">→</a> <a id="3398" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="3402" class="Symbol">(</a><a id="3403" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3408" href="Level.html#388" class="Generalizable">A</a><a id="3409" class="Symbol">)</a> <a id="3411" class="Symbol">(</a><a id="3412" class="Number">2</a> <a id="3414" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3416" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="3417" class="Symbol">)</a>
<a id="3419" href="Data.Dyck.Payload.html#3364" class="Function">unreduce</a> <a id="3428" class="Symbol">(</a><a id="3429" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="3431" href="Data.Dyck.Payload.html#3431" class="Bound">x</a> <a id="3433" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="3435" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3437" href="Data.Dyck.Payload.html#3437" class="Bound">xs</a><a id="3439" class="Symbol">)</a> <a id="3441" class="Symbol">=</a> <a id="3443" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="3445" href="Data.Dyck.Payload.html#3431" class="Bound">x</a> <a id="3447" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="3449" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3451" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="3453" href="Data.Dyck.Payload.html#3431" class="Bound">x</a> <a id="3455" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="3457" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3459" href="Data.Dyck.Payload.html#3437" class="Bound">xs</a>
<a id="3462" href="Data.Dyck.Payload.html#3364" class="Function">unreduce</a> <a id="3471" class="Symbol">((</a><a id="3473" href="Data.Dyck.Payload.html#3473" class="Bound">x₁</a> <a id="3476" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="3478" href="Data.Dyck.Payload.html#3478" class="Bound">x₂</a><a id="3480" class="Symbol">)</a> <a id="3482" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3484" href="Data.Dyck.Payload.html#3484" class="Bound">xs</a><a id="3486" class="Symbol">)</a> <a id="3488" class="Symbol">=</a> <a id="3490" href="Data.Dyck.Payload.html#3478" class="Bound">x₂</a> <a id="3493" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3495" href="Data.Dyck.Payload.html#3473" class="Bound">x₁</a> <a id="3498" href="Data.Vec.Iterated.html#499" class="InductiveConstructor Operator">∷</a> <a id="3500" href="Data.Dyck.Payload.html#3484" class="Bound">xs</a>

<a id="reduce-inj"></a><a id="3504" href="Data.Dyck.Payload.html#3504" class="Function">reduce-inj</a> <a id="3515" class="Symbol">:</a> <a id="3517" class="Symbol">{</a><a id="3518" href="Data.Dyck.Payload.html#3518" class="Bound">xs</a> <a id="3521" href="Data.Dyck.Payload.html#3521" class="Bound">ys</a> <a id="3524" class="Symbol">:</a> <a id="3526" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="3530" class="Symbol">(</a><a id="3531" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3536" href="Level.html#388" class="Generalizable">A</a><a id="3537" class="Symbol">)</a> <a id="3539" class="Symbol">(</a><a id="3540" class="Number">2</a> <a id="3542" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3544" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a><a id="3545" class="Symbol">)}</a> <a id="3548" class="Symbol">→</a> <a id="3550" href="Data.Dyck.Payload.html#1702" class="Function">reduce</a> <a id="3557" href="Data.Dyck.Payload.html#3518" class="Bound">xs</a> <a id="3560" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="3562" href="Data.Dyck.Payload.html#1702" class="Function">reduce</a> <a id="3569" href="Data.Dyck.Payload.html#3521" class="Bound">ys</a> <a id="3572" class="Symbol">→</a> <a id="3574" href="Data.Dyck.Payload.html#3518" class="Bound">xs</a> <a id="3577" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="3579" href="Data.Dyck.Payload.html#3521" class="Bound">ys</a>
<a id="3582" href="Data.Dyck.Payload.html#3504" class="Function">reduce-inj</a> <a id="3593" href="Data.Dyck.Payload.html#3593" class="Bound">xs≡ys</a> <a id="3599" class="Symbol">=</a> <a id="3601" href="Cubical.Foundations.Id.html#782" class="Function">cong</a> <a id="3606" href="Data.Dyck.Payload.html#3364" class="Function">unreduce</a> <a id="3615" href="Data.Dyck.Payload.html#3593" class="Bound">xs≡ys</a>

<a id="tree-vars⊙"></a><a id="3622" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3633" class="Symbol">:</a> <a id="3635" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3640" href="Level.html#388" class="Generalizable">A</a> <a id="3642" class="Symbol">→</a> <a id="3644" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3649" href="Level.html#388" class="Generalizable">A</a> <a id="3651" class="Symbol">→</a> <a id="3653" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3658" href="Level.html#388" class="Generalizable">A</a>
<a id="3660" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3671" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">[</a> <a id="3673" href="Data.Dyck.Payload.html#3673" class="Bound">x</a> <a id="3675" href="Data.Dyck.Payload.html#799" class="InductiveConstructor Operator">]</a> <a id="3677" href="Data.Dyck.Payload.html#3677" class="Bound">ks</a> <a id="3680" class="Symbol">=</a> <a id="3682" href="Data.Dyck.Payload.html#3673" class="Bound">x</a> <a id="3684" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3686" href="Data.Dyck.Payload.html#3677" class="Bound">ks</a>
<a id="3689" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3700" class="Symbol">(</a><a id="3701" href="Data.Dyck.Payload.html#3701" class="Bound">xs</a> <a id="3704" href="Data.Dyck.Payload.html#818" class="InductiveConstructor Operator">*</a> <a id="3706" href="Data.Dyck.Payload.html#3706" class="Bound">ys</a><a id="3708" class="Symbol">)</a> <a id="3710" class="Symbol">=</a> <a id="3712" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3723" href="Data.Dyck.Payload.html#3701" class="Bound">xs</a> <a id="3726" href="Function.html#112" class="Function Operator">∘</a> <a id="3728" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3739" href="Data.Dyck.Payload.html#3706" class="Bound">ys</a>

<a id="tree-vars"></a><a id="3743" href="Data.Dyck.Payload.html#3743" class="Function">tree-vars</a> <a id="3753" class="Symbol">:</a> <a id="3755" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3760" href="Level.html#388" class="Generalizable">A</a> <a id="3762" class="Symbol">→</a> <a id="3764" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3769" href="Level.html#388" class="Generalizable">A</a>
<a id="3771" href="Data.Dyck.Payload.html#3743" class="Function">tree-vars</a> <a id="3781" href="Data.Dyck.Payload.html#3781" class="Bound">xs</a> <a id="3784" class="Symbol">=</a> <a id="3786" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3797" href="Data.Dyck.Payload.html#3781" class="Bound">xs</a> <a id="3800" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="vars⊙"></a><a id="3804" href="Data.Dyck.Payload.html#3804" class="Function">vars⊙</a> <a id="3810" class="Symbol">:</a> <a id="3812" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="3816" class="Symbol">(</a><a id="3817" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3822" href="Level.html#388" class="Generalizable">A</a><a id="3823" class="Symbol">)</a> <a id="3825" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="3827" class="Symbol">→</a> <a id="3829" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3834" href="Level.html#388" class="Generalizable">A</a> <a id="3836" class="Symbol">→</a> <a id="3838" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3843" href="Level.html#388" class="Generalizable">A</a>
<a id="3845" href="Data.Dyck.Payload.html#3804" class="Function">vars⊙</a> <a id="3851" href="Data.Dyck.Payload.html#3851" class="Bound">xs</a> <a id="3854" href="Data.Dyck.Payload.html#3854" class="Bound">ks</a> <a id="3857" class="Symbol">=</a> <a id="3859" href="Data.Vec.Iterated.html#1039" class="Function">foldr′</a> <a id="3866" href="Data.Dyck.Payload.html#3622" class="Function">tree-vars⊙</a> <a id="3877" href="Data.Dyck.Payload.html#3854" class="Bound">ks</a> <a id="3880" href="Data.Dyck.Payload.html#3851" class="Bound">xs</a>

<a id="vars"></a><a id="3884" href="Data.Dyck.Payload.html#3884" class="Function">vars</a> <a id="3889" class="Symbol">:</a> <a id="3891" href="Data.Vec.Iterated.html#250" class="Function">Vec</a> <a id="3895" class="Symbol">(</a><a id="3896" href="Data.Dyck.Payload.html#764" class="Datatype">Tree</a> <a id="3901" href="Level.html#388" class="Generalizable">A</a><a id="3902" class="Symbol">)</a> <a id="3904" href="Data.Dyck.Payload.html#502" class="Generalizable">n</a> <a id="3906" class="Symbol">→</a> <a id="3908" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3913" href="Level.html#388" class="Generalizable">A</a>
<a id="3915" href="Data.Dyck.Payload.html#3884" class="Function">vars</a> <a id="3920" href="Data.Dyck.Payload.html#3920" class="Bound">xs</a> <a id="3923" class="Symbol">=</a> <a id="3925" href="Data.Dyck.Payload.html#3804" class="Function">vars⊙</a> <a id="3931" href="Data.Dyck.Payload.html#3920" class="Bound">xs</a> <a id="3934" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="3938" class="Comment">-- prog→tree-inj : (xs ys : Prog A n) (st : Vec (Tree A) (1 + n)) → prog→tree⊙ xs st ≡ prog→tree⊙ ys st → xs ≡ ys</a>
<a id="4052" class="Comment">-- prog→tree-inj halt        halt        st xs≡ys = refl</a>
<a id="4109" class="Comment">-- prog→tree-inj (pull xs)   (pull ys)   st xs≡ys = cong pull (prog→tree-inj xs ys (reduce st) xs≡ys)</a>
<a id="4211" class="Comment">-- prog→tree-inj (push x xs) (push y ys) st xs≡ys = cong₂ push {!!} (prog→tree-inj xs ys ([ x ] ∷ st) {!xs≡ys!})</a>
<a id="4324" class="Comment">-- prog→tree-inj halt        (push x ys) st xs≡ys = {!!}</a>
<a id="4381" class="Comment">-- prog→tree-inj (push x xs) halt        st xs≡ys = let p = cong vars xs≡ys in {!!}</a>
<a id="4465" class="Comment">-- prog→tree-inj (push x xs) (pull ys)   st xs≡ys = {!!}</a>
<a id="4522" class="Comment">-- prog→tree-inj (pull xs)   (push x ys) st xs≡ys = {!!}</a>
</pre></body></html>