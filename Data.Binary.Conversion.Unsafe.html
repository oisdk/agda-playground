<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Binary.Conversion.Unsafe</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Symbol">#-}</a>

<a id="28" class="Keyword">module</a> <a id="35" href="Data.Binary.Conversion.Unsafe.html" class="Module">Data.Binary.Conversion.Unsafe</a> <a id="65" class="Keyword">where</a>

<a id="72" class="Comment">-- While this module is called &quot;unsafe&quot; it&#39;s really not.</a>
<a id="129" class="Comment">-- The function below has been proven to be terminating,</a>
<a id="186" class="Comment">-- but the proof incurs a performance penalty.</a>


<a id="235" class="Keyword">open</a> <a id="240" class="Keyword">import</a> <a id="247" href="Data.Binary.Definition.html" class="Module">Data.Binary.Definition</a>
<a id="270" class="Keyword">open</a> <a id="275" class="Keyword">import</a> <a id="282" href="Data.Nat.DivMod.html" class="Module">Data.Nat.DivMod</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Prelude.html" class="Module">Prelude</a>
<a id="318" class="Keyword">import</a> <a id="325" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="345" class="Symbol">as</a> <a id="348" class="Module">‚Ñï</a>

<a id="351" class="Symbol">{-#</a> <a id="355" class="Keyword">TERMINATING</a> <a id="367" class="Symbol">#-}</a>
<a id="‚ü¶_‚áë‚üß‚Ä≥"></a><a id="371" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚ü¶_‚áë‚üß‚Ä≥</a> <a id="377" class="Symbol">:</a> <a id="379" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a> <a id="381" class="Symbol">‚Üí</a> <a id="383" href="Data.Bits.html#102" class="Datatype">ùîπ</a>
<a id="385" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚ü¶</a> <a id="387" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>  <a id="393" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚áë‚üß‚Ä≥</a> <a id="397" class="Symbol">=</a> <a id="399" href="Data.Bits.html#123" class="InductiveConstructor">0·µá</a>
<a id="402" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚ü¶</a> <a id="404" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="408" href="Data.Binary.Conversion.Unsafe.html#408" class="Bound">n</a> <a id="410" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚áë‚üß‚Ä≥</a> <a id="414" class="Symbol">=</a>
  <a id="418" href="Data.Bool.html#532" class="Function Operator">if</a> <a id="421" href="Data.Nat.DivMod.html#316" class="Function">rem</a> <a id="425" href="Data.Binary.Conversion.Unsafe.html#408" class="Bound">n</a> <a id="427" class="Number">2</a> <a id="429" href="Data.Nat.Properties.html#164" class="Primitive Operator">‚Ñï.‚â°·¥Æ</a> <a id="434" class="Number">0</a>
  <a id="438" href="Data.Bool.html#532" class="Function Operator">then</a> <a id="443" href="Data.Bits.html#135" class="InductiveConstructor Operator">1·µá</a> <a id="446" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚ü¶</a> <a id="448" href="Data.Binary.Conversion.Unsafe.html#408" class="Bound">n</a> <a id="450" href="Data.Nat.DivMod.html#230" class="Function Operator">√∑</a> <a id="452" class="Number">2</a> <a id="454" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚áë‚üß‚Ä≥</a>
  <a id="460" href="Data.Bool.html#532" class="Function Operator">else</a> <a id="465" href="Data.Bits.html#155" class="InductiveConstructor Operator">2·µá</a> <a id="468" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚ü¶</a> <a id="470" href="Data.Binary.Conversion.Unsafe.html#408" class="Bound">n</a> <a id="472" href="Data.Nat.DivMod.html#230" class="Function Operator">√∑</a> <a id="474" class="Number">2</a> <a id="476" href="Data.Binary.Conversion.Unsafe.html#371" class="Function Operator">‚áë‚üß‚Ä≥</a>

<a id="481" class="Keyword">open</a> <a id="486" class="Keyword">import</a> <a id="493" href="Data.Nat.WellFounded.html" class="Module">Data.Nat.WellFounded</a>

<a id="‚ü¶_‚áë‚üß‚Ä¥"></a><a id="515" href="Data.Binary.Conversion.Unsafe.html#515" class="Function Operator">‚ü¶_‚áë‚üß‚Ä¥</a> <a id="521" class="Symbol">:</a> <a id="523" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a> <a id="525" class="Symbol">‚Üí</a> <a id="527" href="Data.Bits.html#102" class="Datatype">ùîπ</a>
<a id="529" href="Data.Binary.Conversion.Unsafe.html#515" class="Function Operator">‚ü¶</a> <a id="531" href="Data.Binary.Conversion.Unsafe.html#531" class="Bound">n</a> <a id="533" href="Data.Binary.Conversion.Unsafe.html#515" class="Function Operator">‚áë‚üß‚Ä¥</a> <a id="537" class="Symbol">=</a> <a id="539" href="Data.Binary.Conversion.Unsafe.html#572" class="Function">go</a> <a id="542" href="Data.Binary.Conversion.Unsafe.html#531" class="Bound">n</a> <a id="544" class="Symbol">(</a><a id="545" href="Data.Nat.WellFounded.html#275" class="Function">‚â§-wellFounded</a> <a id="559" href="Data.Binary.Conversion.Unsafe.html#531" class="Bound">n</a><a id="560" class="Symbol">)</a>
  <a id="564" class="Keyword">where</a>
  <a id="572" href="Data.Binary.Conversion.Unsafe.html#572" class="Function">go</a> <a id="575" class="Symbol">:</a> <a id="577" class="Symbol">‚àÄ</a> <a id="579" href="Data.Binary.Conversion.Unsafe.html#579" class="Bound">n</a> <a id="581" class="Symbol">‚Üí</a> <a id="583" href="WellFounded.html#85" class="Datatype">Acc</a> <a id="587" href="Data.Nat.WellFounded.html#236" class="Function Operator">_&lt;_</a> <a id="591" href="Data.Binary.Conversion.Unsafe.html#579" class="Bound">n</a> <a id="593" class="Symbol">‚Üí</a> <a id="595" href="Data.Bits.html#102" class="Datatype">ùîπ</a>
  <a id="599" href="Data.Binary.Conversion.Unsafe.html#572" class="Function">go</a> <a id="602" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="610" href="Data.Binary.Conversion.Unsafe.html#610" class="Bound">wf</a> <a id="613" class="Symbol">=</a> <a id="615" href="Data.Bits.html#123" class="InductiveConstructor">0·µá</a>
  <a id="620" href="Data.Binary.Conversion.Unsafe.html#572" class="Function">go</a> <a id="623" class="Symbol">(</a><a id="624" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="628" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a><a id="629" class="Symbol">)</a> <a id="631" class="Symbol">(</a><a id="632" href="WellFounded.html#161" class="InductiveConstructor">acc</a> <a id="636" href="Data.Binary.Conversion.Unsafe.html#636" class="Bound">wf</a><a id="638" class="Symbol">)</a> <a id="640" class="Symbol">=</a>
    <a id="646" href="Data.Bool.html#532" class="Function Operator">if</a> <a id="649" href="Data.Nat.DivMod.html#316" class="Function">rem</a> <a id="653" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a> <a id="655" class="Number">2</a> <a id="657" href="Data.Nat.Properties.html#164" class="Primitive Operator">‚Ñï.‚â°·¥Æ</a> <a id="662" class="Number">0</a>
    <a id="668" href="Data.Bool.html#532" class="Function Operator">then</a> <a id="673" href="Data.Bits.html#135" class="InductiveConstructor Operator">1·µá</a> <a id="676" href="Data.Binary.Conversion.Unsafe.html#572" class="Function">go</a> <a id="679" class="Symbol">(</a><a id="680" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a> <a id="682" href="Data.Nat.DivMod.html#230" class="Function Operator">√∑</a> <a id="684" class="Number">2</a><a id="685" class="Symbol">)</a> <a id="687" class="Symbol">(</a><a id="688" href="Data.Binary.Conversion.Unsafe.html#636" class="Bound">wf</a> <a id="691" class="Symbol">(</a><a id="692" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a> <a id="694" href="Data.Nat.DivMod.html#230" class="Function Operator">√∑</a> <a id="696" class="Number">2</a><a id="697" class="Symbol">)</a> <a id="699" class="Symbol">(</a><a id="700" href="Data.Nat.WellFounded.html#1003" class="Function">s‚â§s</a> <a id="704" class="Symbol">(</a><a id="705" href="Data.Nat.WellFounded.html#737" class="Function">div2‚â§</a> <a id="711" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a><a id="712" class="Symbol">)))</a>
    <a id="720" href="Data.Bool.html#532" class="Function Operator">else</a> <a id="725" href="Data.Bits.html#155" class="InductiveConstructor Operator">2·µá</a> <a id="728" href="Data.Binary.Conversion.Unsafe.html#572" class="Function">go</a> <a id="731" class="Symbol">(</a><a id="732" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a> <a id="734" href="Data.Nat.DivMod.html#230" class="Function Operator">√∑</a> <a id="736" class="Number">2</a><a id="737" class="Symbol">)</a> <a id="739" class="Symbol">(</a><a id="740" href="Data.Binary.Conversion.Unsafe.html#636" class="Bound">wf</a> <a id="743" class="Symbol">(</a><a id="744" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a> <a id="746" href="Data.Nat.DivMod.html#230" class="Function Operator">√∑</a> <a id="748" class="Number">2</a><a id="749" class="Symbol">)</a> <a id="751" class="Symbol">(</a><a id="752" href="Data.Nat.WellFounded.html#1003" class="Function">s‚â§s</a> <a id="756" class="Symbol">(</a><a id="757" href="Data.Nat.WellFounded.html#737" class="Function">div2‚â§</a> <a id="763" href="Data.Binary.Conversion.Unsafe.html#628" class="Bound">n</a><a id="764" class="Symbol">)))</a>
</pre></body></html>