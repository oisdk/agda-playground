<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Control.Monad.ListT</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--no-positivity-check</a> <a id="45" class="Pragma">--no-termination-check</a> <a id="68" class="Symbol">#-}</a>

<a id="73" class="Keyword">open</a> <a id="78" class="Keyword">import</a> <a id="85" href="Prelude.html" class="Module">Prelude</a> <a id="93" class="Keyword">hiding</a> <a id="100" class="Symbol">(</a><a id="101" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="102" class="Symbol">)</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Algebra.html" class="Module">Algebra</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="152" class="Keyword">open</a> <a id="157" class="Keyword">import</a> <a id="164" href="Data.Unit.UniversePolymorphic.html" class="Module">Data.Unit.UniversePolymorphic</a>

<a id="195" class="Keyword">module</a> <a id="202" href="Control.Monad.ListT.html" class="Module">Control.Monad.ListT</a>
  <a id="224" class="Symbol">{</a><a id="225" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a><a id="226" class="Symbol">}</a>
  <a id="230" class="Symbol">(</a><a id="231" href="Control.Monad.ListT.html#231" class="Bound">gmon</a> <a id="236" class="Symbol">:</a> <a id="238" href="Algebra.html#7889" class="Record">GradedMonad</a> <a id="250" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a> <a id="252" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a> <a id="254" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a><a id="255" class="Symbol">)</a>
  <a id="259" class="Keyword">where</a>

<a id="266" class="Keyword">open</a> <a id="271" href="Algebra.html#7889" class="Module">GradedMonad</a> <a id="283" href="Control.Monad.ListT.html#231" class="Bound">gmon</a>

<a id="289" class="Keyword">private</a>
  <a id="299" class="Keyword">variable</a>
    <a id="312" href="Control.Monad.ListT.html#312" class="Generalizable">x</a> <a id="314" href="Control.Monad.ListT.html#314" class="Generalizable">y</a> <a id="316" href="Control.Monad.ListT.html#316" class="Generalizable">z</a> <a id="318" class="Symbol">:</a> <a id="320" href="Algebra.html#1401" class="Function">𝑆</a>



<a id="325" class="Keyword">infixr</a> <a id="332" class="Number">5</a> <a id="334" href="Control.Monad.ListT.html#557" class="InductiveConstructor Operator">_∷_</a>
<a id="338" class="Keyword">mutual</a>
  <a id="347" class="Keyword">record</a> <a id="List"></a><a id="354" href="Control.Monad.ListT.html#354" class="Record">List</a> <a id="359" class="Symbol">(</a><a id="360" href="Control.Monad.ListT.html#360" class="Bound">A</a> <a id="362" class="Symbol">:</a> <a id="364" href="Level.html#192" class="Function">Type</a> <a id="369" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a><a id="370" class="Symbol">)</a> <a id="372" class="Symbol">(</a><a id="373" href="Control.Monad.ListT.html#373" class="Bound">w</a> <a id="375" class="Symbol">:</a> <a id="377" href="Algebra.html#1401" class="Function">𝑆</a><a id="378" class="Symbol">)</a> <a id="380" class="Symbol">:</a> <a id="382" href="Level.html#192" class="Function">Type</a> <a id="387" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a> <a id="389" class="Keyword">where</a>
    <a id="399" class="Keyword">constructor</a> <a id="cons"></a><a id="411" href="Control.Monad.ListT.html#411" class="InductiveConstructor">cons</a>
    <a id="420" class="Keyword">field</a>
      <a id="List.step"></a><a id="432" href="Control.Monad.ListT.html#432" class="Field">step</a> <a id="437" class="Symbol">:</a> <a id="439" href="Algebra.html#1401" class="Function">𝑆</a>
      <a id="List.uncons"></a><a id="447" href="Control.Monad.ListT.html#447" class="Field">uncons</a> <a id="454" class="Symbol">:</a> <a id="456" href="Algebra.html#8018" class="Field">𝐹</a> <a id="458" href="Control.Monad.ListT.html#432" class="Field">step</a> <a id="463" class="Symbol">(</a><a id="464" href="Control.Monad.ListT.html#487" class="Datatype">Cons</a> <a id="469" href="Control.Monad.ListT.html#432" class="Field">step</a> <a id="474" href="Control.Monad.ListT.html#360" class="Bound">A</a> <a id="476" href="Control.Monad.ListT.html#373" class="Bound">w</a><a id="477" class="Symbol">)</a>

  <a id="482" class="Keyword">data</a> <a id="Cons"></a><a id="487" href="Control.Monad.ListT.html#487" class="Datatype">Cons</a> <a id="492" class="Symbol">(</a><a id="493" href="Control.Monad.ListT.html#493" class="Bound">w</a> <a id="495" class="Symbol">:</a> <a id="497" href="Algebra.html#1401" class="Function">𝑆</a><a id="498" class="Symbol">)</a> <a id="500" class="Symbol">(</a><a id="501" href="Control.Monad.ListT.html#501" class="Bound">A</a> <a id="503" class="Symbol">:</a> <a id="505" href="Level.html#192" class="Function">Type</a> <a id="510" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a><a id="511" class="Symbol">)</a> <a id="513" class="Symbol">:</a> <a id="515" href="Algebra.html#1401" class="Function">𝑆</a> <a id="517" class="Symbol">→</a> <a id="519" href="Level.html#192" class="Function">Type</a> <a id="524" href="Control.Monad.ListT.html#225" class="Bound">ℓ</a> <a id="526" class="Keyword">where</a>
    <a id="Cons.[]"></a><a id="536" href="Control.Monad.ListT.html#536" class="InductiveConstructor">[]</a>  <a id="540" class="Symbol">:</a> <a id="542" href="Control.Monad.ListT.html#487" class="Datatype">Cons</a> <a id="547" href="Control.Monad.ListT.html#493" class="Bound">w</a> <a id="549" href="Control.Monad.ListT.html#501" class="Bound">A</a> <a id="551" href="Control.Monad.ListT.html#493" class="Bound">w</a>
    <a id="Cons._∷_"></a><a id="557" href="Control.Monad.ListT.html#557" class="InductiveConstructor Operator">_∷_</a> <a id="561" class="Symbol">:</a> <a id="563" class="Symbol">{</a><a id="564" href="Control.Monad.ListT.html#564" class="Bound">ws</a> <a id="567" class="Symbol">:</a> <a id="569" href="Algebra.html#1401" class="Function">𝑆</a><a id="570" class="Symbol">}</a> <a id="572" class="Symbol">→</a> <a id="574" class="Symbol">(</a><a id="575" href="Control.Monad.ListT.html#575" class="Bound">x</a> <a id="577" class="Symbol">:</a> <a id="579" href="Control.Monad.ListT.html#501" class="Bound">A</a><a id="580" class="Symbol">)</a> <a id="582" class="Symbol">→</a> <a id="584" class="Symbol">(</a><a id="585" href="Control.Monad.ListT.html#585" class="Bound">xs</a> <a id="588" class="Symbol">:</a> <a id="590" href="Control.Monad.ListT.html#354" class="Record">List</a> <a id="595" href="Control.Monad.ListT.html#501" class="Bound">A</a> <a id="597" href="Control.Monad.ListT.html#564" class="Bound">ws</a><a id="599" class="Symbol">)</a> <a id="601" class="Symbol">→</a> <a id="603" href="Control.Monad.ListT.html#487" class="Datatype">Cons</a> <a id="608" href="Control.Monad.ListT.html#493" class="Bound">w</a> <a id="610" href="Control.Monad.ListT.html#501" class="Bound">A</a> <a id="612" class="Symbol">(</a><a id="613" href="Control.Monad.ListT.html#493" class="Bound">w</a> <a id="615" href="Algebra.html#1421" class="Function Operator">∙</a> <a id="617" href="Control.Monad.ListT.html#564" class="Bound">ws</a><a id="619" class="Symbol">)</a>

<a id="622" class="Keyword">open</a> <a id="627" href="Control.Monad.ListT.html#354" class="Module">List</a>

<a id="633" class="Comment">-- lmap : (A → B) → List x A → List x B</a>
<a id="673" class="Comment">-- lmap f (cons t xs) = cons t (map (λ { [] → [] ; (x ∷ xs) → f x ∷ lmap f xs}) xs)</a>

<a id="758" class="Comment">-- lpure : A → List ε A</a>
<a id="782" class="Comment">-- lpure x = cons ε (pure (subst (Cons ε _) (ε∙ ε) (x ∷ cons ε (pure []))))</a>

<a id="subst₂"></a><a id="859" href="Control.Monad.ListT.html#859" class="Function">subst₂</a> <a id="866" class="Symbol">:</a> <a id="868" class="Symbol">(</a><a id="869" href="Control.Monad.ListT.html#869" class="Bound">P</a> <a id="871" class="Symbol">:</a> <a id="873" href="Level.html#388" class="Generalizable">A</a> <a id="875" class="Symbol">→</a> <a id="877" href="Level.html#402" class="Generalizable">B</a> <a id="879" class="Symbol">→</a> <a id="881" href="Level.html#192" class="Function">Type</a> <a id="886" href="Level.html#376" class="Generalizable">c</a><a id="887" class="Symbol">)</a> <a id="889" class="Symbol">→</a> <a id="891" class="Symbol">{</a><a id="892" href="Control.Monad.ListT.html#892" class="Bound">x₁</a> <a id="895" href="Control.Monad.ListT.html#895" class="Bound">x₂</a> <a id="898" class="Symbol">:</a> <a id="900" href="Level.html#388" class="Generalizable">A</a><a id="901" class="Symbol">}</a> <a id="903" class="Symbol">{</a><a id="904" href="Control.Monad.ListT.html#904" class="Bound">y₁</a> <a id="907" href="Control.Monad.ListT.html#907" class="Bound">y₂</a> <a id="910" class="Symbol">:</a> <a id="912" href="Level.html#402" class="Generalizable">B</a><a id="913" class="Symbol">}</a> <a id="915" class="Symbol">→</a> <a id="917" href="Control.Monad.ListT.html#892" class="Bound">x₁</a> <a id="920" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="922" href="Control.Monad.ListT.html#895" class="Bound">x₂</a> <a id="925" class="Symbol">→</a> <a id="927" href="Control.Monad.ListT.html#904" class="Bound">y₁</a> <a id="930" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="932" href="Control.Monad.ListT.html#907" class="Bound">y₂</a> <a id="935" class="Symbol">→</a> <a id="937" href="Control.Monad.ListT.html#869" class="Bound">P</a> <a id="939" href="Control.Monad.ListT.html#892" class="Bound">x₁</a> <a id="942" href="Control.Monad.ListT.html#904" class="Bound">y₁</a> <a id="945" class="Symbol">→</a> <a id="947" href="Control.Monad.ListT.html#869" class="Bound">P</a> <a id="949" href="Control.Monad.ListT.html#895" class="Bound">x₂</a> <a id="952" href="Control.Monad.ListT.html#907" class="Bound">y₂</a>
<a id="955" href="Control.Monad.ListT.html#859" class="Function">subst₂</a> <a id="962" href="Control.Monad.ListT.html#962" class="Bound">P</a> <a id="964" href="Control.Monad.ListT.html#964" class="Bound">p₁</a> <a id="967" href="Control.Monad.ListT.html#967" class="Bound">p₂</a> <a id="970" class="Symbol">=</a> <a id="972" href="Cubical.Foundations.Id.html#595" class="Function">transport</a> <a id="982" class="Symbol">(</a><a id="983" href="Cubical.Foundations.Prelude.html#1236" class="Function">cong₂</a> <a id="989" href="Control.Monad.ListT.html#962" class="Bound">P</a> <a id="991" href="Control.Monad.ListT.html#964" class="Bound">p₁</a> <a id="994" href="Control.Monad.ListT.html#967" class="Bound">p₂</a><a id="996" class="Symbol">)</a>

<a id="999" class="Comment">-- infixr 5 _++_</a>

<a id="1017" class="Comment">-- _++_ : List A x → List A y → List A (x ∙ y)</a>
<a id="1064" class="Comment">-- cons wˣ xs ++ ys =</a>
<a id="1086" class="Comment">--   let p = xs &gt;&gt;=[ {!!} ] λ { [] → subst₂ 𝐹 {!!} {!!} (uncons ys) ; (x ∷ xs) → subst₂ 𝐹 {!!} {!!} (pure (x ∷ (xs ++ ys))) }</a>
<a id="1212" class="Comment">--   in {!!}</a>

<a id="1226" class="Keyword">postulate</a>
  <a id="1#"></a><a id="1238" href="Control.Monad.ListT.html#1238" class="Postulate">1#</a> <a id="1241" class="Symbol">:</a> <a id="1243" href="Algebra.html#1401" class="Function">𝑆</a>
  <a id="one"></a><a id="1247" href="Control.Monad.ListT.html#1247" class="Postulate">one</a> <a id="1251" class="Symbol">:</a> <a id="1253" href="Algebra.html#8018" class="Field">𝐹</a> <a id="1255" href="Control.Monad.ListT.html#1238" class="Postulate">1#</a> <a id="1258" href="Data.Unit.UniversePolymorphic.html#107" class="Record">⊤</a>

<a id="rep"></a><a id="1261" href="Control.Monad.ListT.html#1261" class="Function">rep</a> <a id="1265" class="Symbol">:</a> <a id="1267" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="Algebra.html#1401" class="Function">𝑆</a>
<a id="1273" href="Control.Monad.ListT.html#1261" class="Function">rep</a> <a id="1277" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="1282" class="Symbol">=</a> <a id="1284" href="Algebra.html#1444" class="Function">ε</a>
<a id="1286" href="Control.Monad.ListT.html#1261" class="Function">rep</a> <a id="1290" class="Symbol">(</a><a id="1291" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1295" href="Control.Monad.ListT.html#1295" class="Bound">n</a><a id="1296" class="Symbol">)</a> <a id="1298" class="Symbol">=</a> <a id="1300" href="Control.Monad.ListT.html#1238" class="Postulate">1#</a> <a id="1303" href="Algebra.html#1421" class="Function Operator">∙</a> <a id="1305" href="Control.Monad.ListT.html#1261" class="Function">rep</a> <a id="1309" href="Control.Monad.ListT.html#1295" class="Bound">n</a>

<a id="replicate"></a><a id="1312" href="Control.Monad.ListT.html#1312" class="Function">replicate</a> <a id="1322" class="Symbol">:</a> <a id="1324" class="Symbol">(</a><a id="1325" href="Control.Monad.ListT.html#1325" class="Bound">n</a> <a id="1327" class="Symbol">:</a> <a id="1329" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1330" class="Symbol">)</a> <a id="1332" class="Symbol">→</a> <a id="1334" href="Control.Monad.ListT.html#354" class="Record">List</a> <a id="1339" href="Data.Unit.UniversePolymorphic.html#107" class="Record">⊤</a> <a id="1341" class="Symbol">(</a><a id="1342" href="Control.Monad.ListT.html#1261" class="Function">rep</a> <a id="1346" href="Control.Monad.ListT.html#1325" class="Bound">n</a><a id="1347" class="Symbol">)</a>
<a id="1349" href="Control.Monad.ListT.html#1312" class="Function">replicate</a> <a id="1359" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1367" class="Symbol">=</a> <a id="1369" href="Control.Monad.ListT.html#411" class="InductiveConstructor">cons</a> <a id="1374" href="Algebra.html#1444" class="Function">ε</a> <a id="1376" class="Symbol">(</a><a id="1377" href="Algebra.html#8048" class="Field">pure</a>  <a id="1383" href="Control.Monad.ListT.html#536" class="InductiveConstructor">[]</a><a id="1385" class="Symbol">)</a>
<a id="1387" href="Control.Monad.ListT.html#1312" class="Function">replicate</a> <a id="1397" class="Symbol">(</a><a id="1398" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1402" href="Control.Monad.ListT.html#1402" class="Bound">n</a><a id="1403" class="Symbol">)</a> <a id="1405" class="Symbol">=</a> <a id="1407" href="Control.Monad.ListT.html#411" class="InductiveConstructor">cons</a> <a id="1412" href="Control.Monad.ListT.html#1238" class="Postulate">1#</a> <a id="1415" class="Symbol">(</a><a id="1416" href="Algebra.html#8824" class="Function">map</a> <a id="1420" class="Symbol">(</a><a id="1421" href="Control.Monad.ListT.html#557" class="InductiveConstructor Operator">_∷</a> <a id="1424" href="Control.Monad.ListT.html#1312" class="Function">replicate</a> <a id="1434" href="Control.Monad.ListT.html#1402" class="Bound">n</a><a id="1435" class="Symbol">)</a> <a id="1437" href="Control.Monad.ListT.html#1247" class="Postulate">one</a><a id="1440" class="Symbol">)</a>

<a id="1443" class="Comment">-- -- cons t xs ++ ys = cons t (xs &gt;&gt;=[ {!!} ] (λ { [] → {!!} ; (x ∷ xs) → subst₂ 𝐹 {!!} (cong (Cons t _) (sym (assoc t _ _))) (pure (x ∷ xs ++ ys))}))</a>

<a id="1596" class="Comment">-- -- -- -- -- lbind : List A → (A → List B) → List B</a>
<a id="1650" class="Comment">-- -- -- -- -- lbind xs f = xs &gt;&gt;= λ { [] → pure [] ; (x ∷ xs) → f x ++ lbind xs f}</a>
</pre></body></html>