<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Stream.Segmented</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--allow-unsolved-metas</a> <a id="36" class="Symbol">#-}</a>

<a id="41" class="Keyword">open</a> <a id="46" class="Keyword">import</a> <a id="53" href="Prelude.html" class="Module">Prelude</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Algebra.html" class="Module">Algebra</a>
<a id="81" class="Keyword">open</a> <a id="86" class="Keyword">import</a> <a id="93" href="Algebra.Monus.html" class="Module">Algebra.Monus</a>

<a id="108" class="Keyword">module</a> <a id="115" href="Codata.Stream.Segmented.html" class="Module">Codata.Stream.Segmented</a>
  <a id="141" class="Symbol">{</a><a id="142" href="Codata.Stream.Segmented.html#142" class="Bound">ℓ</a><a id="143" class="Symbol">}</a>
  <a id="147" class="Symbol">(</a><a id="148" href="Codata.Stream.Segmented.html#148" class="Bound">mon</a> <a id="152" class="Symbol">:</a> <a id="154" href="Algebra.Monus.html#6848" class="Record">CTMAPOM</a> <a id="162" href="Codata.Stream.Segmented.html#142" class="Bound">ℓ</a><a id="163" class="Symbol">)</a>
  <a id="167" class="Symbol">(</a><a id="168" href="Codata.Stream.Segmented.html#168" class="Bound">𝓌𝒻</a> <a id="171" class="Symbol">:</a> <a id="173" href="WellFounded.html#383" class="Function">WellFounded</a> <a id="185" class="Symbol">(</a><a id="186" href="Relation.Binary.html#1847" class="Function Operator">CTMAPOM._&lt;_</a> <a id="198" href="Codata.Stream.Segmented.html#148" class="Bound">mon</a><a id="201" class="Symbol">))</a>
  <a id="206" class="Keyword">where</a>

<a id="213" class="Keyword">open</a> <a id="218" href="Algebra.Monus.html#6848" class="Module">CTMAPOM</a> <a id="226" href="Codata.Stream.Segmented.html#148" class="Bound">mon</a>

<a id="231" class="Keyword">module</a> <a id="Approach1"></a><a id="238" href="Codata.Stream.Segmented.html#238" class="Module">Approach1</a> <a id="248" class="Keyword">where</a>
  <a id="256" class="Keyword">record</a> <a id="Approach1.Stream′"></a><a id="263" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="271" class="Symbol">{</a><a id="272" href="Codata.Stream.Segmented.html#272" class="Bound">a</a><a id="273" class="Symbol">}</a> <a id="275" class="Symbol">(</a><a id="276" href="Codata.Stream.Segmented.html#276" class="Bound">A</a> <a id="278" class="Symbol">:</a> <a id="280" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="285" href="Codata.Stream.Segmented.html#272" class="Bound">a</a><a id="286" class="Symbol">)</a> <a id="288" class="Symbol">(</a><a id="289" href="Codata.Stream.Segmented.html#289" class="Bound">i</a> <a id="291" class="Symbol">:</a> <a id="293" href="Algebra.html#1401" class="Function">𝑆</a><a id="294" class="Symbol">)</a> <a id="296" class="Symbol">:</a> <a id="298" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="303" class="Symbol">(</a><a id="304" href="Codata.Stream.Segmented.html#272" class="Bound">a</a> <a id="306" href="Agda.Primitive.html#810" class="Primitive Operator">ℓ⊔</a> <a id="309" href="Codata.Stream.Segmented.html#142" class="Bound">ℓ</a><a id="310" class="Symbol">)</a> <a id="312" class="Keyword">where</a>
    <a id="322" class="Keyword">inductive</a>
    <a id="336" class="Keyword">field</a>
      <a id="Approach1.Stream′.head"></a><a id="348" href="Codata.Stream.Segmented.html#348" class="Field">head</a> <a id="353" class="Symbol">:</a> <a id="355" href="Codata.Stream.Segmented.html#276" class="Bound">A</a>
      <a id="Approach1.Stream′.size"></a><a id="363" href="Codata.Stream.Segmented.html#363" class="Field">size</a> <a id="368" class="Symbol">:</a> <a id="370" href="Algebra.html#1401" class="Function">𝑆</a>
      <a id="Approach1.Stream′.tail"></a><a id="378" href="Codata.Stream.Segmented.html#378" class="Field">tail</a> <a id="383" class="Symbol">:</a> <a id="385" class="Symbol">(</a><a id="386" href="Codata.Stream.Segmented.html#386" class="Bound">p</a> <a id="388" class="Symbol">:</a> <a id="390" href="Codata.Stream.Segmented.html#363" class="Field">size</a> <a id="395" href="Relation.Binary.html#1562" class="Function Operator">≤</a> <a id="397" href="Codata.Stream.Segmented.html#289" class="Bound">i</a><a id="398" class="Symbol">)</a> <a id="400" class="Symbol">→</a> <a id="402" href="Data.Maybe.Base.html#91" class="Datatype">Maybe</a> <a id="408" class="Symbol">(</a><a id="409" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="417" href="Codata.Stream.Segmented.html#276" class="Bound">A</a> <a id="419" class="Symbol">(</a><a id="420" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="424" href="Codata.Stream.Segmented.html#386" class="Bound">p</a><a id="425" class="Symbol">))</a>
  <a id="430" class="Keyword">open</a> <a id="435" href="Codata.Stream.Segmented.html#263" class="Module">Stream′</a> <a id="443" class="Keyword">public</a>

  <a id="453" class="Keyword">private</a>
    <a id="465" class="Keyword">variable</a>
      <a id="480" href="Codata.Stream.Segmented.html#480" class="Generalizable">i</a> <a id="482" href="Codata.Stream.Segmented.html#482" class="Generalizable">j</a> <a id="484" class="Symbol">:</a> <a id="486" href="Algebra.html#1401" class="Function">𝑆</a>

  <a id="Approach1.Stream"></a><a id="491" href="Codata.Stream.Segmented.html#491" class="Function">Stream</a> <a id="498" class="Symbol">:</a> <a id="500" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="505" href="Level.html#239" class="Generalizable">a</a> <a id="507" class="Symbol">→</a> <a id="509" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="514" class="Symbol">(</a><a id="515" href="Level.html#239" class="Generalizable">a</a> <a id="517" href="Agda.Primitive.html#810" class="Primitive Operator">ℓ⊔</a> <a id="520" href="Codata.Stream.Segmented.html#142" class="Bound">ℓ</a><a id="521" class="Symbol">)</a>
  <a id="525" href="Codata.Stream.Segmented.html#491" class="Function">Stream</a> <a id="532" href="Codata.Stream.Segmented.html#532" class="Bound">A</a> <a id="534" class="Symbol">=</a> <a id="536" class="Symbol">∀</a> <a id="538" class="Symbol">{</a><a id="539" href="Codata.Stream.Segmented.html#539" class="Bound">i</a><a id="540" class="Symbol">}</a> <a id="542" class="Symbol">→</a> <a id="544" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="552" href="Codata.Stream.Segmented.html#532" class="Bound">A</a> <a id="554" href="Codata.Stream.Segmented.html#539" class="Bound">i</a>

  <a id="Approach1.pure"></a><a id="559" href="Codata.Stream.Segmented.html#559" class="Function">pure</a> <a id="564" class="Symbol">:</a> <a id="566" href="Level.html#255" class="Generalizable">A</a> <a id="568" class="Symbol">→</a> <a id="570" href="Codata.Stream.Segmented.html#491" class="Function">Stream</a> <a id="577" href="Level.html#255" class="Generalizable">A</a>
  <a id="581" href="Codata.Stream.Segmented.html#559" class="Function">pure</a> <a id="586" href="Codata.Stream.Segmented.html#586" class="Bound">x</a> <a id="588" class="Symbol">.</a><a id="589" href="Codata.Stream.Segmented.html#348" class="Field">head</a> <a id="594" class="Symbol">=</a> <a id="596" href="Codata.Stream.Segmented.html#586" class="Bound">x</a>
  <a id="600" href="Codata.Stream.Segmented.html#559" class="Function">pure</a> <a id="605" href="Codata.Stream.Segmented.html#605" class="Bound">x</a> <a id="607" class="Symbol">.</a><a id="608" href="Codata.Stream.Segmented.html#363" class="Field">size</a> <a id="613" class="Symbol">=</a> <a id="615" href="Algebra.html#1444" class="Function">ε</a>
  <a id="619" href="Codata.Stream.Segmented.html#559" class="Function">pure</a> <a id="624" href="Codata.Stream.Segmented.html#624" class="Bound">x</a> <a id="626" class="Symbol">.</a><a id="627" href="Codata.Stream.Segmented.html#378" class="Field">tail</a> <a id="632" class="Symbol">_</a> <a id="634" class="Symbol">=</a> <a id="636" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a>

  <a id="647" class="Keyword">module</a> <a id="654" href="Codata.Stream.Segmented.html#654" class="Module">_</a> <a id="656" class="Symbol">(</a><a id="657" href="Codata.Stream.Segmented.html#657" class="Bound">s</a> <a id="659" class="Symbol">:</a> <a id="661" href="Algebra.html#1401" class="Function">𝑆</a><a id="662" class="Symbol">)</a> <a id="664" class="Symbol">(</a><a id="665" href="Codata.Stream.Segmented.html#665" class="Bound">s≢ε</a> <a id="669" class="Symbol">:</a> <a id="671" href="Codata.Stream.Segmented.html#657" class="Bound">s</a> <a id="673" href="Path.html#506" class="Function Operator">≢</a> <a id="675" href="Algebra.html#1444" class="Function">ε</a><a id="676" class="Symbol">)</a> <a id="678" class="Symbol">(</a><a id="679" href="Codata.Stream.Segmented.html#679" class="Bound">x</a> <a id="681" class="Symbol">:</a> <a id="683" href="Level.html#255" class="Generalizable">A</a><a id="684" class="Symbol">)</a> <a id="686" class="Keyword">where</a>
    <a id="696" href="Codata.Stream.Segmented.html#696" class="Function">repeat′</a> <a id="704" class="Symbol">:</a> <a id="706" href="WellFounded.html#85" class="Datatype">Acc</a> <a id="710" href="Relation.Binary.html#1847" class="Function Operator">_&lt;_</a> <a id="714" href="Codata.Stream.Segmented.html#480" class="Generalizable">i</a> <a id="716" class="Symbol">→</a> <a id="718" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="726" href="Codata.Stream.Segmented.html#683" class="Bound">A</a> <a id="728" href="Codata.Stream.Segmented.html#480" class="Generalizable">i</a>
    <a id="734" href="Codata.Stream.Segmented.html#696" class="Function">repeat′</a> <a id="742" href="Codata.Stream.Segmented.html#742" class="Bound">a</a> <a id="744" class="Symbol">.</a><a id="745" href="Codata.Stream.Segmented.html#348" class="Field">head</a> <a id="750" class="Symbol">=</a> <a id="752" href="Codata.Stream.Segmented.html#679" class="Bound">x</a>
    <a id="758" href="Codata.Stream.Segmented.html#696" class="Function">repeat′</a> <a id="766" href="Codata.Stream.Segmented.html#766" class="Bound">a</a> <a id="768" class="Symbol">.</a><a id="769" href="Codata.Stream.Segmented.html#363" class="Field">size</a> <a id="774" class="Symbol">=</a> <a id="776" href="Codata.Stream.Segmented.html#657" class="Bound">s</a>
    <a id="782" href="Codata.Stream.Segmented.html#696" class="Function">repeat′</a> <a id="790" class="Symbol">(</a><a id="791" href="WellFounded.html#161" class="InductiveConstructor">acc</a> <a id="795" href="Codata.Stream.Segmented.html#795" class="Bound">wf</a><a id="797" class="Symbol">)</a> <a id="799" class="Symbol">.</a><a id="800" href="Codata.Stream.Segmented.html#378" class="Field">tail</a> <a id="805" class="Symbol">(</a><a id="806" href="Codata.Stream.Segmented.html#806" class="Bound">k</a> <a id="808" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="810" href="Codata.Stream.Segmented.html#810" class="Bound">p</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">=</a> <a id="815" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="820" class="Symbol">(</a><a id="821" href="Codata.Stream.Segmented.html#696" class="Function">repeat′</a> <a id="829" class="Symbol">(</a><a id="830" href="Codata.Stream.Segmented.html#795" class="Bound">wf</a> <a id="833" class="Symbol">_</a> <a id="835" class="Symbol">(</a><a id="836" href="Algebra.Monus.html#5562" class="Function">≤⇒≢ε⇒&lt;</a> <a id="843" href="Codata.Stream.Segmented.html#806" class="Bound">k</a> <a id="845" class="Symbol">_</a> <a id="847" class="Symbol">(</a><a id="848" href="Codata.Stream.Segmented.html#657" class="Bound">s</a> <a id="850" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="852" href="Codata.Stream.Segmented.html#810" class="Bound">p</a> <a id="854" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="856" href="Algebra.html#2901" class="Function">comm</a> <a id="861" href="Codata.Stream.Segmented.html#657" class="Bound">s</a> <a id="863" href="Codata.Stream.Segmented.html#806" class="Bound">k</a><a id="864" class="Symbol">)</a> <a id="866" href="Codata.Stream.Segmented.html#665" class="Bound">s≢ε</a><a id="869" class="Symbol">)))</a>

    <a id="878" href="Codata.Stream.Segmented.html#878" class="Function">repeat</a> <a id="885" class="Symbol">:</a> <a id="887" href="Codata.Stream.Segmented.html#491" class="Function">Stream</a> <a id="894" href="Codata.Stream.Segmented.html#683" class="Bound">A</a>
    <a id="900" href="Codata.Stream.Segmented.html#878" class="Function">repeat</a> <a id="907" class="Symbol">=</a> <a id="909" href="Codata.Stream.Segmented.html#696" class="Function">repeat′</a> <a id="917" class="Symbol">(</a><a id="918" href="Codata.Stream.Segmented.html#168" class="Bound">𝓌𝒻</a> <a id="921" class="Symbol">_)</a>

  <a id="Approach1.map"></a><a id="927" href="Codata.Stream.Segmented.html#927" class="Function">map</a> <a id="931" class="Symbol">:</a> <a id="933" class="Symbol">(</a><a id="934" href="Level.html#255" class="Generalizable">A</a> <a id="936" class="Symbol">→</a> <a id="938" href="Level.html#269" class="Generalizable">B</a><a id="939" class="Symbol">)</a> <a id="941" class="Symbol">→</a> <a id="943" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="951" href="Level.html#255" class="Generalizable">A</a> <a id="953" href="Codata.Stream.Segmented.html#480" class="Generalizable">i</a> <a id="955" class="Symbol">→</a> <a id="957" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="965" href="Level.html#269" class="Generalizable">B</a> <a id="967" href="Codata.Stream.Segmented.html#480" class="Generalizable">i</a>
  <a id="971" href="Codata.Stream.Segmented.html#927" class="Function">map</a> <a id="975" href="Codata.Stream.Segmented.html#975" class="Bound">f</a> <a id="977" href="Codata.Stream.Segmented.html#977" class="Bound">xs</a> <a id="980" class="Symbol">.</a><a id="981" href="Codata.Stream.Segmented.html#348" class="Field">head</a> <a id="986" class="Symbol">=</a> <a id="988" href="Codata.Stream.Segmented.html#975" class="Bound">f</a> <a id="990" class="Symbol">(</a><a id="991" href="Codata.Stream.Segmented.html#977" class="Bound">xs</a> <a id="994" class="Symbol">.</a><a id="995" href="Codata.Stream.Segmented.html#348" class="Field">head</a><a id="999" class="Symbol">)</a>
  <a id="1003" href="Codata.Stream.Segmented.html#927" class="Function">map</a> <a id="1007" href="Codata.Stream.Segmented.html#1007" class="Bound">f</a> <a id="1009" href="Codata.Stream.Segmented.html#1009" class="Bound">xs</a> <a id="1012" class="Symbol">.</a><a id="1013" href="Codata.Stream.Segmented.html#363" class="Field">size</a> <a id="1018" class="Symbol">=</a> <a id="1020" href="Codata.Stream.Segmented.html#1009" class="Bound">xs</a> <a id="1023" class="Symbol">.</a><a id="1024" href="Codata.Stream.Segmented.html#363" class="Field">size</a>
  <a id="1031" href="Codata.Stream.Segmented.html#927" class="Function">map</a> <a id="1035" href="Codata.Stream.Segmented.html#1035" class="Bound">f</a> <a id="1037" href="Codata.Stream.Segmented.html#1037" class="Bound">xs</a> <a id="1040" class="Symbol">.</a><a id="1041" href="Codata.Stream.Segmented.html#378" class="Field">tail</a> <a id="1046" href="Codata.Stream.Segmented.html#1046" class="Bound">p</a> <a id="1048" class="Symbol">=</a> <a id="1050" href="Function.html#1099" class="Function Operator">case</a> <a id="1055" href="Codata.Stream.Segmented.html#1037" class="Bound">xs</a> <a id="1058" class="Symbol">.</a><a id="1059" href="Codata.Stream.Segmented.html#378" class="Field">tail</a> <a id="1064" href="Codata.Stream.Segmented.html#1046" class="Bound">p</a> <a id="1066" href="Function.html#1099" class="Function Operator">of</a> <a id="1069" class="Symbol">λ</a> <a id="1071" class="Symbol">{</a> <a id="1073" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a> <a id="1081" class="Symbol">→</a> <a id="1083" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a> <a id="1091" class="Symbol">;</a> <a id="1093" class="Symbol">(</a><a id="1094" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="1099" href="Codata.Stream.Segmented.html#1099" class="Bound">xs′</a><a id="1102" class="Symbol">)</a> <a id="1104" class="Symbol">→</a> <a id="1106" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Codata.Stream.Segmented.html#927" class="Function">map</a> <a id="1116" href="Codata.Stream.Segmented.html#1035" class="Bound">f</a> <a id="1118" href="Codata.Stream.Segmented.html#1099" class="Bound">xs′</a><a id="1121" class="Symbol">)</a> <a id="1123" class="Symbol">}</a>

  <a id="1128" class="Keyword">open</a> <a id="1133" class="Keyword">import</a> <a id="1140" href="Data.List.html" class="Module">Data.List</a> <a id="1150" class="Keyword">using</a> <a id="1156" class="Symbol">(</a><a id="1157" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="1161" class="Symbol">;</a> <a id="1163" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="1166" class="Symbol">;</a> <a id="1168" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1170" class="Symbol">)</a>

  <a id="Approach1.take′"></a><a id="1175" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1181" class="Symbol">:</a> <a id="1183" class="Symbol">∀</a> <a id="1185" href="Codata.Stream.Segmented.html#1185" class="Bound">i</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="Codata.Stream.Segmented.html#263" class="Record">Stream′</a> <a id="1197" href="Level.html#255" class="Generalizable">A</a> <a id="1199" href="Codata.Stream.Segmented.html#1185" class="Bound">i</a> <a id="1201" class="Symbol">→</a> <a id="1203" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1208" href="Level.html#255" class="Generalizable">A</a>
  <a id="1212" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1218" href="Codata.Stream.Segmented.html#1218" class="Bound">i</a> <a id="1220" href="Codata.Stream.Segmented.html#1220" class="Bound">xs</a> <a id="1223" class="Keyword">with</a> <a id="1228" href="Codata.Stream.Segmented.html#363" class="Field">size</a> <a id="1233" href="Codata.Stream.Segmented.html#1220" class="Bound">xs</a> <a id="1236" href="Relation.Binary.html#3432" class="Function Operator">≤?</a> <a id="1239" href="Codata.Stream.Segmented.html#1218" class="Bound">i</a>
  <a id="1243" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1249" href="Codata.Stream.Segmented.html#1249" class="Bound">i</a> <a id="1251" href="Codata.Stream.Segmented.html#1251" class="Bound">xs</a> <a id="1254" class="Symbol">|</a> <a id="1256" href="Relation.Nullary.Decidable.html#433" class="InductiveConstructor">no</a>  <a id="1260" class="Symbol">_</a>   <a id="1264" class="Symbol">=</a> <a id="1266" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="1271" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1277" href="Codata.Stream.Segmented.html#1277" class="Bound">i</a> <a id="1279" href="Codata.Stream.Segmented.html#1279" class="Bound">xs</a> <a id="1282" class="Symbol">|</a> <a id="1284" href="Relation.Nullary.Decidable.html#399" class="InductiveConstructor">yes</a> <a id="1288" href="Codata.Stream.Segmented.html#1288" class="Bound">s≤i</a> <a id="1292" class="Keyword">with</a> <a id="1297" href="Codata.Stream.Segmented.html#378" class="Field">tail</a> <a id="1302" href="Codata.Stream.Segmented.html#1279" class="Bound">xs</a> <a id="1305" href="Codata.Stream.Segmented.html#1288" class="Bound">s≤i</a>
  <a id="1311" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1317" href="Codata.Stream.Segmented.html#1317" class="Bound">i</a> <a id="1319" href="Codata.Stream.Segmented.html#1319" class="Bound">xs</a> <a id="1322" class="Symbol">|</a> <a id="1324" href="Relation.Nullary.Decidable.html#399" class="InductiveConstructor">yes</a> <a id="1328" href="Codata.Stream.Segmented.html#1328" class="Bound">s≤i</a> <a id="1332" class="Symbol">|</a> <a id="1334" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a> <a id="1342" class="Symbol">=</a> <a id="1344" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="1349" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1355" href="Codata.Stream.Segmented.html#1355" class="Bound">i</a> <a id="1357" href="Codata.Stream.Segmented.html#1357" class="Bound">xs</a> <a id="1360" class="Symbol">|</a> <a id="1362" href="Relation.Nullary.Decidable.html#399" class="InductiveConstructor">yes</a> <a id="1366" href="Codata.Stream.Segmented.html#1366" class="Bound">s≤i</a> <a id="1370" class="Symbol">|</a> <a id="1372" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="1377" href="Codata.Stream.Segmented.html#1377" class="Bound">xs′</a> <a id="1381" class="Symbol">=</a> <a id="1383" href="Codata.Stream.Segmented.html#348" class="Field">head</a> <a id="1388" href="Codata.Stream.Segmented.html#1377" class="Bound">xs′</a> <a id="1392" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1394" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1400" class="Symbol">_</a> <a id="1402" href="Codata.Stream.Segmented.html#1377" class="Bound">xs′</a>

  <a id="Approach1.take"></a><a id="1409" href="Codata.Stream.Segmented.html#1409" class="Function">take</a> <a id="1414" class="Symbol">:</a> <a id="1416" href="Algebra.html#1401" class="Function">𝑆</a> <a id="1418" class="Symbol">→</a> <a id="1420" href="Codata.Stream.Segmented.html#491" class="Function">Stream</a> <a id="1427" href="Level.html#255" class="Generalizable">A</a> <a id="1429" class="Symbol">→</a> <a id="1431" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1436" href="Level.html#255" class="Generalizable">A</a>
  <a id="1440" href="Codata.Stream.Segmented.html#1409" class="Function">take</a> <a id="1445" href="Codata.Stream.Segmented.html#1445" class="Bound">x</a> <a id="1447" href="Codata.Stream.Segmented.html#1447" class="Bound">xs</a> <a id="1450" class="Symbol">=</a> <a id="1452" href="Codata.Stream.Segmented.html#348" class="Field">head</a> <a id="1457" class="Symbol">(</a><a id="1458" href="Codata.Stream.Segmented.html#1447" class="Bound">xs</a> <a id="1461" class="Symbol">{</a><a id="1462" class="Argument">i</a> <a id="1464" class="Symbol">=</a> <a id="1466" href="Codata.Stream.Segmented.html#1445" class="Bound">x</a><a id="1467" class="Symbol">})</a> <a id="1470" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1472" href="Codata.Stream.Segmented.html#1175" class="Function">take′</a> <a id="1478" href="Codata.Stream.Segmented.html#1445" class="Bound">x</a> <a id="1480" href="Codata.Stream.Segmented.html#1447" class="Bound">xs</a>

<a id="1484" class="Keyword">module</a> <a id="Approach2"></a><a id="1491" href="Codata.Stream.Segmented.html#1491" class="Module">Approach2</a> <a id="1501" class="Keyword">where</a>
  <a id="1509" class="Keyword">record</a> <a id="Approach2.Stream′"></a><a id="1516" href="Codata.Stream.Segmented.html#1516" class="Record">Stream′</a> <a id="1524" class="Symbol">{</a><a id="1525" href="Codata.Stream.Segmented.html#1525" class="Bound">a</a><a id="1526" class="Symbol">}</a> <a id="1528" class="Symbol">(</a><a id="1529" href="Codata.Stream.Segmented.html#1529" class="Bound">A</a> <a id="1531" class="Symbol">:</a> <a id="1533" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1538" href="Codata.Stream.Segmented.html#1525" class="Bound">a</a><a id="1539" class="Symbol">)</a> <a id="1541" class="Symbol">(</a><a id="1542" href="Codata.Stream.Segmented.html#1542" class="Bound">i</a> <a id="1544" class="Symbol">:</a> <a id="1546" href="Algebra.html#1401" class="Function">𝑆</a><a id="1547" class="Symbol">)</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1556" class="Symbol">(</a><a id="1557" href="Codata.Stream.Segmented.html#1525" class="Bound">a</a> <a id="1559" href="Agda.Primitive.html#810" class="Primitive Operator">ℓ⊔</a> <a id="1562" href="Codata.Stream.Segmented.html#142" class="Bound">ℓ</a><a id="1563" class="Symbol">)</a> <a id="1565" class="Keyword">where</a>
    <a id="1575" class="Keyword">inductive</a>
    <a id="1589" class="Keyword">field</a>
      <a id="Approach2.Stream′.weight"></a><a id="1601" href="Codata.Stream.Segmented.html#1601" class="Field">weight</a> <a id="1608" class="Symbol">:</a> <a id="1610" href="Algebra.html#1401" class="Function">𝑆</a>
      <a id="Approach2.Stream′.uncons"></a><a id="1618" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="1625" class="Symbol">:</a> <a id="1627" class="Symbol">(</a><a id="1628" href="Codata.Stream.Segmented.html#1628" class="Bound">w&lt;i</a> <a id="1632" class="Symbol">:</a> <a id="1634" href="Codata.Stream.Segmented.html#1601" class="Field">weight</a> <a id="1641" href="Relation.Binary.html#1847" class="Function Operator">&lt;</a> <a id="1643" href="Codata.Stream.Segmented.html#1542" class="Bound">i</a><a id="1644" class="Symbol">)</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Codata.Stream.Segmented.html#1529" class="Bound">A</a> <a id="1650" href="Data.Sigma.Base.html#519" class="Function Operator">×</a> <a id="1652" href="Codata.Stream.Segmented.html#1516" class="Record">Stream′</a> <a id="1660" href="Codata.Stream.Segmented.html#1529" class="Bound">A</a> <a id="1662" class="Symbol">(</a><a id="1663" href="Codata.Stream.Segmented.html#1542" class="Bound">i</a> <a id="1665" href="Algebra.Monus.html#6993" class="Function Operator">∸</a> <a id="1667" href="Codata.Stream.Segmented.html#1601" class="Field">weight</a><a id="1673" class="Symbol">)</a>
  <a id="1677" class="Keyword">open</a> <a id="1682" href="Codata.Stream.Segmented.html#1516" class="Module">Stream′</a> <a id="1690" class="Keyword">public</a>

  <a id="1700" class="Keyword">private</a>
    <a id="1712" class="Keyword">variable</a>
      <a id="1727" href="Codata.Stream.Segmented.html#1727" class="Generalizable">i</a> <a id="1729" href="Codata.Stream.Segmented.html#1729" class="Generalizable">j</a> <a id="1731" class="Symbol">:</a> <a id="1733" href="Algebra.html#1401" class="Function">𝑆</a>

  <a id="Approach2.Stream"></a><a id="1738" href="Codata.Stream.Segmented.html#1738" class="Function">Stream</a> <a id="1745" class="Symbol">:</a> <a id="1747" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1752" href="Level.html#239" class="Generalizable">a</a> <a id="1754" class="Symbol">→</a> <a id="1756" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1761" class="Symbol">(</a><a id="1762" href="Level.html#239" class="Generalizable">a</a> <a id="1764" href="Agda.Primitive.html#810" class="Primitive Operator">ℓ⊔</a> <a id="1767" href="Codata.Stream.Segmented.html#142" class="Bound">ℓ</a><a id="1768" class="Symbol">)</a>
  <a id="1772" href="Codata.Stream.Segmented.html#1738" class="Function">Stream</a> <a id="1779" href="Codata.Stream.Segmented.html#1779" class="Bound">A</a> <a id="1781" class="Symbol">=</a> <a id="1783" class="Symbol">∀</a> <a id="1785" class="Symbol">{</a><a id="1786" href="Codata.Stream.Segmented.html#1786" class="Bound">i</a><a id="1787" class="Symbol">}</a> <a id="1789" class="Symbol">→</a> <a id="1791" href="Codata.Stream.Segmented.html#1516" class="Record">Stream′</a> <a id="1799" href="Codata.Stream.Segmented.html#1779" class="Bound">A</a> <a id="1801" href="Codata.Stream.Segmented.html#1786" class="Bound">i</a>

  <a id="Approach2.lemma₁"></a><a id="1806" href="Codata.Stream.Segmented.html#1806" class="Function">lemma₁</a> <a id="1813" class="Symbol">:</a> <a id="1815" class="Symbol">∀</a> <a id="1817" href="Codata.Stream.Segmented.html#1817" class="Bound">x</a> <a id="1819" href="Codata.Stream.Segmented.html#1819" class="Bound">y</a> <a id="1821" class="Symbol">→</a> <a id="1823" href="Codata.Stream.Segmented.html#1817" class="Bound">x</a> <a id="1825" href="Relation.Binary.html#1562" class="Function Operator">≤</a> <a id="1827" href="Codata.Stream.Segmented.html#1819" class="Bound">y</a> <a id="1829" class="Symbol">→</a> <a id="1831" href="Codata.Stream.Segmented.html#1817" class="Bound">x</a> <a id="1833" href="Path.html#506" class="Function Operator">≢</a> <a id="1835" href="Algebra.html#1444" class="Function">ε</a> <a id="1837" class="Symbol">→</a> <a id="1839" href="Codata.Stream.Segmented.html#1819" class="Bound">y</a> <a id="1841" href="Algebra.Monus.html#6993" class="Function Operator">∸</a> <a id="1843" href="Codata.Stream.Segmented.html#1817" class="Bound">x</a> <a id="1845" href="Relation.Binary.html#1847" class="Function Operator">&lt;</a> <a id="1847" href="Codata.Stream.Segmented.html#1819" class="Bound">y</a>
  <a id="1851" href="Codata.Stream.Segmented.html#1806" class="Function">lemma₁</a> <a id="1858" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a> <a id="1860" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="1862" href="Codata.Stream.Segmented.html#1862" class="Bound">x&lt;y</a> <a id="1866" href="Codata.Stream.Segmented.html#1866" class="Bound">x≢ε</a> <a id="1870" class="Symbol">(</a><a id="1871" href="Codata.Stream.Segmented.html#1871" class="Bound">k</a> <a id="1873" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1875" href="Codata.Stream.Segmented.html#1875" class="Bound">y-x≡y∙k</a><a id="1882" class="Symbol">)</a> <a id="1884" class="Symbol">=</a>
    <a id="1890" href="Codata.Stream.Segmented.html#1866" class="Bound">x≢ε</a> <a id="1894" class="Symbol">(</a><a id="1895" href="Algebra.Monus.html#3218" class="Function">zeroSumFree</a> <a id="1907" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a> <a id="1909" href="Codata.Stream.Segmented.html#1871" class="Bound">k</a> <a id="1911" class="Symbol">(</a><a id="1912" href="Cubical.Foundations.Id.html#703" class="Function">sym</a> <a id="1916" class="Symbol">(</a><a id="1917" href="Algebra.Monus.html#4280" class="Function">cancelˡ</a> <a id="1925" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="1927" href="Algebra.html#1444" class="Function">ε</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Codata.Stream.Segmented.html#1871" class="Bound">k</a> <a id="1932" href="Algebra.html#1421" class="Function Operator">∙</a> <a id="1934" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a><a id="1935" class="Symbol">)</a> <a id="1937" class="Symbol">(</a><a id="1938" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="1943" class="Symbol">(</a><a id="1944" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="1946" href="Algebra.html#1421" class="Function Operator">∙_</a><a id="1948" class="Symbol">)</a> <a id="1950" class="Symbol">(</a><a id="1951" href="Cubical.Foundations.Id.html#703" class="Function">sym</a> <a id="1955" class="Symbol">(</a><a id="1956" href="Algebra.Monus.html#7058" class="Function">∸≤</a> <a id="1959" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a> <a id="1961" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="1963" href="Codata.Stream.Segmented.html#1862" class="Bound">x&lt;y</a><a id="1966" class="Symbol">))</a> <a id="1969" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="1971" href="Algebra.Monus.html#7569" class="Function">∸‿comm</a> <a id="1978" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="1980" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a> <a id="1982" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="1984" href="Cubical.Foundations.Id.html#772" class="Function">cong</a> <a id="1989" class="Symbol">(</a><a id="1990" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a> <a id="1992" href="Algebra.html#1421" class="Function Operator">∙_</a><a id="1994" class="Symbol">)</a> <a id="1996" href="Codata.Stream.Segmented.html#1875" class="Bound">y-x≡y∙k</a> <a id="2004" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="2006" href="Algebra.html#2901" class="Function">comm</a> <a id="2011" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a> <a id="2013" class="Symbol">(</a><a id="2014" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="2016" href="Algebra.html#1421" class="Function Operator">∙</a> <a id="2018" href="Codata.Stream.Segmented.html#1871" class="Bound">k</a><a id="2019" class="Symbol">)</a> <a id="2021" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="2023" href="Algebra.html#1459" class="Function">assoc</a> <a id="2029" href="Codata.Stream.Segmented.html#1860" class="Bound">y</a> <a id="2031" href="Codata.Stream.Segmented.html#1871" class="Bound">k</a> <a id="2033" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a><a id="2034" class="Symbol">)</a> <a id="2036" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="2038" href="Algebra.html#2901" class="Function">comm</a> <a id="2043" href="Codata.Stream.Segmented.html#1871" class="Bound">k</a> <a id="2045" href="Codata.Stream.Segmented.html#1858" class="Bound">x</a><a id="2046" class="Symbol">)))</a>

  <a id="Approach2.lemma₂"></a><a id="2053" href="Codata.Stream.Segmented.html#2053" class="Function">lemma₂</a> <a id="2060" class="Symbol">:</a> <a id="2062" class="Symbol">∀</a> <a id="2064" href="Codata.Stream.Segmented.html#2064" class="Bound">x</a> <a id="2066" class="Symbol">→</a> <a id="2068" href="Codata.Stream.Segmented.html#2064" class="Bound">x</a> <a id="2070" href="Relation.Binary.html#2015" class="Function Operator">≮</a> <a id="2072" href="Codata.Stream.Segmented.html#2064" class="Bound">x</a> <a id="2074" href="Algebra.Monus.html#6993" class="Function Operator">∸</a> <a id="2076" href="Algebra.html#1444" class="Function">ε</a>
  <a id="2080" href="Codata.Stream.Segmented.html#2053" class="Function">lemma₂</a> <a id="2087" href="Codata.Stream.Segmented.html#2087" class="Bound">x</a> <a id="2089" href="Codata.Stream.Segmented.html#2089" class="Bound">x&lt;x∸ε</a> <a id="2095" class="Symbol">=</a> <a id="2097" href="Codata.Stream.Segmented.html#2089" class="Bound">x&lt;x∸ε</a> <a id="2103" class="Symbol">(</a><a id="2104" href="Cubical.Foundations.Prelude.html#7588" class="Function">subst</a> <a id="2110" class="Symbol">(</a><a id="2111" href="Relation.Binary.html#1562" class="Function Operator">_≤</a> <a id="2114" href="Codata.Stream.Segmented.html#2087" class="Bound">x</a><a id="2115" class="Symbol">)</a> <a id="2117" class="Symbol">(</a><a id="2118" href="Cubical.Foundations.Id.html#703" class="Function">sym</a> <a id="2122" class="Symbol">(</a><a id="2123" href="Algebra.Monus.html#3729" class="Function">∸ε</a> <a id="2126" href="Codata.Stream.Segmented.html#2087" class="Bound">x</a><a id="2127" class="Symbol">))</a> <a id="2130" href="Algebra.Monus.html#1557" class="Function">≤-refl</a><a id="2136" class="Symbol">)</a>

  <a id="Approach2.pure"></a><a id="2141" href="Codata.Stream.Segmented.html#2141" class="Function">pure</a> <a id="2146" class="Symbol">:</a> <a id="2148" href="Level.html#255" class="Generalizable">A</a> <a id="2150" class="Symbol">→</a> <a id="2152" href="Codata.Stream.Segmented.html#1738" class="Function">Stream</a> <a id="2159" href="Level.html#255" class="Generalizable">A</a>
  <a id="2163" href="Codata.Stream.Segmented.html#2141" class="Function">pure</a> <a id="2168" href="Codata.Stream.Segmented.html#2168" class="Bound">x</a> <a id="2170" class="Symbol">.</a><a id="2171" href="Codata.Stream.Segmented.html#1601" class="Field">weight</a> <a id="2178" class="Symbol">=</a> <a id="2180" href="Algebra.html#1444" class="Function">ε</a>
  <a id="2184" href="Codata.Stream.Segmented.html#2141" class="Function">pure</a> <a id="2189" href="Codata.Stream.Segmented.html#2189" class="Bound">x</a> <a id="2191" class="Symbol">.</a><a id="2192" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="2199" href="Codata.Stream.Segmented.html#2199" class="Bound">ε&lt;i</a> <a id="2203" class="Symbol">.</a><a id="2204" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="2208" class="Symbol">=</a> <a id="2210" href="Codata.Stream.Segmented.html#2189" class="Bound">x</a>
  <a id="2214" href="Codata.Stream.Segmented.html#2141" class="Function">pure</a> <a id="2219" href="Codata.Stream.Segmented.html#2219" class="Bound">x</a> <a id="2221" class="Symbol">{</a><a id="2222" href="Codata.Stream.Segmented.html#2222" class="Bound">i</a><a id="2223" class="Symbol">}</a> <a id="2225" class="Symbol">.</a><a id="2226" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="2233" href="Codata.Stream.Segmented.html#2233" class="Bound">ε&lt;i</a> <a id="2237" class="Symbol">.</a><a id="2238" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="2242" class="Symbol">.</a><a id="2243" href="Codata.Stream.Segmented.html#1601" class="Field">weight</a> <a id="2250" class="Symbol">=</a> <a id="2252" href="Codata.Stream.Segmented.html#2222" class="Bound">i</a>
  <a id="2256" href="Codata.Stream.Segmented.html#2141" class="Function">pure</a> <a id="2261" href="Codata.Stream.Segmented.html#2261" class="Bound">x</a> <a id="2263" class="Symbol">.</a><a id="2264" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="2271" href="Codata.Stream.Segmented.html#2271" class="Bound">ε&lt;i</a> <a id="2275" class="Symbol">.</a><a id="2276" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="2280" class="Symbol">.</a><a id="2281" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="2288" href="Codata.Stream.Segmented.html#2288" class="Bound">i&lt;i∸ε</a> <a id="2294" class="Symbol">=</a> <a id="2296" href="Data.Empty.Base.html#154" class="Function">⊥-elim</a> <a id="2303" class="Symbol">(</a><a id="2304" href="Codata.Stream.Segmented.html#2053" class="Function">lemma₂</a> <a id="2311" class="Symbol">_</a> <a id="2313" href="Codata.Stream.Segmented.html#2288" class="Bound">i&lt;i∸ε</a><a id="2318" class="Symbol">)</a>

  <a id="2323" class="Keyword">module</a> <a id="2330" href="Codata.Stream.Segmented.html#2330" class="Module">_</a> <a id="2332" class="Symbol">(</a><a id="2333" href="Codata.Stream.Segmented.html#2333" class="Bound">s</a> <a id="2335" class="Symbol">:</a> <a id="2337" href="Algebra.html#1401" class="Function">𝑆</a><a id="2338" class="Symbol">)</a> <a id="2340" class="Symbol">(</a><a id="2341" href="Codata.Stream.Segmented.html#2341" class="Bound">s≢ε</a> <a id="2345" class="Symbol">:</a> <a id="2347" href="Codata.Stream.Segmented.html#2333" class="Bound">s</a> <a id="2349" href="Path.html#506" class="Function Operator">≢</a> <a id="2351" href="Algebra.html#1444" class="Function">ε</a><a id="2352" class="Symbol">)</a> <a id="2354" class="Symbol">(</a><a id="2355" href="Codata.Stream.Segmented.html#2355" class="Bound">x</a> <a id="2357" class="Symbol">:</a> <a id="2359" href="Level.html#255" class="Generalizable">A</a><a id="2360" class="Symbol">)</a> <a id="2362" class="Keyword">where</a>
    <a id="2372" href="Codata.Stream.Segmented.html#2372" class="Function">repeat′</a> <a id="2380" class="Symbol">:</a> <a id="2382" href="WellFounded.html#85" class="Datatype">Acc</a> <a id="2386" href="Relation.Binary.html#1847" class="Function Operator">_&lt;_</a> <a id="2390" href="Codata.Stream.Segmented.html#1727" class="Generalizable">i</a> <a id="2392" class="Symbol">→</a> <a id="2394" href="Codata.Stream.Segmented.html#1516" class="Record">Stream′</a> <a id="2402" href="Codata.Stream.Segmented.html#2359" class="Bound">A</a> <a id="2404" href="Codata.Stream.Segmented.html#1727" class="Generalizable">i</a>
    <a id="2410" href="Codata.Stream.Segmented.html#2372" class="Function">repeat′</a> <a id="2418" href="Codata.Stream.Segmented.html#2418" class="Bound">a</a> <a id="2420" class="Symbol">.</a><a id="2421" href="Codata.Stream.Segmented.html#1601" class="Field">weight</a> <a id="2428" class="Symbol">=</a> <a id="2430" href="Codata.Stream.Segmented.html#2333" class="Bound">s</a>
    <a id="2436" href="Codata.Stream.Segmented.html#2372" class="Function">repeat′</a> <a id="2444" href="Codata.Stream.Segmented.html#2444" class="Bound">a</a> <a id="2446" class="Symbol">.</a><a id="2447" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="2454" href="Codata.Stream.Segmented.html#2454" class="Bound">s&lt;i</a> <a id="2458" class="Symbol">.</a><a id="2459" href="Agda.Builtin.Sigma.html#252" class="Field">fst</a> <a id="2463" class="Symbol">=</a> <a id="2465" href="Codata.Stream.Segmented.html#2355" class="Bound">x</a>
    <a id="2471" href="Codata.Stream.Segmented.html#2372" class="Function">repeat′</a> <a id="2479" class="Symbol">{</a><a id="2480" href="Codata.Stream.Segmented.html#2480" class="Bound">i</a><a id="2481" class="Symbol">}</a> <a id="2483" class="Symbol">(</a><a id="2484" href="WellFounded.html#161" class="InductiveConstructor">acc</a> <a id="2488" href="Codata.Stream.Segmented.html#2488" class="Bound">wf</a><a id="2490" class="Symbol">)</a> <a id="2492" class="Symbol">.</a><a id="2493" href="Codata.Stream.Segmented.html#1618" class="Field">uncons</a> <a id="2500" href="Codata.Stream.Segmented.html#2500" class="Bound">s&lt;i</a> <a id="2504" class="Symbol">.</a><a id="2505" href="Agda.Builtin.Sigma.html#264" class="Field">snd</a> <a id="2509" class="Symbol">=</a> <a id="2511" href="Codata.Stream.Segmented.html#2372" class="Function">repeat′</a> <a id="2519" class="Symbol">(</a><a id="2520" href="Codata.Stream.Segmented.html#2488" class="Bound">wf</a> <a id="2523" class="Symbol">_</a> <a id="2525" class="Symbol">(</a><a id="2526" href="Codata.Stream.Segmented.html#1806" class="Function">lemma₁</a> <a id="2533" href="Codata.Stream.Segmented.html#2333" class="Bound">s</a> <a id="2535" href="Codata.Stream.Segmented.html#2480" class="Bound">i</a> <a id="2537" class="Symbol">(</a><a id="2538" href="Relation.Binary.html#3080" class="Function">&lt;⇒≤</a> <a id="2542" href="Codata.Stream.Segmented.html#2500" class="Bound">s&lt;i</a><a id="2545" class="Symbol">)</a> <a id="2547" href="Codata.Stream.Segmented.html#2341" class="Bound">s≢ε</a><a id="2550" class="Symbol">))</a>

    <a id="2558" href="Codata.Stream.Segmented.html#2558" class="Function">repeat</a> <a id="2565" class="Symbol">:</a> <a id="2567" href="Codata.Stream.Segmented.html#1738" class="Function">Stream</a> <a id="2574" href="Codata.Stream.Segmented.html#2359" class="Bound">A</a>
    <a id="2580" href="Codata.Stream.Segmented.html#2558" class="Function">repeat</a> <a id="2587" class="Symbol">=</a> <a id="2589" href="Codata.Stream.Segmented.html#2372" class="Function">repeat′</a> <a id="2597" class="Symbol">(</a><a id="2598" href="Codata.Stream.Segmented.html#168" class="Bound">𝓌𝒻</a> <a id="2601" class="Symbol">_)</a>

  <a id="2607" class="Comment">-- map : (A → B) → Stream′ A i → Stream′ B i</a>
  <a id="2654" class="Comment">-- map f xs .weight = xs .weight</a>
  <a id="2689" class="Comment">-- map f xs .uncons w&lt;i = case xs .uncons w&lt;i of λ { (y , ys) → f y , map f ys }</a>
</pre></body></html>