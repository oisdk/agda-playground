<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.List.Smart</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--safe</a> <a id="30" class="Symbol">#-}</a>

<a id="35" class="Keyword">module</a> <a id="42" href="Data.List.Smart.html" class="Module">Data.List.Smart</a> <a id="58" class="Keyword">where</a>

<a id="65" class="Keyword">open</a> <a id="70" class="Keyword">import</a> <a id="77" href="Prelude.html" class="Module">Prelude</a>

<a id="86" class="Keyword">open</a> <a id="91" class="Keyword">import</a> <a id="98" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="118" class="Keyword">using</a> <a id="124" class="Symbol">(</a><a id="125" class="Keyword">module</a> <a id="132" href="Data.Nat.Properties.html#710" class="Module">Eqℕ</a><a id="135" class="Symbol">)</a>

<a id="138" class="Keyword">infixr</a> <a id="145" class="Number">5</a> <a id="147" href="Data.List.Smart.html#217" class="InductiveConstructor Operator">_∷′_</a> <a id="152" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">_++′_</a>
<a id="158" class="Keyword">data</a> <a id="List"></a><a id="163" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="168" class="Symbol">{</a><a id="169" href="Data.List.Smart.html#169" class="Bound">a</a><a id="170" class="Symbol">}</a> <a id="172" class="Symbol">(</a><a id="173" href="Data.List.Smart.html#173" class="Bound">A</a> <a id="175" class="Symbol">:</a> <a id="177" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="182" href="Data.List.Smart.html#169" class="Bound">a</a><a id="183" class="Symbol">)</a> <a id="185" class="Symbol">:</a> <a id="187" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="192" href="Data.List.Smart.html#169" class="Bound">a</a> <a id="194" class="Keyword">where</a>
  <a id="List.[]′"></a><a id="202" href="Data.List.Smart.html#202" class="InductiveConstructor">[]′</a> <a id="206" class="Symbol">:</a> <a id="208" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="213" href="Data.List.Smart.html#173" class="Bound">A</a>
  <a id="List._∷′_"></a><a id="217" href="Data.List.Smart.html#217" class="InductiveConstructor Operator">_∷′_</a> <a id="222" class="Symbol">:</a> <a id="224" href="Data.List.Smart.html#173" class="Bound">A</a> <a id="226" class="Symbol">→</a> <a id="228" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="233" href="Data.List.Smart.html#173" class="Bound">A</a> <a id="235" class="Symbol">→</a> <a id="237" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="242" href="Data.List.Smart.html#173" class="Bound">A</a>
  <a id="List._++′_"></a><a id="246" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">_++′_</a> <a id="252" class="Symbol">:</a> <a id="254" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="259" href="Data.List.Smart.html#173" class="Bound">A</a> <a id="261" class="Symbol">→</a> <a id="263" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="268" href="Data.List.Smart.html#173" class="Bound">A</a> <a id="270" class="Symbol">→</a> <a id="272" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="277" href="Data.List.Smart.html#173" class="Bound">A</a>

<a id="sz′"></a><a id="280" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="284" class="Symbol">:</a> <a id="286" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="291" href="Level.html#282" class="Generalizable">A</a> <a id="293" class="Symbol">→</a> <a id="295" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="297" class="Symbol">→</a> <a id="299" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="301" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="305" href="Data.List.Smart.html#202" class="InductiveConstructor">[]′</a> <a id="309" href="Data.List.Smart.html#309" class="Bound">k</a> <a id="311" class="Symbol">=</a> <a id="313" href="Data.List.Smart.html#309" class="Bound">k</a>
<a id="315" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="319" class="Symbol">(</a><a id="320" href="Data.List.Smart.html#320" class="Bound">x</a> <a id="322" href="Data.List.Smart.html#217" class="InductiveConstructor Operator">∷′</a> <a id="325" href="Data.List.Smart.html#325" class="Bound">xs</a><a id="327" class="Symbol">)</a> <a id="329" href="Data.List.Smart.html#329" class="Bound">k</a> <a id="331" class="Symbol">=</a> <a id="333" href="Data.List.Smart.html#329" class="Bound">k</a>
<a id="335" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="339" class="Symbol">(</a><a id="340" href="Data.List.Smart.html#340" class="Bound">xs</a> <a id="343" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="347" href="Data.List.Smart.html#347" class="Bound">ys</a><a id="349" class="Symbol">)</a> <a id="351" href="Data.List.Smart.html#351" class="Bound">k</a> <a id="353" class="Symbol">=</a> <a id="355" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="359" class="Symbol">(</a><a id="360" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="364" href="Data.List.Smart.html#340" class="Bound">xs</a> <a id="367" class="Symbol">(</a><a id="368" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="372" href="Data.List.Smart.html#347" class="Bound">ys</a> <a id="375" href="Data.List.Smart.html#351" class="Bound">k</a><a id="376" class="Symbol">))</a>

<a id="sz"></a><a id="380" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="383" class="Symbol">:</a> <a id="385" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="390" href="Level.html#282" class="Generalizable">A</a> <a id="392" class="Symbol">→</a> <a id="394" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="396" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="399" href="Data.List.Smart.html#202" class="InductiveConstructor">[]′</a> <a id="403" class="Symbol">=</a> <a id="405" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="410" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="413" class="Symbol">(</a><a id="414" href="Data.List.Smart.html#414" class="Bound">x</a> <a id="416" href="Data.List.Smart.html#217" class="InductiveConstructor Operator">∷′</a> <a id="419" href="Data.List.Smart.html#419" class="Bound">xs</a><a id="421" class="Symbol">)</a> <a id="423" class="Symbol">=</a> <a id="425" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
<a id="430" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="433" class="Symbol">(</a><a id="434" href="Data.List.Smart.html#434" class="Bound">xs</a> <a id="437" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="441" href="Data.List.Smart.html#441" class="Bound">ys</a><a id="443" class="Symbol">)</a> <a id="445" class="Symbol">=</a> <a id="447" href="Data.List.Smart.html#280" class="Function">sz′</a> <a id="451" href="Data.List.Smart.html#434" class="Bound">xs</a> <a id="454" class="Symbol">(</a><a id="455" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="458" href="Data.List.Smart.html#441" class="Bound">ys</a><a id="460" class="Symbol">)</a>

<a id="463" class="Keyword">open</a> <a id="468" href="Data.Nat.Properties.html#710" class="Module">Eqℕ</a>

<a id="_HasSize_"></a><a id="473" href="Data.List.Smart.html#473" class="Function Operator">_HasSize_</a> <a id="483" class="Symbol">:</a> <a id="485" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="490" href="Level.html#282" class="Generalizable">A</a> <a id="492" class="Symbol">→</a> <a id="494" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="496" class="Symbol">→</a> <a id="498" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="503" href="Data.List.Smart.html#503" class="Bound">xs</a> <a id="506" href="Data.List.Smart.html#473" class="Function Operator">HasSize</a> <a id="514" href="Data.List.Smart.html#514" class="Bound">n</a> <a id="516" class="Symbol">=</a> <a id="518" href="Data.Bool.Truth.html#158" class="Function">T</a> <a id="520" class="Symbol">(</a><a id="521" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="524" href="Data.List.Smart.html#503" class="Bound">xs</a> <a id="527" href="Data.Nat.Properties.html#778" class="Primitive Operator">≡ᴮ</a> <a id="530" href="Data.List.Smart.html#514" class="Bound">n</a><a id="531" class="Symbol">)</a>

<a id="534" class="Keyword">data</a> <a id="ListView"></a><a id="539" href="Data.List.Smart.html#539" class="Datatype">ListView</a> <a id="548" class="Symbol">{</a><a id="549" href="Data.List.Smart.html#549" class="Bound">a</a><a id="550" class="Symbol">}</a> <a id="552" class="Symbol">(</a><a id="553" href="Data.List.Smart.html#553" class="Bound">A</a> <a id="555" class="Symbol">:</a> <a id="557" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="562" href="Data.List.Smart.html#549" class="Bound">a</a><a id="563" class="Symbol">)</a> <a id="565" class="Symbol">:</a> <a id="567" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="572" href="Data.List.Smart.html#549" class="Bound">a</a> <a id="574" class="Keyword">where</a>
  <a id="ListView.Nil"></a><a id="582" href="Data.List.Smart.html#582" class="InductiveConstructor">Nil</a> <a id="586" class="Symbol">:</a> <a id="588" href="Data.List.Smart.html#539" class="Datatype">ListView</a> <a id="597" href="Data.List.Smart.html#553" class="Bound">A</a>
  <a id="ListView.Cons"></a><a id="601" href="Data.List.Smart.html#601" class="InductiveConstructor">Cons</a> <a id="606" class="Symbol">:</a> <a id="608" href="Data.List.Smart.html#553" class="Bound">A</a> <a id="610" class="Symbol">→</a> <a id="612" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="617" href="Data.List.Smart.html#553" class="Bound">A</a> <a id="619" class="Symbol">→</a> <a id="621" href="Data.List.Smart.html#539" class="Datatype">ListView</a> <a id="630" href="Data.List.Smart.html#553" class="Bound">A</a>

<a id="viewˡ"></a><a id="633" href="Data.List.Smart.html#633" class="Function">viewˡ</a> <a id="639" class="Symbol">:</a> <a id="641" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="646" href="Level.html#282" class="Generalizable">A</a> <a id="648" class="Symbol">→</a> <a id="650" href="Data.List.Smart.html#539" class="Datatype">ListView</a> <a id="659" href="Level.html#282" class="Generalizable">A</a>
<a id="661" href="Data.List.Smart.html#633" class="Function">viewˡ</a> <a id="667" href="Data.List.Smart.html#667" class="Bound">xs</a> <a id="670" class="Symbol">=</a> <a id="672" href="Data.List.Smart.html#715" class="Function">go</a> <a id="675" href="Data.List.Smart.html#667" class="Bound">xs</a> <a id="678" class="Symbol">(</a><a id="679" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="682" href="Data.List.Smart.html#667" class="Bound">xs</a><a id="684" class="Symbol">)</a> <a id="686" class="Symbol">(</a><a id="687" href="Data.Nat.Properties.html#912" class="Function">complete</a> <a id="696" class="Symbol">(</a><a id="697" href="Data.List.Smart.html#380" class="Function">sz</a> <a id="700" href="Data.List.Smart.html#667" class="Bound">xs</a><a id="702" class="Symbol">))</a>
  <a id="707" class="Keyword">where</a>
  <a id="715" href="Data.List.Smart.html#715" class="Function">go</a> <a id="718" class="Symbol">:</a> <a id="720" class="Symbol">(</a><a id="721" href="Data.List.Smart.html#721" class="Bound">xs</a> <a id="724" class="Symbol">:</a> <a id="726" href="Data.List.Smart.html#163" class="Datatype">List</a> <a id="731" href="Level.html#282" class="Generalizable">A</a><a id="732" class="Symbol">)</a> <a id="734" class="Symbol">→</a> <a id="736" class="Symbol">(</a><a id="737" href="Data.List.Smart.html#737" class="Bound">n</a> <a id="739" class="Symbol">:</a> <a id="741" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="742" class="Symbol">)</a> <a id="744" class="Symbol">→</a> <a id="746" href="Data.List.Smart.html#721" class="Bound">xs</a> <a id="749" href="Data.List.Smart.html#473" class="Function Operator">HasSize</a> <a id="757" href="Data.List.Smart.html#737" class="Bound">n</a> <a id="759" class="Symbol">→</a> <a id="761" href="Data.List.Smart.html#539" class="Datatype">ListView</a> <a id="770" href="Level.html#282" class="Generalizable">A</a>
  <a id="774" href="Data.List.Smart.html#715" class="Function">go</a>  <a id="778" href="Data.List.Smart.html#202" class="InductiveConstructor">[]′</a>                  <a id="799" href="Data.List.Smart.html#799" class="Bound">n</a>       <a id="807" href="Data.List.Smart.html#807" class="Bound">p</a> <a id="809" class="Symbol">=</a> <a id="811" href="Data.List.Smart.html#582" class="InductiveConstructor">Nil</a>
  <a id="817" href="Data.List.Smart.html#715" class="Function">go</a>  <a id="821" class="Symbol">(</a><a id="822" href="Data.List.Smart.html#822" class="Bound">x</a> <a id="824" href="Data.List.Smart.html#217" class="InductiveConstructor Operator">∷′</a> <a id="827" href="Data.List.Smart.html#827" class="Bound">xs</a><a id="829" class="Symbol">)</a>            <a id="842" href="Data.List.Smart.html#842" class="Bound">n</a>       <a id="850" href="Data.List.Smart.html#850" class="Bound">p</a> <a id="852" class="Symbol">=</a> <a id="854" href="Data.List.Smart.html#601" class="InductiveConstructor">Cons</a> <a id="859" href="Data.List.Smart.html#822" class="Bound">x</a> <a id="861" href="Data.List.Smart.html#827" class="Bound">xs</a>
  <a id="866" href="Data.List.Smart.html#715" class="Function">go</a>  <a id="870" class="Symbol">((</a><a id="872" href="Data.List.Smart.html#872" class="Bound">x</a> <a id="874" href="Data.List.Smart.html#217" class="InductiveConstructor Operator">∷′</a> <a id="877" href="Data.List.Smart.html#877" class="Bound">xs</a><a id="879" class="Symbol">)</a> <a id="881" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="885" href="Data.List.Smart.html#885" class="Bound">ys</a><a id="887" class="Symbol">)</a>   <a id="891" href="Data.List.Smart.html#891" class="Bound">n</a>       <a id="899" href="Data.List.Smart.html#899" class="Bound">p</a> <a id="901" class="Symbol">=</a> <a id="903" href="Data.List.Smart.html#601" class="InductiveConstructor">Cons</a> <a id="908" href="Data.List.Smart.html#872" class="Bound">x</a> <a id="910" class="Symbol">(</a><a id="911" href="Data.List.Smart.html#877" class="Bound">xs</a> <a id="914" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="918" href="Data.List.Smart.html#885" class="Bound">ys</a><a id="920" class="Symbol">)</a>
  <a id="924" href="Data.List.Smart.html#715" class="Function">go</a>  <a id="928" class="Symbol">(</a><a id="929" href="Data.List.Smart.html#202" class="InductiveConstructor">[]′</a> <a id="933" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="937" href="Data.List.Smart.html#937" class="Bound">ys</a><a id="939" class="Symbol">)</a>         <a id="949" href="Data.List.Smart.html#949" class="Bound">n</a>       <a id="957" href="Data.List.Smart.html#957" class="Bound">p</a> <a id="959" class="Symbol">=</a> <a id="961" href="Data.List.Smart.html#715" class="Function">go</a> <a id="964" href="Data.List.Smart.html#937" class="Bound">ys</a> <a id="967" href="Data.List.Smart.html#949" class="Bound">n</a> <a id="969" href="Data.List.Smart.html#957" class="Bound">p</a>
  <a id="973" href="Data.List.Smart.html#715" class="Function">go</a>  <a id="977" class="Symbol">((</a><a id="979" href="Data.List.Smart.html#979" class="Bound">xs</a> <a id="982" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="986" href="Data.List.Smart.html#986" class="Bound">ys</a><a id="988" class="Symbol">)</a> <a id="990" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="994" href="Data.List.Smart.html#994" class="Bound">zs</a><a id="996" class="Symbol">)</a> <a id="998" class="Symbol">(</a><a id="999" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1003" href="Data.List.Smart.html#1003" class="Bound">n</a><a id="1004" class="Symbol">)</a> <a id="1006" href="Data.List.Smart.html#1006" class="Bound">p</a> <a id="1008" class="Symbol">=</a> <a id="1010" href="Data.List.Smart.html#715" class="Function">go</a> <a id="1013" class="Symbol">(</a><a id="1014" href="Data.List.Smart.html#979" class="Bound">xs</a> <a id="1017" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="1021" class="Symbol">(</a><a id="1022" href="Data.List.Smart.html#986" class="Bound">ys</a> <a id="1025" href="Data.List.Smart.html#246" class="InductiveConstructor Operator">++′</a> <a id="1029" href="Data.List.Smart.html#994" class="Bound">zs</a><a id="1031" class="Symbol">))</a> <a id="1034" href="Data.List.Smart.html#1003" class="Bound">n</a> <a id="1036" href="Data.List.Smart.html#1006" class="Bound">p</a>
</pre></body></html>