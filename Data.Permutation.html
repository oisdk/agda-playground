<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Permutation</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Data.Permutation.html" class="Module">Data.Permutation</a> <a id="25" class="Keyword">where</a>

<a id="32" class="Keyword">open</a> <a id="37" class="Keyword">import</a> <a id="44" href="Prelude.html" class="Module">Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Data.List.html" class="Module">Data.List</a>
<a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="106" class="Keyword">renaming</a> <a id="115" class="Symbol">(</a><a id="116" href="Data.Nat.Properties.html#931" class="Function">discreteℕ</a> <a id="126" class="Symbol">to</a> <a id="129" class="Function">_≟_</a><a id="132" class="Symbol">)</a>
<a id="134" class="Keyword">open</a> <a id="139" class="Keyword">import</a> <a id="146" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="155" class="Keyword">using</a> <a id="161" class="Symbol">(</a><a id="162" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="165" class="Symbol">)</a>

<a id="Swaps"></a><a id="168" href="Data.Permutation.html#168" class="Function">Swaps</a> <a id="174" class="Symbol">:</a> <a id="176" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="181" href="Data.Permutation.html#168" class="Function">Swaps</a> <a id="187" class="Symbol">=</a> <a id="189" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="194" class="Symbol">(</a><a id="195" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="197" href="Data.Sigma.Base.html#455" class="Function Operator">×</a> <a id="199" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="200" class="Symbol">)</a>

<a id="unflatten"></a><a id="203" href="Data.Permutation.html#203" class="Function">unflatten</a> <a id="213" class="Symbol">:</a> <a id="215" href="Data.Permutation.html#168" class="Function">Swaps</a> <a id="221" class="Symbol">→</a> <a id="223" href="Data.Permutation.html#168" class="Function">Swaps</a>
<a id="229" href="Data.Permutation.html#203" class="Function">unflatten</a> <a id="239" class="Symbol">=</a> <a id="241" href="Data.Permutation.html#256" class="Function">go</a> <a id="244" class="Number">0</a>
  <a id="248" class="Keyword">where</a>
  <a id="256" href="Data.Permutation.html#256" class="Function">go</a> <a id="259" class="Symbol">:</a> <a id="261" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="263" class="Symbol">→</a> <a id="265" href="Data.Permutation.html#168" class="Function">Swaps</a> <a id="271" class="Symbol">→</a> <a id="273" href="Data.Permutation.html#168" class="Function">Swaps</a>
  <a id="281" href="Data.Permutation.html#256" class="Function">go</a> <a id="284" href="Data.Permutation.html#284" class="Bound">n</a> <a id="286" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="289" class="Symbol">=</a> <a id="291" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
  <a id="296" href="Data.Permutation.html#256" class="Function">go</a> <a id="299" href="Data.Permutation.html#299" class="Bound">n</a> <a id="301" class="Symbol">((</a><a id="303" href="Data.Permutation.html#303" class="Bound">x</a> <a id="305" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="307" href="Data.Permutation.html#307" class="Bound">y</a><a id="308" class="Symbol">)</a> <a id="310" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="312" href="Data.Permutation.html#312" class="Bound">xs</a><a id="314" class="Symbol">)</a> <a id="316" class="Symbol">=</a> <a id="318" class="Symbol">((</a><a id="320" href="Data.Permutation.html#299" class="Bound">n</a> <a id="322" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="324" href="Data.Permutation.html#303" class="Bound">x</a><a id="325" class="Symbol">)</a> <a id="327" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="329" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="333" class="Symbol">(</a><a id="334" href="Data.Permutation.html#299" class="Bound">n</a> <a id="336" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="338" href="Data.Permutation.html#303" class="Bound">x</a> <a id="340" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="342" href="Data.Permutation.html#307" class="Bound">y</a><a id="343" class="Symbol">))</a> <a id="346" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="348" href="Data.Permutation.html#256" class="Function">go</a> <a id="351" class="Symbol">(</a><a id="352" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="356" href="Data.Permutation.html#299" class="Bound">n</a> <a id="358" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="360" href="Data.Permutation.html#303" class="Bound">x</a><a id="361" class="Symbol">)</a> <a id="363" href="Data.Permutation.html#312" class="Bound">xs</a>

<a id="swap"></a><a id="367" href="Data.Permutation.html#367" class="Function">swap</a> <a id="372" class="Symbol">:</a> <a id="374" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="376" class="Symbol">→</a> <a id="378" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="380" class="Symbol">→</a> <a id="382" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="384" class="Symbol">→</a> <a id="386" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="388" href="Data.Permutation.html#367" class="Function">swap</a> <a id="393" href="Data.Permutation.html#393" class="Bound">x</a> <a id="395" href="Data.Permutation.html#395" class="Bound">y</a> <a id="397" href="Data.Permutation.html#397" class="Bound">z</a> <a id="399" class="Symbol">=</a>
  <a id="403" href="Data.Bool.Base.html#596" class="Function Operator">if</a> <a id="406" href="Relation.Nullary.Decidable.html#316" class="Field">does</a> <a id="411" class="Symbol">(</a><a id="412" href="Data.Permutation.html#393" class="Bound">x</a> <a id="414" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="416" href="Data.Permutation.html#397" class="Bound">z</a><a id="417" class="Symbol">)</a> <a id="419" href="Data.Bool.Base.html#596" class="Function Operator">then</a> <a id="424" href="Data.Permutation.html#395" class="Bound">y</a> <a id="426" href="Data.Bool.Base.html#596" class="Function Operator">else</a>
  <a id="433" href="Data.Bool.Base.html#596" class="Function Operator">if</a> <a id="436" href="Relation.Nullary.Decidable.html#316" class="Field">does</a> <a id="441" class="Symbol">(</a><a id="442" href="Data.Permutation.html#395" class="Bound">y</a> <a id="444" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="446" href="Data.Permutation.html#397" class="Bound">z</a><a id="447" class="Symbol">)</a> <a id="449" href="Data.Bool.Base.html#596" class="Function Operator">then</a> <a id="454" href="Data.Permutation.html#393" class="Bound">x</a> <a id="456" href="Data.Bool.Base.html#596" class="Function Operator">else</a>
  <a id="463" href="Data.Permutation.html#397" class="Bound">z</a>

<a id="swap-lhs"></a><a id="466" href="Data.Permutation.html#466" class="Function">swap-lhs</a> <a id="475" class="Symbol">:</a> <a id="477" class="Symbol">∀</a> <a id="479" href="Data.Permutation.html#479" class="Bound">x</a> <a id="481" href="Data.Permutation.html#481" class="Bound">y</a> <a id="483" class="Symbol">→</a> <a id="485" href="Data.Permutation.html#367" class="Function">swap</a> <a id="490" href="Data.Permutation.html#479" class="Bound">x</a> <a id="492" href="Data.Permutation.html#481" class="Bound">y</a> <a id="494" href="Data.Permutation.html#479" class="Bound">x</a> <a id="496" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="498" href="Data.Permutation.html#481" class="Bound">y</a>
<a id="500" href="Data.Permutation.html#466" class="Function">swap-lhs</a> <a id="509" href="Data.Permutation.html#509" class="Bound">x</a> <a id="511" href="Data.Permutation.html#511" class="Bound">y</a> <a id="513" class="Keyword">with</a> <a id="518" href="Data.Permutation.html#509" class="Bound">x</a> <a id="520" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="522" href="Data.Permutation.html#509" class="Bound">x</a>
<a id="524" class="Symbol">...</a> <a id="528" class="Symbol">|</a> <a id="530" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a>  <a id="534" href="Data.Permutation.html#534" class="Bound">x≢x</a> <a id="538" class="Symbol">=</a> <a id="540" href="Data.Empty.Base.html#154" class="Function">⊥-elim</a> <a id="547" class="Symbol">(</a><a id="548" href="Data.Permutation.html#534" class="Bound">x≢x</a> <a id="552" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a><a id="556" class="Symbol">)</a> 
<a id="559" class="Symbol">...</a> <a id="563" class="Symbol">|</a> <a id="565" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="569" href="Data.Permutation.html#569" class="Bound">x≡x</a> <a id="573" class="Symbol">=</a> <a id="575" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="swap-rhs"></a><a id="581" href="Data.Permutation.html#581" class="Function">swap-rhs</a> <a id="590" class="Symbol">:</a> <a id="592" class="Symbol">∀</a> <a id="594" href="Data.Permutation.html#594" class="Bound">x</a> <a id="596" href="Data.Permutation.html#596" class="Bound">y</a> <a id="598" class="Symbol">→</a> <a id="600" href="Data.Permutation.html#367" class="Function">swap</a> <a id="605" href="Data.Permutation.html#594" class="Bound">x</a> <a id="607" href="Data.Permutation.html#596" class="Bound">y</a> <a id="609" href="Data.Permutation.html#596" class="Bound">y</a> <a id="611" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="613" href="Data.Permutation.html#594" class="Bound">x</a>
<a id="615" href="Data.Permutation.html#581" class="Function">swap-rhs</a> <a id="624" href="Data.Permutation.html#624" class="Bound">x</a> <a id="626" href="Data.Permutation.html#626" class="Bound">y</a> <a id="628" class="Keyword">with</a> <a id="633" href="Data.Permutation.html#624" class="Bound">x</a> <a id="635" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="637" href="Data.Permutation.html#626" class="Bound">y</a>
<a id="639" class="Symbol">...</a> <a id="643" class="Symbol">|</a> <a id="645" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="649" href="Data.Permutation.html#649" class="Bound">x≡y</a> <a id="653" class="Symbol">=</a> <a id="655" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="659" href="Data.Permutation.html#649" class="Bound">x≡y</a>
<a id="663" class="Symbol">...</a> <a id="667" class="Symbol">|</a> <a id="669" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a>  <a id="673" href="Data.Permutation.html#673" class="Bound">x≢y</a> <a id="677" class="Keyword">with</a> <a id="682" class="Bound">y</a> <a id="684" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="686" class="Bound">y</a>
<a id="688" class="Symbol">...</a> <a id="692" class="Symbol">|</a> <a id="694" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a>  <a id="698" href="Data.Permutation.html#698" class="Bound">y≢y</a> <a id="702" class="Symbol">=</a> <a id="704" href="Data.Empty.Base.html#154" class="Function">⊥-elim</a> <a id="711" class="Symbol">(</a><a id="712" href="Data.Permutation.html#698" class="Bound">y≢y</a> <a id="716" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a><a id="720" class="Symbol">)</a>
<a id="722" class="Symbol">...</a> <a id="726" class="Symbol">|</a> <a id="728" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="732" href="Data.Permutation.html#732" class="Bound">y≡y</a> <a id="736" class="Symbol">=</a> <a id="738" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="swap-id"></a><a id="744" href="Data.Permutation.html#744" class="Function">swap-id</a> <a id="752" class="Symbol">:</a> <a id="754" class="Symbol">∀</a> <a id="756" href="Data.Permutation.html#756" class="Bound">x</a> <a id="758" href="Data.Permutation.html#758" class="Bound">y</a> <a id="760" class="Symbol">→</a> <a id="762" href="Data.Permutation.html#367" class="Function">swap</a> <a id="767" href="Data.Permutation.html#756" class="Bound">x</a> <a id="769" href="Data.Permutation.html#756" class="Bound">x</a> <a id="771" href="Data.Permutation.html#758" class="Bound">y</a> <a id="773" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="775" href="Data.Permutation.html#758" class="Bound">y</a>
<a id="777" href="Data.Permutation.html#744" class="Function">swap-id</a> <a id="785" href="Data.Permutation.html#785" class="Bound">x</a> <a id="787" href="Data.Permutation.html#787" class="Bound">y</a> <a id="789" class="Keyword">with</a> <a id="794" href="Data.Permutation.html#785" class="Bound">x</a> <a id="796" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="798" href="Data.Permutation.html#787" class="Bound">y</a>
<a id="800" class="Symbol">...</a> <a id="804" class="Symbol">|</a> <a id="806" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a> <a id="809" class="Symbol">_</a> <a id="811" class="Symbol">=</a> <a id="813" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>
<a id="818" class="Symbol">...</a> <a id="822" class="Symbol">|</a> <a id="824" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="828" href="Data.Permutation.html#828" class="Bound">x≡y</a> <a id="832" class="Symbol">=</a> <a id="834" href="Data.Permutation.html#828" class="Bound">x≡y</a>

<a id="perm"></a><a id="839" href="Data.Permutation.html#839" class="Function">perm</a> <a id="844" class="Symbol">:</a> <a id="846" href="Data.Permutation.html#168" class="Function">Swaps</a> <a id="852" class="Symbol">→</a> <a id="854" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="856" class="Symbol">→</a> <a id="858" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="860" href="Data.Permutation.html#839" class="Function">perm</a> <a id="865" class="Symbol">=</a> <a id="867" href="Function.html#369" class="Function">flip</a> <a id="872" class="Symbol">(</a><a id="873" href="Data.List.Base.html#463" class="Function">foldl</a> <a id="879" class="Symbol">(</a><a id="880" href="Function.html#369" class="Function">flip</a> <a id="885" class="Symbol">(</a><a id="886" href="Data.Sigma.Base.html#711" class="Function">uncurry</a> <a id="894" href="Data.Permutation.html#367" class="Function">swap</a><a id="898" class="Symbol">)))</a>

<a id="ep"></a><a id="903" href="Data.Permutation.html#903" class="Function">ep</a> <a id="906" class="Symbol">:</a> <a id="908" href="Data.Permutation.html#168" class="Function">Swaps</a>
<a id="914" href="Data.Permutation.html#903" class="Function">ep</a> <a id="917" class="Symbol">=</a> <a id="919" class="Symbol">((</a><a id="921" class="Number">2</a> <a id="923" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="925" class="Number">1</a><a id="926" class="Symbol">)</a> <a id="928" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="930" class="Symbol">(</a><a id="931" class="Number">1</a> <a id="933" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="935" class="Number">3</a><a id="936" class="Symbol">)</a> <a id="938" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="940" class="Symbol">(</a><a id="941" class="Number">1</a> <a id="943" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="945" class="Number">0</a><a id="946" class="Symbol">)</a> <a id="948" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="950" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="952" class="Symbol">)</a>

<a id="perm′"></a><a id="955" href="Data.Permutation.html#955" class="Function">perm′</a> <a id="961" class="Symbol">:</a> <a id="963" href="Data.Permutation.html#168" class="Function">Swaps</a> <a id="969" class="Symbol">→</a> <a id="971" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="973" class="Symbol">→</a> <a id="975" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="977" href="Data.Permutation.html#955" class="Function">perm′</a> <a id="983" class="Symbol">=</a> <a id="985" href="Data.List.Base.html#269" class="Function">foldr</a> <a id="991" class="Symbol">(</a><a id="992" href="Data.Sigma.Base.html#711" class="Function">uncurry</a> <a id="1000" href="Data.Permutation.html#1016" class="Function">f</a><a id="1001" class="Symbol">)</a> <a id="1003" href="Function.html#533" class="Function">id</a>
  <a id="1008" class="Keyword">where</a>
  <a id="1016" href="Data.Permutation.html#1016" class="Function">f</a> <a id="1018" class="Symbol">:</a> <a id="1020" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1022" class="Symbol">→</a> <a id="1024" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1026" class="Symbol">→</a> <a id="1028" class="Symbol">(</a><a id="1029" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1031" class="Symbol">→</a> <a id="1033" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1034" class="Symbol">)</a> <a id="1036" class="Symbol">→</a> <a id="1038" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1040" class="Symbol">→</a> <a id="1042" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="1046" href="Data.Permutation.html#1016" class="Function">f</a> <a id="1048" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1056" href="Data.Permutation.html#1056" class="Bound">y</a> <a id="1058" href="Data.Permutation.html#1058" class="Bound">k</a> <a id="1060" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1068" class="Symbol">=</a> <a id="1070" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1074" class="Symbol">(</a><a id="1075" href="Data.Permutation.html#1058" class="Bound">k</a> <a id="1077" href="Data.Permutation.html#1056" class="Bound">y</a><a id="1078" class="Symbol">)</a>
  <a id="1082" href="Data.Permutation.html#1016" class="Function">f</a> <a id="1084" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1092" href="Data.Permutation.html#1092" class="Bound">y</a> <a id="1094" href="Data.Permutation.html#1094" class="Bound">k</a> <a id="1096" class="Symbol">(</a><a id="1097" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1101" href="Data.Permutation.html#1101" class="Bound">z</a><a id="1102" class="Symbol">)</a> <a id="1104" class="Symbol">=</a> <a id="1106" href="Data.Bool.Base.html#596" class="Function Operator">if</a> <a id="1109" href="Relation.Nullary.Decidable.html#316" class="Field">does</a> <a id="1114" class="Symbol">(</a><a id="1115" href="Data.Permutation.html#1092" class="Bound">y</a> <a id="1117" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="1119" href="Data.Permutation.html#1101" class="Bound">z</a><a id="1120" class="Symbol">)</a> <a id="1122" href="Data.Bool.Base.html#596" class="Function Operator">then</a> <a id="1127" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a> <a id="1132" href="Data.Bool.Base.html#596" class="Function Operator">else</a> <a id="1137" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1141" class="Symbol">(</a><a id="1142" href="Data.Permutation.html#1094" class="Bound">k</a> <a id="1144" href="Data.Permutation.html#1101" class="Bound">z</a><a id="1145" class="Symbol">)</a>
  <a id="1149" href="Data.Permutation.html#1016" class="Function">f</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1156" href="Data.Permutation.html#1156" class="Bound">x</a><a id="1157" class="Symbol">)</a> <a id="1159" href="Data.Permutation.html#1159" class="Bound">y</a> <a id="1161" href="Data.Permutation.html#1161" class="Bound">k</a> <a id="1163" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>    <a id="1171" class="Symbol">=</a> <a id="1173" href="Agda.Builtin.Nat.html#221" class="InductiveConstructor">zero</a>
  <a id="1180" href="Data.Permutation.html#1016" class="Function">f</a> <a id="1182" class="Symbol">(</a><a id="1183" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1187" href="Data.Permutation.html#1187" class="Bound">x</a><a id="1188" class="Symbol">)</a> <a id="1190" href="Data.Permutation.html#1190" class="Bound">y</a> <a id="1192" href="Data.Permutation.html#1192" class="Bound">k</a> <a id="1194" class="Symbol">(</a><a id="1195" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1199" href="Data.Permutation.html#1199" class="Bound">z</a><a id="1200" class="Symbol">)</a> <a id="1202" class="Symbol">=</a> <a id="1204" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1208" class="Symbol">(</a><a id="1209" href="Data.Permutation.html#1016" class="Function">f</a> <a id="1211" href="Data.Permutation.html#1187" class="Bound">x</a> <a id="1213" href="Data.Permutation.html#1190" class="Bound">y</a> <a id="1215" href="Data.Permutation.html#1192" class="Bound">k</a> <a id="1217" href="Data.Permutation.html#1199" class="Bound">z</a><a id="1218" class="Symbol">)</a>

<a id="prop"></a><a id="1221" href="Data.Permutation.html#1221" class="Function">prop</a> <a id="1226" class="Symbol">:</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Data.Permutation.html#1229" class="Bound">xs</a> <a id="1232" class="Symbol">:</a> <a id="1234" href="Data.Permutation.html#168" class="Function">Swaps</a><a id="1239" class="Symbol">)</a> <a id="1241" class="Symbol">(</a><a id="1242" href="Data.Permutation.html#1242" class="Bound">n</a> <a id="1244" class="Symbol">:</a> <a id="1246" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="1247" class="Symbol">)</a> <a id="1249" class="Symbol">→</a> <a id="1251" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="1256" href="Data.Permutation.html#1221" class="Function">prop</a> <a id="1261" href="Data.Permutation.html#1261" class="Bound">xs</a> <a id="1264" href="Data.Permutation.html#1264" class="Bound">n</a> <a id="1266" class="Symbol">=</a> <a id="1268" href="Data.Permutation.html#955" class="Function">perm′</a> <a id="1274" href="Data.Permutation.html#1261" class="Bound">xs</a> <a id="1277" href="Data.Permutation.html#1264" class="Bound">n</a> <a id="1279" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="1281" href="Data.Permutation.html#839" class="Function">perm</a> <a id="1286" class="Symbol">(</a><a id="1287" href="Data.Permutation.html#203" class="Function">unflatten</a> <a id="1297" href="Data.Permutation.html#1261" class="Bound">xs</a><a id="1299" class="Symbol">)</a> <a id="1301" href="Data.Permutation.html#1264" class="Bound">n</a>

<a id="1304" class="Comment">-- swaps-compress : ∀ xs n → perm′ xs n ≡ perm (unflatten xs) n</a>
<a id="1368" class="Comment">-- swaps-compress xs n = {!!}</a>

<a id="1399" class="Comment">-- e : ℕ → ℕ</a>
<a id="1412" class="Comment">-- e = perm ep</a>


<a id="1429" class="Comment">-- infix 4 _~ₚ_</a>
<a id="1445" class="Comment">-- _~ₚ_ : Swaps → Swaps → Type</a>
<a id="1476" class="Comment">-- x ~ₚ y = ∀ n → perm x n ≡ perm y n</a>

<a id="1515" class="Comment">-- data Perm : Type where</a>
<a id="1541" class="Comment">--   &lt;_&gt; : Swaps → Perm</a>
<a id="1565" class="Comment">--   eq : ∀ x y → x ~ₚ y → &lt; x &gt; ≡ &lt; y &gt;</a>

<a id="1607" class="Comment">-- _·_ : Perm → ℕ → ℕ</a>
<a id="1629" class="Comment">-- &lt; x &gt; · n = perm x n</a>
<a id="1653" class="Comment">-- eq x y e i · n = e n i</a>

<a id="1680" class="Comment">-- open import Data.List.Properties using (foldr-++)</a>
<a id="1733" class="Comment">-- open import Path.Reasoning</a>

<a id="1764" class="Comment">-- ~ₚ-++ : ∀ w x y z → w ~ₚ x → y ~ₚ z → w ++ y ~ₚ x ++ z</a>
<a id="1822" class="Comment">-- ~ₚ-++ ws xs ys zs p q n =</a>
<a id="1851" class="Comment">--   perm (ws ++ ys) n   ≡⟨ foldr-++ (uncurry swap) n ws ys ⟩</a>
<a id="1913" class="Comment">--   perm ws (perm ys n) ≡⟨ p (perm ys n) ⟩</a>
<a id="1957" class="Comment">--   perm xs (perm ys n) ≡⟨ cong (perm xs) (q n) ⟩</a>
<a id="2008" class="Comment">--   perm xs (perm zs n) ≡˘⟨ foldr-++ (uncurry swap) n xs zs ⟩</a>
<a id="2071" class="Comment">--   perm (xs ++ zs) n ∎</a>

<a id="2097" class="Comment">-- -- module _ (f : ℕ → ℕ → A → A) (b : A)</a>
<a id="2140" class="Comment">-- --          (unswap : ∀ n m x → f n m (f m n x) ≡ x)</a>
<a id="2196" class="Comment">-- --          (swapid : ∀ n x → f n n x ≡ x)</a>
<a id="2242" class="Comment">-- --          where</a>

<a id="2264" class="Comment">-- --   perm-id : (x : Swaps) → (∀ n → perm x n ≡ n) → foldr (uncurry f) b x ≡ b</a>
<a id="2345" class="Comment">-- --   perm-id [] p = refl</a>
<a id="2373" class="Comment">-- --   perm-id ((x , y) ∷ xs) p =</a>
<a id="2408" class="Comment">-- --     let h₁ = cong (perm xs) (sym (swap-rhs x y)) ; p y ⦂ perm xs x ≡ y</a>
<a id="2485" class="Comment">-- --         h₂ = cong (perm xs) (sym (swap-lhs x y)) ; p x ⦂ perm xs y ≡ x</a>
<a id="2562" class="Comment">-- --     in {!!}</a>

<a id="2581" class="Comment">-- --   foldr-perm : Perm → A</a>
<a id="2611" class="Comment">-- --   foldr-perm &lt; xs &gt; = foldr (uncurry f) b xs</a>
<a id="2662" class="Comment">-- --   foldr-perm (eq x y e i) = lemma x y e i</a>
<a id="2710" class="Comment">-- --     where</a>
<a id="2726" class="Comment">-- --     lemma : ∀ x y </a>
<a id="2751" class="Comment">-- --           → (∀ n → perm x n ≡ perm y n)</a>
<a id="2797" class="Comment">-- --           → foldr (uncurry f) b x ≡ foldr (uncurry f) b y</a>
<a id="2861" class="Comment">-- --     lemma [] [] q = refl</a>
<a id="2892" class="Comment">-- --     lemma [] (x ∷ xs) q = {!!}</a>
<a id="2929" class="Comment">-- --     lemma (x ∷ x₁) [] q = {!!}</a>
<a id="2966" class="Comment">-- --     lemma (x ∷ x₁) (x₂ ∷ y) q = {!!}</a>

<a id="3010" class="Comment">-- -- -- open import Data.List.Syntax</a>

<a id="3049" class="Comment">-- -- -- _ : perm ( (1 , 2) ∷  (2 , 3) ∷ []) 1 ≡ 3</a>
<a id="3100" class="Comment">-- -- -- _ = refl</a>
</pre></body></html>