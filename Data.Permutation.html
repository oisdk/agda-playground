<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Permutation</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Data.Permutation.html" class="Module">Data.Permutation</a> <a id="25" class="Keyword">where</a>

<a id="32" class="Keyword">open</a> <a id="37" class="Keyword">import</a> <a id="44" href="Prelude.html" class="Module">Prelude</a>
<a id="52" class="Keyword">open</a> <a id="57" class="Keyword">import</a> <a id="64" href="Data.List.html" class="Module">Data.List</a>
<a id="74" class="Keyword">open</a> <a id="79" class="Keyword">import</a> <a id="86" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="106" class="Keyword">renaming</a> <a id="115" class="Symbol">(</a><a id="116" href="Data.Nat.Properties.html#931" class="Function">discreteℕ</a> <a id="126" class="Symbol">to</a> <a id="129" class="Function">_≟_</a><a id="132" class="Symbol">)</a>

<a id="Swaps"></a><a id="135" href="Data.Permutation.html#135" class="Function">Swaps</a> <a id="141" class="Symbol">:</a> <a id="143" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="148" href="Data.Permutation.html#135" class="Function">Swaps</a> <a id="154" class="Symbol">=</a> <a id="156" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="161" class="Symbol">(</a><a id="162" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="164" href="Data.Sigma.Base.html#455" class="Function Operator">×</a> <a id="166" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="167" class="Symbol">)</a>

<a id="swap"></a><a id="170" href="Data.Permutation.html#170" class="Function">swap</a> <a id="175" class="Symbol">:</a> <a id="177" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="179" class="Symbol">→</a> <a id="181" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="183" class="Symbol">→</a> <a id="185" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="187" class="Symbol">→</a> <a id="189" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="191" href="Data.Permutation.html#170" class="Function">swap</a> <a id="196" href="Data.Permutation.html#196" class="Bound">x</a> <a id="198" href="Data.Permutation.html#198" class="Bound">y</a> <a id="200" href="Data.Permutation.html#200" class="Bound">z</a> <a id="202" class="Symbol">=</a>
  <a id="206" href="Data.Bool.Base.html#596" class="Function Operator">if</a> <a id="209" href="Relation.Nullary.Decidable.html#316" class="Field">does</a> <a id="214" class="Symbol">(</a><a id="215" href="Data.Permutation.html#196" class="Bound">x</a> <a id="217" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="219" href="Data.Permutation.html#200" class="Bound">z</a><a id="220" class="Symbol">)</a> <a id="222" href="Data.Bool.Base.html#596" class="Function Operator">then</a> <a id="227" href="Data.Permutation.html#198" class="Bound">y</a> <a id="229" href="Data.Bool.Base.html#596" class="Function Operator">else</a>
  <a id="236" href="Data.Bool.Base.html#596" class="Function Operator">if</a> <a id="239" href="Relation.Nullary.Decidable.html#316" class="Field">does</a> <a id="244" class="Symbol">(</a><a id="245" href="Data.Permutation.html#198" class="Bound">y</a> <a id="247" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="249" href="Data.Permutation.html#200" class="Bound">z</a><a id="250" class="Symbol">)</a> <a id="252" href="Data.Bool.Base.html#596" class="Function Operator">then</a> <a id="257" href="Data.Permutation.html#196" class="Bound">x</a> <a id="259" href="Data.Bool.Base.html#596" class="Function Operator">else</a>
  <a id="266" href="Data.Permutation.html#200" class="Bound">z</a>

<a id="swap-lhs"></a><a id="269" href="Data.Permutation.html#269" class="Function">swap-lhs</a> <a id="278" class="Symbol">:</a> <a id="280" class="Symbol">∀</a> <a id="282" href="Data.Permutation.html#282" class="Bound">x</a> <a id="284" href="Data.Permutation.html#284" class="Bound">y</a> <a id="286" class="Symbol">→</a> <a id="288" href="Data.Permutation.html#170" class="Function">swap</a> <a id="293" href="Data.Permutation.html#282" class="Bound">x</a> <a id="295" href="Data.Permutation.html#284" class="Bound">y</a> <a id="297" href="Data.Permutation.html#282" class="Bound">x</a> <a id="299" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="301" href="Data.Permutation.html#284" class="Bound">y</a>
<a id="303" href="Data.Permutation.html#269" class="Function">swap-lhs</a> <a id="312" href="Data.Permutation.html#312" class="Bound">x</a> <a id="314" href="Data.Permutation.html#314" class="Bound">y</a> <a id="316" class="Keyword">with</a> <a id="321" href="Data.Permutation.html#312" class="Bound">x</a> <a id="323" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="325" href="Data.Permutation.html#312" class="Bound">x</a>
<a id="327" class="Symbol">...</a> <a id="331" class="Symbol">|</a> <a id="333" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a>  <a id="337" href="Data.Permutation.html#337" class="Bound">x≢x</a> <a id="341" class="Symbol">=</a> <a id="343" href="Data.Empty.Base.html#154" class="Function">⊥-elim</a> <a id="350" class="Symbol">(</a><a id="351" href="Data.Permutation.html#337" class="Bound">x≢x</a> <a id="355" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a><a id="359" class="Symbol">)</a> 
<a id="362" class="Symbol">...</a> <a id="366" class="Symbol">|</a> <a id="368" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="372" href="Data.Permutation.html#372" class="Bound">x≡x</a> <a id="376" class="Symbol">=</a> <a id="378" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="swap-rhs"></a><a id="384" href="Data.Permutation.html#384" class="Function">swap-rhs</a> <a id="393" class="Symbol">:</a> <a id="395" class="Symbol">∀</a> <a id="397" href="Data.Permutation.html#397" class="Bound">x</a> <a id="399" href="Data.Permutation.html#399" class="Bound">y</a> <a id="401" class="Symbol">→</a> <a id="403" href="Data.Permutation.html#170" class="Function">swap</a> <a id="408" href="Data.Permutation.html#397" class="Bound">x</a> <a id="410" href="Data.Permutation.html#399" class="Bound">y</a> <a id="412" href="Data.Permutation.html#399" class="Bound">y</a> <a id="414" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="416" href="Data.Permutation.html#397" class="Bound">x</a>
<a id="418" href="Data.Permutation.html#384" class="Function">swap-rhs</a> <a id="427" href="Data.Permutation.html#427" class="Bound">x</a> <a id="429" href="Data.Permutation.html#429" class="Bound">y</a> <a id="431" class="Keyword">with</a> <a id="436" href="Data.Permutation.html#427" class="Bound">x</a> <a id="438" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="440" href="Data.Permutation.html#429" class="Bound">y</a>
<a id="442" class="Symbol">...</a> <a id="446" class="Symbol">|</a> <a id="448" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="452" href="Data.Permutation.html#452" class="Bound">x≡y</a> <a id="456" class="Symbol">=</a> <a id="458" href="Cubical.Foundations.Prelude.html#968" class="Function">sym</a> <a id="462" href="Data.Permutation.html#452" class="Bound">x≡y</a>
<a id="466" class="Symbol">...</a> <a id="470" class="Symbol">|</a> <a id="472" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a>  <a id="476" href="Data.Permutation.html#476" class="Bound">x≢y</a> <a id="480" class="Keyword">with</a> <a id="485" class="Bound">y</a> <a id="487" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="489" class="Bound">y</a>
<a id="491" class="Symbol">...</a> <a id="495" class="Symbol">|</a> <a id="497" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a>  <a id="501" href="Data.Permutation.html#501" class="Bound">y≢y</a> <a id="505" class="Symbol">=</a> <a id="507" href="Data.Empty.Base.html#154" class="Function">⊥-elim</a> <a id="514" class="Symbol">(</a><a id="515" href="Data.Permutation.html#501" class="Bound">y≢y</a> <a id="519" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a><a id="523" class="Symbol">)</a>
<a id="525" class="Symbol">...</a> <a id="529" class="Symbol">|</a> <a id="531" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="535" href="Data.Permutation.html#535" class="Bound">y≡y</a> <a id="539" class="Symbol">=</a> <a id="541" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>

<a id="swap-id"></a><a id="547" href="Data.Permutation.html#547" class="Function">swap-id</a> <a id="555" class="Symbol">:</a> <a id="557" class="Symbol">∀</a> <a id="559" href="Data.Permutation.html#559" class="Bound">x</a> <a id="561" href="Data.Permutation.html#561" class="Bound">y</a> <a id="563" class="Symbol">→</a> <a id="565" href="Data.Permutation.html#170" class="Function">swap</a> <a id="570" href="Data.Permutation.html#559" class="Bound">x</a> <a id="572" href="Data.Permutation.html#559" class="Bound">x</a> <a id="574" href="Data.Permutation.html#561" class="Bound">y</a> <a id="576" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="578" href="Data.Permutation.html#561" class="Bound">y</a>
<a id="580" href="Data.Permutation.html#547" class="Function">swap-id</a> <a id="588" href="Data.Permutation.html#588" class="Bound">x</a> <a id="590" href="Data.Permutation.html#590" class="Bound">y</a> <a id="592" class="Keyword">with</a> <a id="597" href="Data.Permutation.html#588" class="Bound">x</a> <a id="599" href="Data.Permutation.html#129" class="Function Operator">≟</a> <a id="601" href="Data.Permutation.html#590" class="Bound">y</a>
<a id="603" class="Symbol">...</a> <a id="607" class="Symbol">|</a> <a id="609" href="Relation.Nullary.Decidable.html#416" class="InductiveConstructor">no</a> <a id="612" class="Symbol">_</a> <a id="614" class="Symbol">=</a> <a id="616" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a>
<a id="621" class="Symbol">...</a> <a id="625" class="Symbol">|</a> <a id="627" href="Relation.Nullary.Decidable.html#382" class="InductiveConstructor">yes</a> <a id="631" href="Data.Permutation.html#631" class="Bound">x≡y</a> <a id="635" class="Symbol">=</a> <a id="637" href="Data.Permutation.html#631" class="Bound">x≡y</a>

<a id="perm"></a><a id="642" href="Data.Permutation.html#642" class="Function">perm</a> <a id="647" class="Symbol">:</a> <a id="649" href="Data.Permutation.html#135" class="Function">Swaps</a> <a id="655" class="Symbol">→</a> <a id="657" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="659" class="Symbol">→</a> <a id="661" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="663" href="Data.Permutation.html#642" class="Function">perm</a> <a id="668" class="Symbol">=</a> <a id="670" href="Function.html#369" class="Function">flip</a> <a id="675" class="Symbol">(</a><a id="676" href="Data.List.Base.html#269" class="Function">foldr</a> <a id="682" class="Symbol">(</a><a id="683" href="Data.Sigma.Base.html#711" class="Function">uncurry</a> <a id="691" href="Data.Permutation.html#170" class="Function">swap</a><a id="695" class="Symbol">))</a>

<a id="699" class="Keyword">infix</a> <a id="705" class="Number">4</a> <a id="707" href="Data.Permutation.html#712" class="Function Operator">_~ₚ_</a>
<a id="_~ₚ_"></a><a id="712" href="Data.Permutation.html#712" class="Function Operator">_~ₚ_</a> <a id="717" class="Symbol">:</a> <a id="719" href="Data.Permutation.html#135" class="Function">Swaps</a> <a id="725" class="Symbol">→</a> <a id="727" href="Data.Permutation.html#135" class="Function">Swaps</a> <a id="733" class="Symbol">→</a> <a id="735" href="Agda.Primitive.html#388" class="Primitive">Type</a>
<a id="740" href="Data.Permutation.html#740" class="Bound">x</a> <a id="742" href="Data.Permutation.html#712" class="Function Operator">~ₚ</a> <a id="745" href="Data.Permutation.html#745" class="Bound">y</a> <a id="747" class="Symbol">=</a> <a id="749" class="Symbol">∀</a> <a id="751" href="Data.Permutation.html#751" class="Bound">n</a> <a id="753" class="Symbol">→</a> <a id="755" href="Data.Permutation.html#642" class="Function">perm</a> <a id="760" href="Data.Permutation.html#740" class="Bound">x</a> <a id="762" href="Data.Permutation.html#751" class="Bound">n</a> <a id="764" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="766" href="Data.Permutation.html#642" class="Function">perm</a> <a id="771" href="Data.Permutation.html#745" class="Bound">y</a> <a id="773" href="Data.Permutation.html#751" class="Bound">n</a>

<a id="776" class="Keyword">data</a> <a id="Perm"></a><a id="781" href="Data.Permutation.html#781" class="Datatype">Perm</a> <a id="786" class="Symbol">:</a> <a id="788" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="793" class="Keyword">where</a>
  <a id="Perm.&lt;_&gt;"></a><a id="801" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&lt;_&gt;</a> <a id="805" class="Symbol">:</a> <a id="807" href="Data.Permutation.html#135" class="Function">Swaps</a> <a id="813" class="Symbol">→</a> <a id="815" href="Data.Permutation.html#781" class="Datatype">Perm</a>
  <a id="Perm.eq"></a><a id="822" href="Data.Permutation.html#822" class="InductiveConstructor">eq</a> <a id="825" class="Symbol">:</a> <a id="827" class="Symbol">∀</a> <a id="829" href="Data.Permutation.html#829" class="Bound">x</a> <a id="831" href="Data.Permutation.html#831" class="Bound">y</a> <a id="833" class="Symbol">→</a> <a id="835" href="Data.Permutation.html#829" class="Bound">x</a> <a id="837" href="Data.Permutation.html#712" class="Function Operator">~ₚ</a> <a id="840" href="Data.Permutation.html#831" class="Bound">y</a> <a id="842" class="Symbol">→</a> <a id="844" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&lt;</a> <a id="846" href="Data.Permutation.html#829" class="Bound">x</a> <a id="848" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&gt;</a> <a id="850" href="Agda.Builtin.Cubical.Path.html#272" class="Function Operator">≡</a> <a id="852" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&lt;</a> <a id="854" href="Data.Permutation.html#831" class="Bound">y</a> <a id="856" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&gt;</a>

<a id="_·_"></a><a id="859" href="Data.Permutation.html#859" class="Function Operator">_·_</a> <a id="863" class="Symbol">:</a> <a id="865" href="Data.Permutation.html#781" class="Datatype">Perm</a> <a id="870" class="Symbol">→</a> <a id="872" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="874" class="Symbol">→</a> <a id="876" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
<a id="878" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&lt;</a> <a id="880" href="Data.Permutation.html#880" class="Bound">x</a> <a id="882" href="Data.Permutation.html#801" class="InductiveConstructor Operator">&gt;</a> <a id="884" href="Data.Permutation.html#859" class="Function Operator">·</a> <a id="886" href="Data.Permutation.html#886" class="Bound">n</a> <a id="888" class="Symbol">=</a> <a id="890" href="Data.Permutation.html#642" class="Function">perm</a> <a id="895" href="Data.Permutation.html#880" class="Bound">x</a> <a id="897" href="Data.Permutation.html#886" class="Bound">n</a>
<a id="899" href="Data.Permutation.html#822" class="InductiveConstructor">eq</a> <a id="902" href="Data.Permutation.html#902" class="Bound">x</a> <a id="904" href="Data.Permutation.html#904" class="Bound">y</a> <a id="906" href="Data.Permutation.html#906" class="Bound">e</a> <a id="908" href="Data.Permutation.html#908" class="Bound">i</a> <a id="910" href="Data.Permutation.html#859" class="Function Operator">·</a> <a id="912" href="Data.Permutation.html#912" class="Bound">n</a> <a id="914" class="Symbol">=</a> <a id="916" href="Data.Permutation.html#906" class="Bound">e</a> <a id="918" href="Data.Permutation.html#912" class="Bound">n</a> <a id="920" href="Data.Permutation.html#908" class="Bound">i</a>

<a id="923" class="Keyword">open</a> <a id="928" class="Keyword">import</a> <a id="935" href="Data.List.Properties.html" class="Module">Data.List.Properties</a> <a id="956" class="Keyword">using</a> <a id="962" class="Symbol">(</a><a id="963" href="Data.List.Properties.html#1997" class="Function">foldr-++</a><a id="971" class="Symbol">)</a>
<a id="973" class="Keyword">open</a> <a id="978" class="Keyword">import</a> <a id="985" href="Path.Reasoning.html" class="Module">Path.Reasoning</a>

<a id="~ₚ-++"></a><a id="1001" href="Data.Permutation.html#1001" class="Function">~ₚ-++</a> <a id="1007" class="Symbol">:</a> <a id="1009" class="Symbol">∀</a> <a id="1011" href="Data.Permutation.html#1011" class="Bound">w</a> <a id="1013" href="Data.Permutation.html#1013" class="Bound">x</a> <a id="1015" href="Data.Permutation.html#1015" class="Bound">y</a> <a id="1017" href="Data.Permutation.html#1017" class="Bound">z</a> <a id="1019" class="Symbol">→</a> <a id="1021" href="Data.Permutation.html#1011" class="Bound">w</a> <a id="1023" href="Data.Permutation.html#712" class="Function Operator">~ₚ</a> <a id="1026" href="Data.Permutation.html#1013" class="Bound">x</a> <a id="1028" class="Symbol">→</a> <a id="1030" href="Data.Permutation.html#1015" class="Bound">y</a> <a id="1032" href="Data.Permutation.html#712" class="Function Operator">~ₚ</a> <a id="1035" href="Data.Permutation.html#1017" class="Bound">z</a> <a id="1037" class="Symbol">→</a> <a id="1039" href="Data.Permutation.html#1011" class="Bound">w</a> <a id="1041" href="Data.List.Base.html#785" class="Function Operator">++</a> <a id="1044" href="Data.Permutation.html#1015" class="Bound">y</a> <a id="1046" href="Data.Permutation.html#712" class="Function Operator">~ₚ</a> <a id="1049" href="Data.Permutation.html#1013" class="Bound">x</a> <a id="1051" href="Data.List.Base.html#785" class="Function Operator">++</a> <a id="1054" href="Data.Permutation.html#1017" class="Bound">z</a>
<a id="1056" href="Data.Permutation.html#1001" class="Function">~ₚ-++</a> <a id="1062" href="Data.Permutation.html#1062" class="Bound">ws</a> <a id="1065" href="Data.Permutation.html#1065" class="Bound">xs</a> <a id="1068" href="Data.Permutation.html#1068" class="Bound">ys</a> <a id="1071" href="Data.Permutation.html#1071" class="Bound">zs</a> <a id="1074" href="Data.Permutation.html#1074" class="Bound">p</a> <a id="1076" href="Data.Permutation.html#1076" class="Bound">q</a> <a id="1078" href="Data.Permutation.html#1078" class="Bound">n</a> <a id="1080" class="Symbol">=</a>
  <a id="1084" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1089" class="Symbol">(</a><a id="1090" href="Data.Permutation.html#1062" class="Bound">ws</a> <a id="1093" href="Data.List.Base.html#785" class="Function Operator">++</a> <a id="1096" href="Data.Permutation.html#1068" class="Bound">ys</a><a id="1098" class="Symbol">)</a> <a id="1100" href="Data.Permutation.html#1078" class="Bound">n</a>   <a id="1104" href="Path.Reasoning.html#281" class="Function">≡⟨</a> <a id="1107" href="Data.List.Properties.html#1997" class="Function">foldr-++</a> <a id="1116" class="Symbol">(</a><a id="1117" href="Data.Sigma.Base.html#711" class="Function">uncurry</a> <a id="1125" href="Data.Permutation.html#170" class="Function">swap</a><a id="1129" class="Symbol">)</a> <a id="1131" href="Data.Permutation.html#1078" class="Bound">n</a> <a id="1133" href="Data.Permutation.html#1062" class="Bound">ws</a> <a id="1136" href="Data.Permutation.html#1068" class="Bound">ys</a> <a id="1139" href="Path.Reasoning.html#281" class="Function">⟩</a>
  <a id="1143" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1148" href="Data.Permutation.html#1062" class="Bound">ws</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1157" href="Data.Permutation.html#1068" class="Bound">ys</a> <a id="1160" href="Data.Permutation.html#1078" class="Bound">n</a><a id="1161" class="Symbol">)</a> <a id="1163" href="Path.Reasoning.html#281" class="Function">≡⟨</a> <a id="1166" href="Data.Permutation.html#1074" class="Bound">p</a> <a id="1168" class="Symbol">(</a><a id="1169" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1174" href="Data.Permutation.html#1068" class="Bound">ys</a> <a id="1177" href="Data.Permutation.html#1078" class="Bound">n</a><a id="1178" class="Symbol">)</a> <a id="1180" href="Path.Reasoning.html#281" class="Function">⟩</a>
  <a id="1184" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1189" href="Data.Permutation.html#1065" class="Bound">xs</a> <a id="1192" class="Symbol">(</a><a id="1193" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1198" href="Data.Permutation.html#1068" class="Bound">ys</a> <a id="1201" href="Data.Permutation.html#1078" class="Bound">n</a><a id="1202" class="Symbol">)</a> <a id="1204" href="Path.Reasoning.html#281" class="Function">≡⟨</a> <a id="1207" href="Cubical.Foundations.Prelude.html#1430" class="Function">cong</a> <a id="1212" class="Symbol">(</a><a id="1213" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1218" href="Data.Permutation.html#1065" class="Bound">xs</a><a id="1220" class="Symbol">)</a> <a id="1222" class="Symbol">(</a><a id="1223" href="Data.Permutation.html#1076" class="Bound">q</a> <a id="1225" href="Data.Permutation.html#1078" class="Bound">n</a><a id="1226" class="Symbol">)</a> <a id="1228" href="Path.Reasoning.html#281" class="Function">⟩</a>
  <a id="1232" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1237" href="Data.Permutation.html#1065" class="Bound">xs</a> <a id="1240" class="Symbol">(</a><a id="1241" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1246" href="Data.Permutation.html#1071" class="Bound">zs</a> <a id="1249" href="Data.Permutation.html#1078" class="Bound">n</a><a id="1250" class="Symbol">)</a> <a id="1252" href="Path.Reasoning.html#140" class="Function">≡˘⟨</a> <a id="1256" href="Data.List.Properties.html#1997" class="Function">foldr-++</a> <a id="1265" class="Symbol">(</a><a id="1266" href="Data.Sigma.Base.html#711" class="Function">uncurry</a> <a id="1274" href="Data.Permutation.html#170" class="Function">swap</a><a id="1278" class="Symbol">)</a> <a id="1280" href="Data.Permutation.html#1078" class="Bound">n</a> <a id="1282" href="Data.Permutation.html#1065" class="Bound">xs</a> <a id="1285" href="Data.Permutation.html#1071" class="Bound">zs</a> <a id="1288" href="Path.Reasoning.html#140" class="Function">⟩</a>
  <a id="1292" href="Data.Permutation.html#642" class="Function">perm</a> <a id="1297" class="Symbol">(</a><a id="1298" href="Data.Permutation.html#1065" class="Bound">xs</a> <a id="1301" href="Data.List.Base.html#785" class="Function Operator">++</a> <a id="1304" href="Data.Permutation.html#1071" class="Bound">zs</a><a id="1306" class="Symbol">)</a> <a id="1308" href="Data.Permutation.html#1078" class="Bound">n</a> <a id="1310" href="Path.Reasoning.html#485" class="Function Operator">∎</a>

<a id="1313" class="Comment">-- module _ (f : ℕ → ℕ → A → A) (b : A)</a>
<a id="1353" class="Comment">--          (unswap : ∀ n m x → f n m (f m n x) ≡ x)</a>
<a id="1406" class="Comment">--          (swapid : ∀ n x → f n n x ≡ x)</a>
<a id="1449" class="Comment">--          where</a>

<a id="1468" class="Comment">--   perm-id : (x : Swaps) → (∀ n → perm x n ≡ n) → foldr (uncurry f) b x ≡ b</a>
<a id="1546" class="Comment">--   perm-id [] p = refl</a>
<a id="1571" class="Comment">--   perm-id ((x , y) ∷ xs) p =</a>
<a id="1603" class="Comment">--     let h₁ = cong (perm xs) (sym (swap-rhs x y)) ; p y ⦂ perm xs x ≡ y</a>
<a id="1677" class="Comment">--         h₂ = cong (perm xs) (sym (swap-lhs x y)) ; p x ⦂ perm xs y ≡ x</a>
<a id="1751" class="Comment">--     in {!!}</a>

<a id="1767" class="Comment">--   foldr-perm : Perm → A</a>
<a id="1794" class="Comment">--   foldr-perm &lt; xs &gt; = foldr (uncurry f) b xs</a>
<a id="1842" class="Comment">--   foldr-perm (eq x y e i) = lemma x y e i</a>
<a id="1887" class="Comment">--     where</a>
<a id="1900" class="Comment">--     lemma : ∀ x y </a>
<a id="1922" class="Comment">--           → (∀ n → perm x n ≡ perm y n)</a>
<a id="1965" class="Comment">--           → foldr (uncurry f) b x ≡ foldr (uncurry f) b y</a>
<a id="2026" class="Comment">--     lemma [] [] q = refl</a>
<a id="2054" class="Comment">--     lemma [] (x ∷ xs) q = {!!}</a>
<a id="2088" class="Comment">--     lemma (x ∷ x₁) [] q = {!!}</a>
<a id="2122" class="Comment">--     lemma (x ∷ x₁) (x₂ ∷ y) q = {!!}</a>

<a id="2163" class="Comment">-- -- open import Data.List.Syntax</a>

<a id="2199" class="Comment">-- -- _ : perm ( (1 , 2) ∷  (2 , 3) ∷ []) 1 ≡ 3</a>
<a id="2247" class="Comment">-- -- _ = refl</a>
</pre></body></html>