<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.List.Mapping</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--safe</a> <a id="30" class="Pragma">--postfix-projections</a> <a id="52" class="Symbol">#-}</a>

<a id="57" class="Keyword">open</a> <a id="62" class="Keyword">import</a> <a id="69" href="Prelude.html" class="Module">Prelude</a>
<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Relation.Binary.html" class="Module">Relation.Binary</a>

<a id="106" class="Keyword">module</a> <a id="113" href="Data.List.Mapping.html" class="Module">Data.List.Mapping</a> <a id="131" class="Symbol">{</a><a id="132" href="Data.List.Mapping.html#132" class="Bound">kℓ</a><a id="134" class="Symbol">}</a> <a id="136" class="Symbol">{</a><a id="137" href="Data.List.Mapping.html#137" class="Bound">K</a> <a id="139" class="Symbol">:</a> <a id="141" href="Level.html#192" class="Function">Type</a> <a id="146" href="Data.List.Mapping.html#132" class="Bound">kℓ</a><a id="148" class="Symbol">}</a> <a id="150" class="Symbol">{</a><a id="151" href="Data.List.Mapping.html#151" class="Bound">r₁</a> <a id="154" href="Data.List.Mapping.html#154" class="Bound">r₂</a><a id="156" class="Symbol">}</a> <a id="158" class="Symbol">(</a><a id="159" href="Data.List.Mapping.html#159" class="Bound">totalOrder</a> <a id="170" class="Symbol">:</a> <a id="172" href="Relation.Binary.html#2507" class="Record">TotalOrder</a> <a id="183" href="Data.List.Mapping.html#137" class="Bound">K</a> <a id="185" href="Data.List.Mapping.html#151" class="Bound">r₁</a> <a id="188" href="Data.List.Mapping.html#154" class="Bound">r₂</a><a id="190" class="Symbol">)</a> <a id="192" class="Keyword">where</a>

<a id="199" class="Keyword">open</a> <a id="204" class="Keyword">import</a> <a id="211" href="Relation.Binary.Construct.LowerBound.html" class="Module">Relation.Binary.Construct.LowerBound</a> <a id="248" href="Data.List.Mapping.html#159" class="Bound">totalOrder</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="280" class="Keyword">using</a> <a id="286" class="Symbol">(</a><a id="287" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="290" class="Symbol">)</a>
<a id="292" class="Keyword">open</a> <a id="297" href="Relation.Binary.html#2507" class="Module">TotalOrder</a> <a id="308" href="Data.List.Mapping.html#159" class="Bound">totalOrder</a> <a id="319" class="Keyword">using</a> <a id="325" class="Symbol">(</a>_&lt;?_<a id="330" class="Symbol">;</a> compare<a id="339" class="Symbol">;</a> _&lt;_<a id="344" class="Symbol">;</a> total⇒isSet<a id="357" class="Symbol">;</a> irrefl<a id="365" class="Symbol">;</a> comparing_∙_|&lt;_|≡_|&gt;_<a id="388" class="Symbol">;</a> compare′<a id="398" class="Symbol">;</a> compared<a id="408" class="Symbol">)</a>
<a id="410" class="Keyword">open</a> <a id="415" href="Relation.Binary.html#2507" class="Module">TotalOrder</a> <a id="426" href="Relation.Binary.Construct.LowerBound.html#1841" class="Function">lb-ord</a> <a id="433" class="Keyword">using</a> <a id="439" class="Symbol">(</a>&lt;-trans<a id="447" class="Symbol">)</a> <a id="449" class="Keyword">renaming</a> <a id="458" class="Symbol">(</a>refl <a id="464" class="Symbol">to</a> &lt;-refl<a id="473" class="Symbol">)</a>
<a id="475" class="Comment">-- import Data.Empty.UniversePolymorphic as Poly</a>

<a id="525" class="Keyword">private</a>
  <a id="535" class="Keyword">variable</a>
    <a id="548" href="Data.List.Mapping.html#548" class="Generalizable">n</a> <a id="550" href="Data.List.Mapping.html#550" class="Generalizable">m</a> <a id="552" class="Symbol">:</a> <a id="554" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="560" href="Data.List.Mapping.html#560" class="Generalizable">v</a> <a id="562" class="Symbol">:</a> <a id="564" href="Agda.Primitive.html#423" class="Postulate">Level</a>
    <a id="574" href="Data.List.Mapping.html#574" class="Generalizable">Val</a> <a id="578" class="Symbol">:</a> <a id="580" href="Data.List.Mapping.html#137" class="Bound">K</a> <a id="582" class="Symbol">→</a> <a id="584" href="Level.html#192" class="Function">Type</a> <a id="589" href="Data.List.Mapping.html#560" class="Generalizable">v</a>

<a id="592" class="Keyword">infixr</a> <a id="599" class="Number">5</a> <a id="601" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">_≔_,_</a>
<a id="607" class="Keyword">data</a> <a id="MapFrom"></a><a id="612" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="620" class="Symbol">(</a><a id="621" href="Data.List.Mapping.html#621" class="Bound">lb</a> <a id="624" class="Symbol">:</a> <a id="626" href="Relation.Binary.Construct.LowerBound.html#345" class="Datatype">⌊∙⌋</a><a id="629" class="Symbol">)</a> <a id="631" class="Symbol">{</a><a id="632" href="Data.List.Mapping.html#632" class="Bound">v</a><a id="633" class="Symbol">}</a> <a id="635" class="Symbol">(</a><a id="636" href="Data.List.Mapping.html#636" class="Bound">Val</a> <a id="640" class="Symbol">:</a> <a id="642" href="Data.List.Mapping.html#137" class="Bound">K</a> <a id="644" class="Symbol">→</a> <a id="646" href="Level.html#192" class="Function">Type</a> <a id="651" href="Data.List.Mapping.html#632" class="Bound">v</a><a id="652" class="Symbol">)</a> <a id="654" class="Symbol">:</a> <a id="656" href="Level.html#192" class="Function">Type</a> <a id="661" class="Symbol">(</a><a id="662" href="Data.List.Mapping.html#132" class="Bound">kℓ</a> <a id="665" href="Agda.Primitive.html#636" class="Primitive Operator">ℓ⊔</a> <a id="668" href="Data.List.Mapping.html#151" class="Bound">r₁</a> <a id="671" href="Agda.Primitive.html#636" class="Primitive Operator">ℓ⊔</a> <a id="674" href="Data.List.Mapping.html#632" class="Bound">v</a><a id="675" class="Symbol">)</a> <a id="677" class="Keyword">where</a>
  <a id="MapFrom.∅"></a><a id="685" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a> <a id="687" class="Symbol">:</a> <a id="689" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="697" href="Data.List.Mapping.html#621" class="Bound">lb</a> <a id="700" href="Data.List.Mapping.html#636" class="Bound">Val</a>
  <a id="MapFrom._≔_,_"></a><a id="706" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">_≔_,_</a> <a id="712" class="Symbol">:</a> <a id="714" class="Symbol">(</a><a id="715" href="Data.List.Mapping.html#715" class="Bound">k</a> <a id="717" class="Symbol">:</a> <a id="719" href="Data.List.Mapping.html#137" class="Bound">K</a><a id="720" class="Symbol">)</a> <a id="722" class="Symbol">→</a> <a id="724" class="Symbol">⦃</a> <a id="726" href="Data.List.Mapping.html#726" class="Bound">inBounds</a> <a id="735" class="Symbol">:</a> <a id="737" href="Data.List.Mapping.html#621" class="Bound">lb</a> <a id="740" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">&lt;⌊</a> <a id="743" href="Data.List.Mapping.html#715" class="Bound">k</a> <a id="745" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">⌋</a> <a id="747" class="Symbol">⦄</a> <a id="749" class="Symbol">→</a> <a id="751" class="Symbol">(</a><a id="752" href="Data.List.Mapping.html#752" class="Bound">v</a> <a id="754" class="Symbol">:</a> <a id="756" href="Data.List.Mapping.html#636" class="Bound">Val</a> <a id="760" href="Data.List.Mapping.html#715" class="Bound">k</a><a id="761" class="Symbol">)</a> <a id="763" class="Symbol">→</a> <a id="765" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="773" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="775" href="Data.List.Mapping.html#715" class="Bound">k</a> <a id="777" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a> <a id="779" href="Data.List.Mapping.html#636" class="Bound">Val</a> <a id="783" class="Symbol">→</a> <a id="785" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="793" href="Data.List.Mapping.html#621" class="Bound">lb</a> <a id="796" href="Data.List.Mapping.html#636" class="Bound">Val</a>

<a id="801" class="Keyword">private</a>
  <a id="811" class="Keyword">variable</a>
    <a id="824" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="827" class="Symbol">:</a> <a id="829" href="Relation.Binary.Construct.LowerBound.html#345" class="Datatype">⌊∙⌋</a>

<a id="weaken"></a><a id="834" href="Data.List.Mapping.html#834" class="Function">weaken</a> <a id="841" class="Symbol">:</a> <a id="843" class="Symbol">∀</a> <a id="845" class="Symbol">{</a><a id="846" href="Data.List.Mapping.html#846" class="Bound">x</a><a id="847" class="Symbol">}</a> <a id="849" class="Symbol">→</a> <a id="851" class="Symbol">⦃</a> <a id="853" href="Data.List.Mapping.html#853" class="Bound">_</a> <a id="855" class="Symbol">:</a> <a id="857" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="860" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">&lt;⌊</a> <a id="863" href="Data.List.Mapping.html#846" class="Bound">x</a> <a id="865" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">⌋</a> <a id="867" class="Symbol">⦄</a> <a id="869" class="Symbol">→</a> <a id="871" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="879" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="881" href="Data.List.Mapping.html#846" class="Bound">x</a> <a id="883" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a> <a id="885" href="Data.List.Mapping.html#574" class="Generalizable">Val</a> <a id="889" class="Symbol">→</a> <a id="891" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="899" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="902" href="Data.List.Mapping.html#574" class="Generalizable">Val</a>
<a id="906" href="Data.List.Mapping.html#834" class="Function">weaken</a> <a id="913" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a> <a id="915" class="Symbol">=</a> <a id="917" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a>
<a id="919" href="Data.List.Mapping.html#834" class="Function">weaken</a> <a id="926" class="Symbol">{</a><a id="927" class="Argument">lb</a> <a id="930" class="Symbol">=</a> <a id="932" href="Data.List.Mapping.html#932" class="Bound">lb</a><a id="934" class="Symbol">}</a> <a id="936" class="Symbol">{</a><a id="937" class="Argument">x</a> <a id="939" class="Symbol">=</a> <a id="941" href="Data.List.Mapping.html#941" class="Bound">x</a><a id="942" class="Symbol">}</a> <a id="944" class="Symbol">(</a><a id="945" href="Data.List.Mapping.html#945" class="Bound">k</a> <a id="947" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="949" href="Data.List.Mapping.html#949" class="Bound">val</a> <a id="953" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="955" href="Data.List.Mapping.html#955" class="Bound">xs</a><a id="957" class="Symbol">)</a> <a id="959" class="Symbol">=</a> <a id="961" href="Data.List.Mapping.html#945" class="Bound">k</a> <a id="963" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="965" href="Data.List.Mapping.html#949" class="Bound">val</a> <a id="969" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="971" href="Data.List.Mapping.html#955" class="Bound">xs</a>
  <a id="976" class="Keyword">where</a>
    <a id="986" class="Keyword">instance</a>
      <a id="1001" href="Data.List.Mapping.html#1001" class="Function">p</a> <a id="1003" class="Symbol">:</a> <a id="1005" href="Data.List.Mapping.html#932" class="Bound">lb</a> <a id="1008" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">&lt;⌊</a> <a id="1011" href="Data.List.Mapping.html#945" class="Bound">k</a> <a id="1013" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">⌋</a>
      <a id="1021" href="Data.List.Mapping.html#1001" class="Function">p</a> <a id="1023" class="Symbol">=</a> <a id="1025" href="Relation.Binary.html#2809" class="Function">&lt;-trans</a> <a id="1033" class="Symbol">{</a><a id="1034" class="Argument">x</a> <a id="1036" class="Symbol">=</a> <a id="1038" href="Data.List.Mapping.html#932" class="Bound">lb</a><a id="1040" class="Symbol">}</a> <a id="1042" class="Symbol">{</a><a id="1043" class="Argument">y</a> <a id="1045" class="Symbol">=</a> <a id="1047" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="1049" href="Data.List.Mapping.html#941" class="Bound">x</a> <a id="1051" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a><a id="1052" class="Symbol">}</a> <a id="1054" class="Symbol">{</a><a id="1055" class="Argument">z</a> <a id="1057" class="Symbol">=</a> <a id="1059" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌊</a> <a id="1061" href="Data.List.Mapping.html#945" class="Bound">k</a> <a id="1063" href="Relation.Binary.Construct.LowerBound.html#378" class="InductiveConstructor Operator">⌋</a><a id="1064" class="Symbol">}</a> <a id="1066" href="Instance.html#79" class="Function">it</a> <a id="1069" href="Instance.html#79" class="Function">it</a>

<a id="1073" class="Keyword">module</a> <a id="1080" href="Data.List.Mapping.html#1080" class="Module">_</a> <a id="1082" class="Symbol">{</a><a id="1083" href="Data.List.Mapping.html#1083" class="Bound">v</a><a id="1084" class="Symbol">}</a> <a id="1086" class="Symbol">{</a><a id="1087" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1091" class="Symbol">:</a> <a id="1093" href="Data.List.Mapping.html#137" class="Bound">K</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Level.html#192" class="Function">Type</a> <a id="1102" href="Data.List.Mapping.html#1083" class="Bound">v</a><a id="1103" class="Symbol">}</a> <a id="1105" class="Keyword">where</a>
  <a id="1113" href="Data.List.Mapping.html#1113" class="Function">lookup</a> <a id="1120" class="Symbol">:</a> <a id="1122" class="Symbol">(</a><a id="1123" href="Data.List.Mapping.html#1123" class="Bound">k</a> <a id="1125" class="Symbol">:</a> <a id="1127" href="Data.List.Mapping.html#137" class="Bound">K</a><a id="1128" class="Symbol">)</a> <a id="1130" class="Symbol">⦃</a> <a id="1132" href="Data.List.Mapping.html#1132" class="Bound">inBounds</a> <a id="1141" class="Symbol">:</a> <a id="1143" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1146" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">&lt;⌊</a> <a id="1149" href="Data.List.Mapping.html#1123" class="Bound">k</a> <a id="1151" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">⌋</a> <a id="1153" class="Symbol">⦄</a> <a id="1155" class="Symbol">→</a> <a id="1157" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="1165" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1168" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1172" class="Symbol">→</a> <a id="1174" href="Data.Maybe.Base.html#91" class="Datatype">Maybe</a> <a id="1180" class="Symbol">(</a><a id="1181" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1185" href="Data.List.Mapping.html#1123" class="Bound">k</a><a id="1186" class="Symbol">)</a>
  <a id="1190" href="Data.List.Mapping.html#1113" class="Function">lookup</a> <a id="1197" href="Data.List.Mapping.html#1197" class="Bound">k</a> <a id="1199" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a> <a id="1201" class="Symbol">=</a> <a id="1203" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a>
  <a id="1213" href="Data.List.Mapping.html#1113" class="Function">lookup</a> <a id="1220" href="Data.List.Mapping.html#1220" class="Bound">k₁</a> <a id="1223" class="Symbol">(</a><a id="1224" href="Data.List.Mapping.html#1224" class="Bound">k₂</a> <a id="1227" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1229" href="Data.List.Mapping.html#1229" class="Bound">v</a> <a id="1231" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1233" href="Data.List.Mapping.html#1233" class="Bound">xs</a><a id="1235" class="Symbol">)</a> <a id="1237" class="Symbol">=</a> <a id="1239" href="Relation.Binary.html#3596" class="Function Operator">comparing</a> <a id="1249" href="Data.List.Mapping.html#1220" class="Bound">k₁</a> <a id="1252" href="Relation.Binary.html#3596" class="Function Operator">∙</a> <a id="1254" href="Data.List.Mapping.html#1224" class="Bound">k₂</a>
     <a id="1262" href="Relation.Binary.html#3596" class="Function Operator">|&lt;</a> <a id="1265" href="Data.Maybe.Base.html#127" class="InductiveConstructor">nothing</a>
     <a id="1278" href="Relation.Binary.html#3596" class="Function Operator">|≡</a> <a id="1281" href="Data.Maybe.Base.html#148" class="InductiveConstructor">just</a> <a id="1286" class="Symbol">(</a><a id="1287" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="1293" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1297" class="Symbol">(</a><a id="1298" href="Cubical.Foundations.Id.html#713" class="Function">sym</a> <a id="1302" href="Instance.html#79" class="Function">it</a><a id="1304" class="Symbol">)</a> <a id="1306" href="Data.List.Mapping.html#1229" class="Bound">v</a><a id="1307" class="Symbol">)</a>
     <a id="1314" href="Relation.Binary.html#3596" class="Function Operator">|&gt;</a> <a id="1317" href="Data.List.Mapping.html#1113" class="Function">lookup</a> <a id="1324" href="Data.List.Mapping.html#1220" class="Bound">k₁</a> <a id="1327" href="Data.List.Mapping.html#1233" class="Bound">xs</a>

  <a id="1333" class="Keyword">infixl</a> <a id="1340" class="Number">4</a> <a id="1342" href="Data.List.Mapping.html#1113" class="Function">lookup</a>
  <a id="1351" class="Keyword">syntax</a> <a id="1358" href="Data.List.Mapping.html#1113" class="Function">lookup</a> <a id="1365" class="Bound">k</a> <a id="1367" class="Bound">xs</a> <a id="1370" class="Symbol">=</a> <a id="1372" class="Bound">xs</a> <a id="1375" class="Function">[</a> <a id="1377" class="Bound">k</a> <a id="1379" class="Function">]</a>

  <a id="1384" href="Data.List.Mapping.html#1384" class="Function">insert</a> <a id="1391" class="Symbol">:</a> <a id="1393" class="Symbol">(</a><a id="1394" href="Data.List.Mapping.html#1394" class="Bound">k</a> <a id="1396" class="Symbol">:</a> <a id="1398" href="Data.List.Mapping.html#137" class="Bound">K</a><a id="1399" class="Symbol">)</a> <a id="1401" class="Symbol">⦃</a> <a id="1403" href="Data.List.Mapping.html#1403" class="Bound">inBounds</a> <a id="1412" class="Symbol">:</a> <a id="1414" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1417" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">&lt;⌊</a> <a id="1420" href="Data.List.Mapping.html#1394" class="Bound">k</a> <a id="1422" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">⌋</a> <a id="1424" class="Symbol">⦄</a> <a id="1426" class="Symbol">→</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Data.List.Mapping.html#1429" class="Bound">val</a> <a id="1433" class="Symbol">:</a> <a id="1435" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1439" href="Data.List.Mapping.html#1394" class="Bound">k</a><a id="1440" class="Symbol">)</a> <a id="1442" class="Symbol">→</a> <a id="1444" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="1452" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1455" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1459" class="Symbol">→</a> <a id="1461" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="1469" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1472" href="Data.List.Mapping.html#1087" class="Bound">Val</a>
  <a id="1478" href="Data.List.Mapping.html#1384" class="Function">insert</a> <a id="1485" href="Data.List.Mapping.html#1485" class="Bound">k₁</a> <a id="1488" href="Data.List.Mapping.html#1488" class="Bound">v₁</a> <a id="1491" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a> <a id="1493" class="Symbol">=</a> <a id="1495" href="Data.List.Mapping.html#1485" class="Bound">k₁</a> <a id="1498" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1500" href="Data.List.Mapping.html#1488" class="Bound">v₁</a> <a id="1503" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1505" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a>
  <a id="1509" href="Data.List.Mapping.html#1384" class="Function">insert</a> <a id="1516" href="Data.List.Mapping.html#1516" class="Bound">k₁</a> <a id="1519" href="Data.List.Mapping.html#1519" class="Bound">v₁</a> <a id="1522" class="Symbol">(</a><a id="1523" href="Data.List.Mapping.html#1523" class="Bound">k₂</a> <a id="1526" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1528" href="Data.List.Mapping.html#1528" class="Bound">v₂</a> <a id="1531" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1533" href="Data.List.Mapping.html#1533" class="Bound">xs</a><a id="1535" class="Symbol">)</a> <a id="1537" class="Symbol">=</a>
    <a id="1543" href="Relation.Binary.html#3596" class="Function Operator">comparing</a> <a id="1553" href="Data.List.Mapping.html#1516" class="Bound">k₁</a> <a id="1556" href="Relation.Binary.html#3596" class="Function Operator">∙</a> <a id="1558" href="Data.List.Mapping.html#1523" class="Bound">k₂</a>
      <a id="1567" href="Relation.Binary.html#3596" class="Function Operator">|&lt;</a> <a id="1570" href="Data.List.Mapping.html#1516" class="Bound">k₁</a> <a id="1573" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1575" href="Data.List.Mapping.html#1519" class="Bound">v₁</a> <a id="1578" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1580" href="Data.List.Mapping.html#1523" class="Bound">k₂</a> <a id="1583" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1585" href="Data.List.Mapping.html#1528" class="Bound">v₂</a> <a id="1588" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1590" href="Data.List.Mapping.html#1533" class="Bound">xs</a>
      <a id="1599" href="Relation.Binary.html#3596" class="Function Operator">|≡</a> <a id="1602" href="Data.List.Mapping.html#1523" class="Bound">k₂</a> <a id="1605" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1607" href="Cubical.Foundations.Prelude.html#6151" class="Function">subst</a> <a id="1613" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1617" href="Instance.html#79" class="Function">it</a> <a id="1620" href="Data.List.Mapping.html#1519" class="Bound">v₁</a> <a id="1623" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1625" href="Data.List.Mapping.html#1533" class="Bound">xs</a>
      <a id="1634" href="Relation.Binary.html#3596" class="Function Operator">|&gt;</a> <a id="1637" href="Data.List.Mapping.html#1523" class="Bound">k₂</a> <a id="1640" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1642" href="Data.List.Mapping.html#1528" class="Bound">v₂</a> <a id="1645" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1647" href="Data.List.Mapping.html#1384" class="Function">insert</a> <a id="1654" href="Data.List.Mapping.html#1516" class="Bound">k₁</a> <a id="1657" href="Data.List.Mapping.html#1519" class="Bound">v₁</a> <a id="1660" href="Data.List.Mapping.html#1533" class="Bound">xs</a>

  <a id="1666" class="Keyword">infixl</a> <a id="1673" class="Number">4</a> <a id="1675" href="Data.List.Mapping.html#1384" class="Function">insert</a>
  <a id="1684" class="Keyword">syntax</a> <a id="1691" href="Data.List.Mapping.html#1384" class="Function">insert</a> <a id="1698" class="Bound">k</a> <a id="1700" class="Bound">v</a> <a id="1702" class="Bound">xs</a> <a id="1705" class="Symbol">=</a> <a id="1707" class="Bound">xs</a> <a id="1710" class="Function">[</a> <a id="1712" class="Bound">k</a> <a id="1714" class="Function">]≔</a> <a id="1717" class="Bound">v</a>

  <a id="1722" href="Data.List.Mapping.html#1722" class="Function">delete</a> <a id="1729" class="Symbol">:</a> <a id="1731" class="Symbol">(</a><a id="1732" href="Data.List.Mapping.html#1732" class="Bound">k</a> <a id="1734" class="Symbol">:</a> <a id="1736" href="Data.List.Mapping.html#137" class="Bound">K</a><a id="1737" class="Symbol">)</a> <a id="1739" class="Symbol">⦃</a> <a id="1741" href="Data.List.Mapping.html#1741" class="Bound">inBounds</a> <a id="1750" class="Symbol">:</a> <a id="1752" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1755" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">&lt;⌊</a> <a id="1758" href="Data.List.Mapping.html#1732" class="Bound">k</a> <a id="1760" href="Relation.Binary.Construct.LowerBound.html#532" class="Function Operator">⌋</a> <a id="1762" class="Symbol">⦄</a> <a id="1764" class="Symbol">→</a> <a id="1766" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="1774" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1777" href="Data.List.Mapping.html#1087" class="Bound">Val</a> <a id="1781" class="Symbol">→</a> <a id="1783" href="Data.List.Mapping.html#612" class="Datatype">MapFrom</a> <a id="1791" href="Data.List.Mapping.html#824" class="Generalizable">lb</a> <a id="1794" href="Data.List.Mapping.html#1087" class="Bound">Val</a>
  <a id="1800" href="Data.List.Mapping.html#1722" class="Function">delete</a> <a id="1807" href="Data.List.Mapping.html#1807" class="Bound">k₁</a> <a id="1810" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a> <a id="1812" class="Symbol">=</a> <a id="1814" href="Data.List.Mapping.html#685" class="InductiveConstructor">∅</a>
  <a id="1818" href="Data.List.Mapping.html#1722" class="Function">delete</a> <a id="1825" href="Data.List.Mapping.html#1825" class="Bound">k₁</a> <a id="1828" class="Symbol">(</a><a id="1829" href="Data.List.Mapping.html#1829" class="Bound">k₂</a> <a id="1832" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1834" href="Data.List.Mapping.html#1834" class="Bound">v₂</a> <a id="1837" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1839" href="Data.List.Mapping.html#1839" class="Bound">xs</a><a id="1841" class="Symbol">)</a> <a id="1843" class="Symbol">=</a> <a id="1845" href="Relation.Binary.html#3596" class="Function Operator">comparing</a> <a id="1855" href="Data.List.Mapping.html#1825" class="Bound">k₁</a> <a id="1858" href="Relation.Binary.html#3596" class="Function Operator">∙</a> <a id="1860" href="Data.List.Mapping.html#1829" class="Bound">k₂</a>
      <a id="1869" href="Relation.Binary.html#3596" class="Function Operator">|&lt;</a> <a id="1872" href="Data.List.Mapping.html#1829" class="Bound">k₂</a> <a id="1875" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1877" href="Data.List.Mapping.html#1834" class="Bound">v₂</a> <a id="1880" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1882" href="Data.List.Mapping.html#1839" class="Bound">xs</a>
      <a id="1891" href="Relation.Binary.html#3596" class="Function Operator">|≡</a> <a id="1894" href="Data.List.Mapping.html#834" class="Function">weaken</a> <a id="1901" href="Data.List.Mapping.html#1839" class="Bound">xs</a>
      <a id="1910" href="Relation.Binary.html#3596" class="Function Operator">|&gt;</a> <a id="1913" href="Data.List.Mapping.html#1829" class="Bound">k₂</a> <a id="1916" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">≔</a> <a id="1918" href="Data.List.Mapping.html#1834" class="Bound">v₂</a> <a id="1921" href="Data.List.Mapping.html#706" class="InductiveConstructor Operator">,</a> <a id="1923" href="Data.List.Mapping.html#1722" class="Function">delete</a> <a id="1930" href="Data.List.Mapping.html#1825" class="Bound">k₁</a> <a id="1933" href="Data.List.Mapping.html#1839" class="Bound">xs</a>

  <a id="1939" class="Keyword">infixl</a> <a id="1946" class="Number">4</a> <a id="1948" href="Data.List.Mapping.html#1722" class="Function">delete</a>
  <a id="1957" class="Keyword">syntax</a> <a id="1964" href="Data.List.Mapping.html#1722" class="Function">delete</a> <a id="1971" class="Bound">k</a> <a id="1973" class="Bound">xs</a> <a id="1976" class="Symbol">=</a> <a id="1978" class="Bound">xs</a> <a id="1981" class="Function">[</a> <a id="1983" class="Bound">k</a> <a id="1985" class="Function">]∅</a>

  <a id="1991" class="Comment">-- open import Lens</a>
  <a id="2013" class="Comment">-- open import Lens.Operators</a>

<a id="2044" class="Comment">--   lookup-delete : (k : K) ⦃ inBounds : lb &lt;⌊ k ⌋ ⦄ → (xs : MapFrom lb Val) → lookup k (delete k xs) ≡ nothing</a>
<a id="2157" class="Comment">--   lookup-delete _ ∅ = refl</a>
<a id="2187" class="Comment">--   lookup-delete k₁ (k₂ ≔ v , xs) with compare′ k₁ k₂ | inspect (compare′ k₁) k₂</a>
<a id="2270" class="Comment">--   lookup-delete k₁ (k₂ ≔ v , xs) | lt′ | 〖 p 〗 = {!!}</a>
<a id="2327" class="Comment">--   lookup-delete k₁ (k₂ ≔ v , xs) | eq′ | p = {!!}</a>
<a id="2380" class="Comment">--   lookup-delete k₁ (k₂ ≔ v , xs) | gt′ | p = {!!}</a>

<a id="2434" class="Comment">--   delete-delete : (k : K) → ⦃ inBounds : lb &lt;⌊ k ⌋ ⦄ → (xs : MapFrom lb Val) → delete k (delete k xs) ≡ delete k xs</a>
<a id="2553" class="Comment">--   delete-delete k₁ ∅ = refl</a>
<a id="2584" class="Comment">--   delete-delete k₁ (k₂ ≔ v , xs) with compare k₁ k₂ | inspect (compare k₁) k₂</a>
<a id="2665" class="Comment">--   delete-delete k₁ (k₂ ≔ v , xs) | lt q | 〖 p 〗 = {!!}</a>
<a id="2723" class="Comment">--   delete-delete k₁ (k₂ ≔ v , xs) | eq q | 〖 p 〗 = {!!}</a>
<a id="2781" class="Comment">--   delete-delete k₁ (k₂ ≔ v , xs) | gt q | 〖 p 〗 = {!!}</a>


<a id="2841" class="Comment">--   ! : (k : K) → ⦃ inBounds : lb &lt;⌊ k ⌋ ⦄ → Lens (MapFrom lb Val) (Maybe (Val k))</a>
<a id="2925" class="Comment">--   ! k .into xs .get = lookup k xs</a>
<a id="2962" class="Comment">--   ! k .into xs .set (just v) = insert k v xs</a>
<a id="3010" class="Comment">--   ! k .into xs .set nothing  = delete k xs</a>
<a id="3056" class="Comment">--   ! k .get-set s nothing  = {!!}</a>
<a id="3092" class="Comment">--   ! k .get-set s (just x) = {!!}</a>
<a id="3128" class="Comment">--   ! k .set-get s = {!!}</a>
<a id="3155" class="Comment">--   ! k .set-set s nothing nothing = {!!}</a>
<a id="3198" class="Comment">--   ! k .set-set s nothing (just x) = {!!}</a>
<a id="3242" class="Comment">--   ! k .set-set s (just x) nothing = {!!}</a>
<a id="3286" class="Comment">--   ! k .set-set s (just x) (just y) = {!!}</a>


<a id="3333" class="Comment">-- -- -- module _ {v} {Val : K → Type v} where</a>
<a id="3380" class="Comment">-- -- --  mutual</a>
<a id="3397" class="Comment">-- -- --   viewSing : (k₁ k₂ : K) ⦃ inBounds₁ : lb &lt;⌊ k₁ ⌋ ⦄ ⦃ inBounds₂ : lb &lt;⌊ k₂ ⌋ ⦄ →</a>
<a id="3487" class="Comment">-- -- --             (val : Val k₂) →</a>
<a id="3525" class="Comment">-- -- --             (xs : MapFrom ⌊ k₂ ⌋ Val) →</a>
<a id="3574" class="Comment">-- -- --             InstOrdering k₁ k₂ →</a>
<a id="3616" class="Comment">-- -- --             LensPart (MapFrom lb Val) (Maybe (Val k₁))</a>
<a id="3680" class="Comment">-- -- --   viewSing k₁ k₂ val xs lt′ .get = nothing</a>
<a id="3732" class="Comment">-- -- --   viewSing k₁ k₂ val xs lt′ .set nothing = k₂ ≔ val , xs</a>
<a id="3798" class="Comment">-- -- --   viewSing k₁ k₂ val xs lt′ .set (just x) = k₁ ≔ x , k₂ ≔ val , xs</a>
<a id="3874" class="Comment">-- -- --   viewSing k₁ k₂ val xs eq′ .get = just (subst Val (sym it) val)</a>
<a id="3948" class="Comment">-- -- --   viewSing k₁ k₂ val xs eq′ .set nothing = weaken xs</a>
<a id="4010" class="Comment">-- -- --   viewSing k₁ k₂ val xs eq′ .set (just x) = k₂ ≔ (subst Val it x) , xs</a>
<a id="4090" class="Comment">-- -- --   viewSing k₁ k₂ val xs gt′ = map-lens-part (view k₁ xs) (k₂ ≔ val ,_)</a>

<a id="4171" class="Comment">-- -- --   view : (k : K) → ⦃ inBounds : lb &lt;⌊ k ⌋ ⦄ → MapFrom lb Val → LensPart (MapFrom lb Val) (Maybe (Val k))</a>
<a id="4285" class="Comment">-- -- --   view k₁ ∅ .get = nothing</a>
<a id="4321" class="Comment">-- -- --   view k₁ ∅ .set nothing = ∅</a>
<a id="4359" class="Comment">-- -- --   view k₁ ∅ .set (just x) = k₁ ≔ x , ∅</a>
<a id="4407" class="Comment">-- -- --   view k₁ (k₂ ≔ v , xs) = viewSing k₁ k₂ v xs (compare′ k₁ k₂)</a>

<a id="4480" class="Comment">-- -- -- open import Cubical.Foundations.Prelude using (substRefl)</a>
<a id="4547" class="Comment">-- -- -- open import Path.Reasoning</a>


<a id="4585" class="Comment">-- -- -- -- module _ {v} {Val : K → Type v} where</a>
<a id="4635" class="Comment">-- -- -- --   view-get-set : (k : K) (s : MapFrom lb Val) (v : Maybe (Val k)) → ⦃ _ : lb &lt;⌊ k ⌋ ⦄ → view k (view k s .set v) .get ≡ v</a>
<a id="4769" class="Comment">-- -- -- --   view-get-set k₁ ∅ nothing = refl</a>
<a id="4816" class="Comment">-- -- -- --   view-get-set k₁ ∅ (just x) with compare k₁ k₁</a>
<a id="4876" class="Comment">-- -- -- --   view-get-set k₁ ∅ (just x) | lt p = ⊥-elim (irrefl p refl)</a>
<a id="4949" class="Comment">-- -- -- --   view-get-set k₁ ∅ (just x) | eq _ = cong just (cong (λ p → subst Val p x) (total⇒isSet  _ _ _ _) ; substRefl {B = Val} x)</a>
<a id="5085" class="Comment">-- -- -- --   view-get-set k₁ ∅ (just x) | gt p = ⊥-elim (irrefl p refl)</a>

<a id="5159" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) v with compare′ k₁ k₂ | inspect (compare′ k₁) k₂</a>
<a id="5253" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) nothing  | lt′ | 〖 q 〗 = cong (get ∘ viewSing k₁ k₂ val s) q</a>
<a id="5359" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) (just v) | lt′ | _ = {!!}</a>
<a id="5430" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) nothing  | eq′ | _ = {!!}</a>
<a id="5501" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) (just v) | eq′ | _ = {!!}</a>
<a id="5572" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) nothing  | gt′ | _ = {!!}</a>
<a id="5643" class="Comment">-- -- --   -- view-get-set k₁ (k₂ ≔ val , s) (just v) | gt′ | 〖 q 〗 =</a>
<a id="5713" class="Comment">-- -- --   --   viewSing k₁ k₂ val (set (view k₁ s) (just v)) (compare′ k₁ k₂) .get ≡⟨ cong (get ∘ viewSing k₁ k₂ val (set (view k₁ s) (just v))) q ⟩</a>
<a id="5863" class="Comment">-- -- --   --   viewSing k₁ k₂ val (set (view k₁ s) (just v)) gt′  .get ≡⟨ {!!} ⟩</a>
<a id="5945" class="Comment">-- -- --   --   just v ∎</a>


</pre></body></html>