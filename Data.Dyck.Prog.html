<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Dyck.Prog</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--safe</a> <a id="30" class="Pragma">--postfix-projections</a> <a id="52" class="Symbol">#-}</a>

<a id="57" class="Comment">-- This file contains an implementation of the stack-based compiler for Hutton&#39;s</a>
<a id="138" class="Comment">-- razor, as from:</a>
<a id="157" class="Comment">--</a>
<a id="160" class="Comment">--   P. Bahr and G. Hutton, “Calculating correct compilers,” Journal of</a>
<a id="232" class="Comment">--   Functional Programming, vol. 25, no. e14, Sep. 2015,</a>
<a id="290" class="Comment">--   doi: 10.1017/S0956796815000180.</a>
<a id="327" class="Comment">--</a>
<a id="330" class="Comment">-- The compiler is total and the evaluator is stack-safe, and furthermore we have</a>
<a id="412" class="Comment">-- proven a full isomorphism between the code representation and the AST.</a>

<a id="487" class="Keyword">module</a> <a id="494" href="Data.Dyck.Prog.html" class="Module">Data.Dyck.Prog</a> <a id="509" class="Keyword">where</a>

<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Prelude.html" class="Module">Prelude</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="557" class="Keyword">using</a> <a id="563" class="Symbol">(</a><a id="564" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="567" class="Symbol">)</a>
<a id="569" class="Keyword">open</a> <a id="574" class="Keyword">import</a> <a id="581" href="Data.Vec.Iterated.html" class="Module">Data.Vec.Iterated</a> <a id="599" class="Keyword">using</a> <a id="605" class="Symbol">(</a><a id="606" href="Data.Vec.Iterated.html#218" class="Function">Vec</a><a id="609" class="Symbol">;</a> <a id="611" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">_∷_</a><a id="614" class="Symbol">;</a> <a id="616" href="Data.Vec.Iterated.html#364" class="InductiveConstructor">[]</a><a id="618" class="Symbol">;</a> <a id="620" href="Data.Vec.Iterated.html#978" class="Function">foldlN</a><a id="626" class="Symbol">;</a> <a id="628" href="Data.Vec.Iterated.html#504" class="Field">head</a><a id="632" class="Symbol">)</a>

<a id="635" class="Keyword">private</a> <a id="643" class="Keyword">variable</a> <a id="652" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a> <a id="654" class="Symbol">:</a> <a id="656" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

<a id="659" class="Comment">--------------------------------------------------------------------------------</a>
<a id="740" class="Comment">-- Language for Arithmetic Expressions</a>
<a id="779" class="Comment">--------------------------------------------------------------------------------</a>

<a id="861" class="Keyword">data</a> <a id="Expr"></a><a id="866" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="871" class="Symbol">:</a> <a id="873" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="878" class="Keyword">where</a>
  <a id="Expr.[_]"></a><a id="886" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">[_]</a> <a id="890" class="Symbol">:</a> <a id="892" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="894" class="Symbol">→</a> <a id="896" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a>
  <a id="Expr._⊕_"></a><a id="903" href="Data.Dyck.Prog.html#903" class="InductiveConstructor Operator">_⊕_</a> <a id="907" class="Symbol">:</a> <a id="909" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="914" class="Symbol">→</a> <a id="916" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="921" class="Symbol">→</a> <a id="923" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a>

<a id="929" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1010" class="Comment">-- Code for the virtual stack machine.</a>
<a id="1049" class="Comment">--------------------------------------------------------------------------------</a>

<a id="1131" class="Keyword">mutual</a>
  <a id="1140" class="Comment">-- A function from n arguments to m results</a>
  <a id="_⇨_"></a><a id="1186" href="Data.Dyck.Prog.html#1186" class="Function Operator">_⇨_</a> <a id="1190" class="Symbol">:</a> <a id="1192" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1194" class="Symbol">→</a> <a id="1196" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1198" class="Symbol">→</a> <a id="1200" href="Agda.Primitive.html#326" class="Primitive">Type</a>
  <a id="1207" href="Data.Dyck.Prog.html#1207" class="Bound">n</a> <a id="1209" href="Data.Dyck.Prog.html#1186" class="Function Operator">⇨</a> <a id="1211" href="Data.Dyck.Prog.html#1211" class="Bound">m</a> <a id="1213" class="Symbol">=</a> <a id="1215" class="Symbol">∀</a> <a id="1217" class="Symbol">{</a><a id="1218" href="Data.Dyck.Prog.html#1218" class="Bound">i</a><a id="1219" class="Symbol">}</a> <a id="1221" class="Symbol">→</a> <a id="1223" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Data.Dyck.Prog.html#1211" class="Bound">m</a> <a id="1231" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1233" href="Data.Dyck.Prog.html#1218" class="Bound">i</a><a id="1234" class="Symbol">)</a> <a id="1236" class="Symbol">→</a> <a id="1238" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="1243" class="Symbol">(</a><a id="1244" href="Data.Dyck.Prog.html#1207" class="Bound">n</a> <a id="1246" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1248" href="Data.Dyck.Prog.html#1218" class="Bound">i</a><a id="1249" class="Symbol">)</a>

  <a id="1254" class="Keyword">data</a> <a id="Code"></a><a id="1259" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="1264" class="Symbol">:</a> <a id="1266" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1268" class="Symbol">→</a> <a id="1270" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="1275" class="Keyword">where</a>
    <a id="Code.HALT"></a><a id="1285" href="Data.Dyck.Prog.html#1285" class="InductiveConstructor">HALT</a> <a id="1290" class="Symbol">:</a> <a id="1292" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="1297" class="Number">1</a>
    <a id="Code.PUSH"></a><a id="1303" href="Data.Dyck.Prog.html#1303" class="InductiveConstructor">PUSH</a> <a id="1308" class="Symbol">:</a> <a id="1310" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1312" class="Symbol">→</a> <a id="1314" class="Number">0</a> <a id="1316" href="Data.Dyck.Prog.html#1186" class="Function Operator">⇨</a> <a id="1318" class="Number">1</a>
    <a id="Code.ADD"></a><a id="1324" href="Data.Dyck.Prog.html#1324" class="InductiveConstructor">ADD</a>  <a id="1329" class="Symbol">:</a> <a id="1331" class="Number">2</a> <a id="1333" href="Data.Dyck.Prog.html#1186" class="Function Operator">⇨</a> <a id="1335" class="Number">1</a>

<a id="1338" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1419" class="Comment">-- Conversion from a Code to a Expr (evaluation / execution)</a>
<a id="1480" class="Comment">--------------------------------------------------------------------------------</a>

<a id="code→expr⊙"></a><a id="1562" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1573" class="Symbol">:</a> <a id="1575" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="1580" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a> <a id="1582" class="Symbol">→</a> <a id="1584" href="Data.Vec.Iterated.html#218" class="Function">Vec</a> <a id="1588" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="1593" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a> <a id="1595" class="Symbol">→</a> <a id="1597" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a>
<a id="1602" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1613" href="Data.Dyck.Prog.html#1285" class="InductiveConstructor">HALT</a>        <a id="1625" class="Symbol">(</a><a id="1626" href="Data.Dyck.Prog.html#1626" class="Bound">v</a> <a id="1628" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1630" href="Data.Vec.Iterated.html#364" class="InductiveConstructor">[]</a><a id="1632" class="Symbol">)</a>       <a id="1640" class="Symbol">=</a> <a id="1642" href="Data.Dyck.Prog.html#1626" class="Bound">v</a>
<a id="1644" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1655" class="Symbol">(</a><a id="1656" href="Data.Dyck.Prog.html#1303" class="InductiveConstructor">PUSH</a> <a id="1661" href="Data.Dyck.Prog.html#1661" class="Bound">v</a> <a id="1663" href="Data.Dyck.Prog.html#1663" class="Bound">is</a><a id="1665" class="Symbol">)</a> <a id="1667" href="Data.Dyck.Prog.html#1667" class="Bound">st</a>             <a id="1682" class="Symbol">=</a> <a id="1684" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1695" href="Data.Dyck.Prog.html#1663" class="Bound">is</a> <a id="1698" class="Symbol">(</a><a id="1699" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">[</a> <a id="1701" href="Data.Dyck.Prog.html#1661" class="Bound">v</a> <a id="1703" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">]</a> <a id="1705" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1707" href="Data.Dyck.Prog.html#1667" class="Bound">st</a><a id="1709" class="Symbol">)</a>
<a id="1711" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1722" class="Symbol">(</a><a id="1723" href="Data.Dyck.Prog.html#1324" class="InductiveConstructor">ADD</a>    <a id="1730" href="Data.Dyck.Prog.html#1730" class="Bound">is</a><a id="1732" class="Symbol">)</a> <a id="1734" class="Symbol">(</a><a id="1735" href="Data.Dyck.Prog.html#1735" class="Bound">t₁</a> <a id="1738" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1740" href="Data.Dyck.Prog.html#1740" class="Bound">t₂</a> <a id="1743" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1745" href="Data.Dyck.Prog.html#1745" class="Bound">st</a><a id="1747" class="Symbol">)</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1762" href="Data.Dyck.Prog.html#1730" class="Bound">is</a> <a id="1765" class="Symbol">(</a><a id="1766" href="Data.Dyck.Prog.html#1740" class="Bound">t₂</a> <a id="1769" href="Data.Dyck.Prog.html#903" class="InductiveConstructor Operator">⊕</a> <a id="1771" href="Data.Dyck.Prog.html#1735" class="Bound">t₁</a> <a id="1774" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="1776" href="Data.Dyck.Prog.html#1745" class="Bound">st</a><a id="1778" class="Symbol">)</a>

<a id="code→expr"></a><a id="1781" href="Data.Dyck.Prog.html#1781" class="Function">code→expr</a> <a id="1791" class="Symbol">:</a> <a id="1793" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="1798" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a> <a id="1803" class="Symbol">→</a> <a id="1805" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a>
<a id="1810" href="Data.Dyck.Prog.html#1781" class="Function">code→expr</a> <a id="1820" href="Data.Dyck.Prog.html#1820" class="Bound">ds</a> <a id="1823" class="Symbol">=</a> <a id="1825" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="1836" href="Data.Dyck.Prog.html#1820" class="Bound">ds</a> <a id="1839" href="Data.Vec.Iterated.html#364" class="InductiveConstructor">[]</a>

<a id="1843" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1924" class="Comment">-- Conversion from a Expr to a Code (compilation)</a>
<a id="1974" class="Comment">--------------------------------------------------------------------------------</a>

<a id="expr→code⊙"></a><a id="2056" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2067" class="Symbol">:</a> <a id="2069" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="2074" class="Symbol">→</a> <a id="2076" class="Number">0</a> <a id="2078" href="Data.Dyck.Prog.html#1186" class="Function Operator">⇨</a> <a id="2080" class="Number">1</a>
<a id="2082" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2093" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">[</a> <a id="2095" href="Data.Dyck.Prog.html#2095" class="Bound">x</a> <a id="2097" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">]</a>     <a id="2103" class="Symbol">=</a> <a id="2105" href="Data.Dyck.Prog.html#1303" class="InductiveConstructor">PUSH</a> <a id="2110" href="Data.Dyck.Prog.html#2095" class="Bound">x</a>
<a id="2112" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2123" class="Symbol">(</a><a id="2124" href="Data.Dyck.Prog.html#2124" class="Bound">xs</a> <a id="2127" href="Data.Dyck.Prog.html#903" class="InductiveConstructor Operator">⊕</a> <a id="2129" href="Data.Dyck.Prog.html#2129" class="Bound">ys</a><a id="2131" class="Symbol">)</a> <a id="2133" class="Symbol">=</a> <a id="2135" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2146" href="Data.Dyck.Prog.html#2124" class="Bound">xs</a> <a id="2149" href="Function.html#97" class="Function Operator">∘</a> <a id="2151" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2162" href="Data.Dyck.Prog.html#2129" class="Bound">ys</a> <a id="2165" href="Function.html#97" class="Function Operator">∘</a> <a id="2167" href="Data.Dyck.Prog.html#1324" class="InductiveConstructor">ADD</a>

<a id="expr→code"></a><a id="2172" href="Data.Dyck.Prog.html#2172" class="Function">expr→code</a> <a id="2182" class="Symbol">:</a> <a id="2184" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="2196" class="Number">0</a>
<a id="2198" href="Data.Dyck.Prog.html#2172" class="Function">expr→code</a> <a id="2208" href="Data.Dyck.Prog.html#2208" class="Bound">tr</a> <a id="2211" class="Symbol">=</a> <a id="2213" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2224" href="Data.Dyck.Prog.html#2208" class="Bound">tr</a> <a id="2227" href="Data.Dyck.Prog.html#1285" class="InductiveConstructor">HALT</a>

<a id="2233" class="Comment">--------------------------------------------------------------------------------</a>
<a id="2314" class="Comment">-- Proof of isomorphism</a>
<a id="2338" class="Comment">--------------------------------------------------------------------------------</a>

<a id="expr→code→expr⊙"></a><a id="2420" href="Data.Dyck.Prog.html#2420" class="Function">expr→code→expr⊙</a> <a id="2436" class="Symbol">:</a> <a id="2438" class="Symbol">{</a><a id="2439" href="Data.Dyck.Prog.html#2439" class="Bound">is</a> <a id="2442" class="Symbol">:</a> <a id="2444" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="2449" class="Symbol">(</a><a id="2450" class="Number">1</a> <a id="2452" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2454" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a><a id="2455" class="Symbol">)}</a> <a id="2458" class="Symbol">{</a><a id="2459" href="Data.Dyck.Prog.html#2459" class="Bound">st</a> <a id="2462" class="Symbol">:</a> <a id="2464" href="Data.Vec.Iterated.html#218" class="Function">Vec</a> <a id="2468" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="2473" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a><a id="2474" class="Symbol">}</a> <a id="2476" class="Symbol">(</a><a id="2477" href="Data.Dyck.Prog.html#2477" class="Bound">e</a> <a id="2479" class="Symbol">:</a> <a id="2481" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a><a id="2485" class="Symbol">)</a> <a id="2487" class="Symbol">→</a>
  <a id="2491" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="2502" class="Symbol">(</a><a id="2503" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2514" href="Data.Dyck.Prog.html#2477" class="Bound">e</a> <a id="2516" href="Data.Dyck.Prog.html#2439" class="Bound">is</a><a id="2518" class="Symbol">)</a> <a id="2520" href="Data.Dyck.Prog.html#2459" class="Bound">st</a> <a id="2523" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2525" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="2536" href="Data.Dyck.Prog.html#2439" class="Bound">is</a> <a id="2539" class="Symbol">(</a><a id="2540" href="Data.Dyck.Prog.html#2477" class="Bound">e</a> <a id="2542" href="Data.Vec.Iterated.html#484" class="InductiveConstructor Operator">∷</a> <a id="2544" href="Data.Dyck.Prog.html#2459" class="Bound">st</a><a id="2546" class="Symbol">)</a>
<a id="2548" href="Data.Dyck.Prog.html#2420" class="Function">expr→code→expr⊙</a> <a id="2564" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">[</a> <a id="2566" href="Data.Dyck.Prog.html#2566" class="Bound">x</a> <a id="2568" href="Data.Dyck.Prog.html#886" class="InductiveConstructor Operator">]</a>     <a id="2574" class="Symbol">=</a> <a id="2576" href="Cubical.Foundations.Id.html#560" class="Function">refl</a>
<a id="2581" href="Data.Dyck.Prog.html#2420" class="Function">expr→code→expr⊙</a> <a id="2597" class="Symbol">(</a><a id="2598" href="Data.Dyck.Prog.html#2598" class="Bound">xs</a> <a id="2601" href="Data.Dyck.Prog.html#903" class="InductiveConstructor Operator">⊕</a> <a id="2603" href="Data.Dyck.Prog.html#2603" class="Bound">ys</a><a id="2605" class="Symbol">)</a> <a id="2607" class="Symbol">=</a> <a id="2609" href="Data.Dyck.Prog.html#2420" class="Function">expr→code→expr⊙</a> <a id="2625" href="Data.Dyck.Prog.html#2598" class="Bound">xs</a> <a id="2628" href="Cubical.Foundations.Id.html#737" class="Function Operator">;</a> <a id="2630" href="Data.Dyck.Prog.html#2420" class="Function">expr→code→expr⊙</a> <a id="2646" href="Data.Dyck.Prog.html#2603" class="Bound">ys</a>

<a id="code→expr→code⊙"></a><a id="2650" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a> <a id="2666" class="Symbol">:</a> <a id="2668" class="Symbol">{</a><a id="2669" href="Data.Dyck.Prog.html#2669" class="Bound">st</a> <a id="2672" class="Symbol">:</a> <a id="2674" href="Data.Vec.Iterated.html#218" class="Function">Vec</a> <a id="2678" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a> <a id="2683" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a><a id="2684" class="Symbol">}</a> <a id="2686" class="Symbol">(</a><a id="2687" href="Data.Dyck.Prog.html#2687" class="Bound">is</a> <a id="2690" class="Symbol">:</a> <a id="2692" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="2697" href="Data.Dyck.Prog.html#652" class="Generalizable">n</a><a id="2698" class="Symbol">)</a> <a id="2700" class="Symbol">→</a>
 <a id="2703" href="Data.Dyck.Prog.html#2172" class="Function">expr→code</a> <a id="2713" class="Symbol">(</a><a id="2714" href="Data.Dyck.Prog.html#1562" class="Function">code→expr⊙</a> <a id="2725" href="Data.Dyck.Prog.html#2687" class="Bound">is</a> <a id="2728" href="Data.Dyck.Prog.html#2669" class="Bound">st</a><a id="2730" class="Symbol">)</a> <a id="2732" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2734" href="Data.Vec.Iterated.html#978" class="Function">foldlN</a> <a id="2741" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="2746" class="Symbol">(λ</a> <a id="2749" href="Data.Dyck.Prog.html#2749" class="Bound">x</a> <a id="2751" href="Data.Dyck.Prog.html#2751" class="Bound">xs</a> <a id="2754" class="Symbol">→</a> <a id="2756" href="Data.Dyck.Prog.html#2056" class="Function">expr→code⊙</a> <a id="2767" href="Data.Dyck.Prog.html#2749" class="Bound">x</a> <a id="2769" href="Data.Dyck.Prog.html#2751" class="Bound">xs</a><a id="2771" class="Symbol">)</a> <a id="2773" href="Data.Dyck.Prog.html#2687" class="Bound">is</a> <a id="2776" href="Data.Dyck.Prog.html#2669" class="Bound">st</a>
<a id="2779" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a>  <a id="2796" href="Data.Dyck.Prog.html#1285" class="InductiveConstructor">HALT</a>       <a id="2807" class="Symbol">=</a> <a id="2809" href="Cubical.Foundations.Id.html#560" class="Function">refl</a>
<a id="2814" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a> <a id="2830" class="Symbol">(</a><a id="2831" href="Data.Dyck.Prog.html#1303" class="InductiveConstructor">PUSH</a> <a id="2836" href="Data.Dyck.Prog.html#2836" class="Bound">i</a> <a id="2838" href="Data.Dyck.Prog.html#2838" class="Bound">is</a><a id="2840" class="Symbol">)</a> <a id="2842" class="Symbol">=</a> <a id="2844" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a> <a id="2860" href="Data.Dyck.Prog.html#2838" class="Bound">is</a>
<a id="2863" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a> <a id="2879" class="Symbol">(</a><a id="2880" href="Data.Dyck.Prog.html#1324" class="InductiveConstructor">ADD</a>    <a id="2887" href="Data.Dyck.Prog.html#2887" class="Bound">is</a><a id="2889" class="Symbol">)</a> <a id="2891" class="Symbol">=</a> <a id="2893" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a> <a id="2909" href="Data.Dyck.Prog.html#2887" class="Bound">is</a>

<a id="prog-iso"></a><a id="2913" href="Data.Dyck.Prog.html#2913" class="Function">prog-iso</a> <a id="2922" class="Symbol">:</a> <a id="2924" href="Data.Dyck.Prog.html#1259" class="Datatype">Code</a> <a id="2929" class="Number">0</a> <a id="2931" href="Function.Isomorphism.html#338" class="Function Operator">⇔</a> <a id="2933" href="Data.Dyck.Prog.html#866" class="Datatype">Expr</a>
<a id="2938" href="Data.Dyck.Prog.html#2913" class="Function">prog-iso</a> <a id="2947" class="Symbol">.</a><a id="2948" href="Cubical.Foundations.Isomorphism.html#882" class="Field">fun</a> <a id="2952" class="Symbol">=</a> <a id="2954" href="Data.Dyck.Prog.html#1781" class="Function">code→expr</a>
<a id="2964" href="Data.Dyck.Prog.html#2913" class="Function">prog-iso</a> <a id="2973" class="Symbol">.</a><a id="2974" href="Cubical.Foundations.Isomorphism.html#898" class="Field">inv</a> <a id="2978" class="Symbol">=</a> <a id="2980" href="Data.Dyck.Prog.html#2172" class="Function">expr→code</a>
<a id="2990" href="Data.Dyck.Prog.html#2913" class="Function">prog-iso</a> <a id="2999" class="Symbol">.</a><a id="3000" href="Cubical.Foundations.Isomorphism.html#914" class="Field">rightInv</a> <a id="3009" class="Symbol">=</a> <a id="3011" href="Data.Dyck.Prog.html#2420" class="Function">expr→code→expr⊙</a>
<a id="3027" href="Data.Dyck.Prog.html#2913" class="Function">prog-iso</a> <a id="3036" class="Symbol">.</a><a id="3037" href="Cubical.Foundations.Isomorphism.html#945" class="Field">leftInv</a>  <a id="3046" class="Symbol">=</a> <a id="3048" href="Data.Dyck.Prog.html#2650" class="Function">code→expr→code⊙</a>
</pre></body></html>